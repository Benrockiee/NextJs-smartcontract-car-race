(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{55189:function(a,b,c){"use strict";c.d(b,{RQ:function(){return ah},"_R":function(){return s}});var d,e,f,g,h=c(6881),i=c(1581);let j="abi/5.7.0",k=new i.Yd(j),l={},m={calldata:!0,memory:!0,storage:!0},n={calldata:!0,memory:!0};function o(a,b){if("bytes"===a||"string"===a){if(m[b])return!0}else if("address"===a){if("payable"===b)return!0}else if((a.indexOf("[")>=0||"tuple"===a)&&n[b])return!0;return(m[b]||"payable"===b)&&k.throwArgumentError("invalid modifier","name",b),!1}function p(a,b){for(let c in b)(0,h.zG)(a,c,b[c])}let q=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),r=RegExp(/^(.*)\[([0-9]*)\]$/);class s{constructor(a,b){a!==l&&k.throwError("use fromString",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),p(this,b);let c=this.type.match(r);p(this,c?{arrayLength:parseInt(c[2]||"-1"),arrayChildren:s.fromObject({type:c[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(a){if(a||(a=q.sighash),q[a]||k.throwArgumentError("invalid format type","format",a),a===q.json){let b={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(b.indexed=this.indexed),this.components&&(b.components=this.components.map(b=>JSON.parse(b.format(a)))),JSON.stringify(b)}let c="";return"array"===this.baseType?(c+=this.arrayChildren.format(a),c+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(a!==q.sighash&&(c+=this.type),c+="("+this.components.map(b=>b.format(a)).join(a===q.full?", ":",")+")"):c+=this.type,a!==q.sighash&&(!0===this.indexed&&(c+=" indexed"),a===q.full&&this.name&&(c+=" "+this.name)),c}static from(a,b){return"string"==typeof a?s.fromString(a,b):s.fromObject(a)}static fromObject(a){return s.isParamType(a)?a:new s(l,{name:a.name||null,type:D(a.type),indexed:null==a.indexed?null:!!a.indexed,components:a.components?a.components.map(s.fromObject):null})}static fromString(a,b){var c;return c=function(a,b){let c=a;function d(b){k.throwArgumentError(`unexpected character at position ${b}`,"param",a)}function e(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return b&&(c.indexed=!1),c}a=a.replace(/\s/g," ");let f={type:"",name:"",state:{allowType:!0}},g=f;for(let h=0;h<a.length;h++){let i=a[h];switch(i){case"(":g.state.allowType&&""===g.type?g.type="tuple":g.state.allowParams||d(h),g.state.allowType=!1,g.type=D(g.type),g.components=[e(g)],g=g.components[0];break;case")":delete g.state,"indexed"===g.name&&(b||d(h),g.indexed=!0,g.name=""),o(g.type,g.name)&&(g.name=""),g.type=D(g.type);let j=g;(g=g.parent)||d(h),delete j.parent,g.state.allowParams=!1,g.state.allowName=!0,g.state.allowArray=!0;break;case",":delete g.state,"indexed"===g.name&&(b||d(h),g.indexed=!0,g.name=""),o(g.type,g.name)&&(g.name=""),g.type=D(g.type);let l=e(g.parent);g.parent.components.push(l),delete g.parent,g=l;break;case" ":g.state.allowType&&""!==g.type&&(g.type=D(g.type),delete g.state.allowType,g.state.allowName=!0,g.state.allowParams=!0),g.state.allowName&&""!==g.name&&("indexed"===g.name?(b||d(h),g.indexed&&d(h),g.indexed=!0,g.name=""):o(g.type,g.name)?g.name="":g.state.allowName=!1);break;case"[":g.state.allowArray||d(h),g.type+=i,g.state.allowArray=!1,g.state.allowName=!1,g.state.readArray=!0;break;case"]":g.state.readArray||d(h),g.type+=i,g.state.readArray=!1,g.state.allowArray=!0,g.state.allowName=!0;break;default:g.state.allowType?(g.type+=i,g.state.allowParams=!0,g.state.allowArray=!0):g.state.allowName?(g.name+=i,delete g.state.allowArray):g.state.readArray?g.type+=i:d(h)}}return g.parent&&k.throwArgumentError("unexpected eof","param",a),delete f.state,"indexed"===g.name?(b||d(c.length-7),g.indexed&&d(c.length-7),g.indexed=!0,g.name=""):o(g.type,g.name)&&(g.name=""),f.type=D(f.type),f}(a,!!b),s.fromObject({name:c.name,type:c.type,indexed:c.indexed,components:c.components})}static isParamType(a){return!!(null!=a&&a._isParamType)}}function t(a,b){return G(a).map(a=>s.fromString(a,b))}class u{constructor(a,b){a!==l&&k.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),p(this,b),this._isFragment=!0,Object.freeze(this)}static from(a){return u.isFragment(a)?a:"string"==typeof a?u.fromString(a):u.fromObject(a)}static fromObject(a){if(u.isFragment(a))return a;switch(a.type){case"function":return A.fromObject(a);case"event":return v.fromObject(a);case"constructor":return z.fromObject(a);case"error":return C.fromObject(a);case"fallback":case"receive":return null}return k.throwArgumentError("invalid fragment object","value",a)}static fromString(a){return"event"===(a=(a=(a=a.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?v.fromString(a.substring(5).trim()):"function"===a.split(" ")[0]?A.fromString(a.substring(8).trim()):"constructor"===a.split("(")[0].trim()?z.fromString(a.trim()):"error"===a.split(" ")[0]?C.fromString(a.substring(5).trim()):k.throwArgumentError("unsupported fragment","value",a)}static isFragment(a){return!!(a&&a._isFragment)}}class v extends null{format(a){if(a||(a=q.sighash),q[a]||k.throwArgumentError("invalid format type","format",a),a===q.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let b="";return a!==q.sighash&&(b+="event "),b+=this.name+"("+this.inputs.map(b=>b.format(a)).join(a===q.full?", ":",")+") ",a!==q.sighash&&this.anonymous&&(b+="anonymous "),b.trim()}static from(a){return"string"==typeof a?v.fromString(a):v.fromObject(a)}static fromObject(a){if(v.isEventFragment(a))return a;"event"!==a.type&&k.throwArgumentError("invalid event object","value",a);let b={name:E(a.name),anonymous:a.anonymous,inputs:a.inputs?a.inputs.map(s.fromObject):[],type:"event"};return new v(l,b)}static fromString(a){let b=a.match(F);b||k.throwArgumentError("invalid event string","value",a);let c=!1;return b[3].split(" ").forEach(a=>{switch(a.trim()){case"anonymous":c=!0;break;case"":break;default:k.warn("unknown modifier: "+a)}}),v.fromObject({name:b[1].trim(),anonymous:c,inputs:t(b[2],!0),type:"event"})}static isEventFragment(a){return a&&a._isFragment&&"event"===a.type}}function w(a,b){b.gas=null;let c=a.split("@");return 1!==c.length?(c.length>2&&k.throwArgumentError("invalid human-readable ABI signature","value",a),c[1].match(/^[0-9]+$/)||k.throwArgumentError("invalid human-readable ABI signature gas","value",a),b.gas=BigNumber.from(c[1]),c[0]):a}function x(a,b){b.constant=!1,b.payable=!1,b.stateMutability="nonpayable",a.split(" ").forEach(a=>{switch(a.trim()){case"constant":b.constant=!0;break;case"payable":b.payable=!0,b.stateMutability="payable";break;case"nonpayable":b.payable=!1,b.stateMutability="nonpayable";break;case"pure":b.constant=!0,b.stateMutability="pure";break;case"view":b.constant=!0,b.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+a)}})}function y(a){let b={constant:!1,payable:!0,stateMutability:"payable"};return null!=a.stateMutability?(b.stateMutability=a.stateMutability,b.constant="view"===b.stateMutability||"pure"===b.stateMutability,null!=a.constant&& !!a.constant!==b.constant&&k.throwArgumentError("cannot have constant function with mutability "+b.stateMutability,"value",a),b.payable="payable"===b.stateMutability,null!=a.payable&& !!a.payable!==b.payable&&k.throwArgumentError("cannot have payable function with mutability "+b.stateMutability,"value",a)):null!=a.payable?(b.payable=!!a.payable,null!=a.constant||b.payable||"constructor"===a.type||k.throwArgumentError("unable to determine stateMutability","value",a),b.constant=!!a.constant,b.constant?b.stateMutability="view":b.stateMutability=b.payable?"payable":"nonpayable",b.payable&&b.constant&&k.throwArgumentError("cannot have constant payable function","value",a)):null!=a.constant?(b.constant=!!a.constant,b.payable=!b.constant,b.stateMutability=b.constant?"view":"payable"):"constructor"!==a.type&&k.throwArgumentError("unable to determine stateMutability","value",a),b}class z extends null{format(a){if(a||(a=q.sighash),q[a]||k.throwArgumentError("invalid format type","format",a),a===q.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});a===q.sighash&&k.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let b="constructor("+this.inputs.map(b=>b.format(a)).join(a===q.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(b+=this.stateMutability+" "),b.trim()}static from(a){return"string"==typeof a?z.fromString(a):z.fromObject(a)}static fromObject(a){if(z.isConstructorFragment(a))return a;"constructor"!==a.type&&k.throwArgumentError("invalid constructor object","value",a);let b=y(a);b.constant&&k.throwArgumentError("constructor cannot be constant","value",a);let c={name:null,type:a.type,inputs:a.inputs?a.inputs.map(s.fromObject):[],payable:b.payable,stateMutability:b.stateMutability,gas:a.gas?BigNumber.from(a.gas):null};return new z(l,c)}static fromString(a){let b={type:"constructor"},c=(a=w(a,b)).match(F);return c&&"constructor"===c[1].trim()||k.throwArgumentError("invalid constructor string","value",a),b.inputs=t(c[2].trim(),!1),x(c[3].trim(),b),z.fromObject(b)}static isConstructorFragment(a){return a&&a._isFragment&&"constructor"===a.type}}class A extends null{format(a){if(a||(a=q.sighash),q[a]||k.throwArgumentError("invalid format type","format",a),a===q.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(b=>JSON.parse(b.format(a))),outputs:this.outputs.map(b=>JSON.parse(b.format(a)))});let b="";return a!==q.sighash&&(b+="function "),b+=this.name+"("+this.inputs.map(b=>b.format(a)).join(a===q.full?", ":",")+") ",a!==q.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(b+=this.stateMutability+" "):this.constant&&(b+="view "),this.outputs&&this.outputs.length&&(b+="returns ("+this.outputs.map(b=>b.format(a)).join(", ")+") "),null!=this.gas&&(b+="@"+this.gas.toString()+" ")),b.trim()}static from(a){return"string"==typeof a?A.fromString(a):A.fromObject(a)}static fromObject(a){if(A.isFunctionFragment(a))return a;"function"!==a.type&&k.throwArgumentError("invalid function object","value",a);let b=y(a),c={type:a.type,name:E(a.name),constant:b.constant,inputs:a.inputs?a.inputs.map(s.fromObject):[],outputs:a.outputs?a.outputs.map(s.fromObject):[],payable:b.payable,stateMutability:b.stateMutability,gas:a.gas?BigNumber.from(a.gas):null};return new A(l,c)}static fromString(a){let b={type:"function"},c=(a=w(a,b)).split(" returns ");c.length>2&&k.throwArgumentError("invalid function string","value",a);let d=c[0].match(F);if(d||k.throwArgumentError("invalid function signature","value",a),b.name=d[1].trim(),b.name&&E(b.name),b.inputs=t(d[2],!1),x(d[3].trim(),b),c.length>1){let e=c[1].match(F);(""!=e[1].trim()||""!=e[3].trim())&&k.throwArgumentError("unexpected tokens","value",a),b.outputs=t(e[2],!1)}else b.outputs=[];return A.fromObject(b)}static isFunctionFragment(a){return a&&a._isFragment&&"function"===a.type}}function B(a){let b=a.format();return("Error(string)"===b||"Panic(uint256)"===b)&&k.throwArgumentError(`cannot specify user defined ${b} error`,"fragment",a),a}class C extends null{format(a){if(a||(a=q.sighash),q[a]||k.throwArgumentError("invalid format type","format",a),a===q.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let b="";return a!==q.sighash&&(b+="error "),(b+=this.name+"("+this.inputs.map(b=>b.format(a)).join(a===q.full?", ":",")+") ").trim()}static from(a){return"string"==typeof a?C.fromString(a):C.fromObject(a)}static fromObject(a){if(C.isErrorFragment(a))return a;"error"!==a.type&&k.throwArgumentError("invalid error object","value",a);let b={type:a.type,name:E(a.name),inputs:a.inputs?a.inputs.map(s.fromObject):[]};return B(new C(l,b))}static fromString(a){let b={type:"error"},c=a.match(F);return c||k.throwArgumentError("invalid error signature","value",a),b.name=c[1].trim(),b.name&&E(b.name),b.inputs=t(c[2],!1),B(C.fromObject(b))}static isErrorFragment(a){return a&&a._isFragment&&"error"===a.type}}function D(a){return a.match(/^uint($|[^1-9])/)?a="uint256"+a.substring(4):a.match(/^int($|[^1-9])/)&&(a="int256"+a.substring(3)),a}function E(a){return a&&a.match(null)||k.throwArgumentError(`invalid identifier "${a}"`,"value",a),a}let F=null;function G(a){a=a.trim();let b=[],c="",d=0;for(let e=0;e<a.length;e++){let f=a[e];","===f&&0===d?(b.push(c),c=""):(c+=f,"("===f?d++:")"===f&& -1== --d&&k.throwArgumentError("unbalanced parenthesis","value",a))}return c&&b.push(c),b}var H=c(16441),I=c(2593);let J=new i.Yd(j);class K{constructor(a,b,c,d){this.name=a,this.type=b,this.localName=c,this.dynamic=d}_throwError(a,b){J.throwArgumentError(a,this.localName,b)}}class L{constructor(a){(0,h.zG)(this,"wordSize",a||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(a)}get data(){return(0,H.xs)(this._data)}get length(){return this._dataLength}_writeData(a){return this._data.push(a),this._dataLength+=a.length,a.length}appendWriter(a){return this._writeData((0,H.zo)(a._data))}writeBytes(a){let b=(0,H.lE)(a),c=b.length%this.wordSize;return c&&(b=(0,H.zo)([b,this._padding.slice(c)])),this._writeData(b)}_getValue(a){let b=(0,H.lE)(I.O$.from(a));return b.length>this.wordSize&&J.throwError("value out-of-bounds",i.Yd.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:b.length}),b.length%this.wordSize&&(b=(0,H.zo)([this._padding.slice(b.length%this.wordSize),b])),b}writeValue(a){return this._writeData(this._getValue(a))}writeUpdatableValue(){let a=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,b=>{this._data[a]=this._getValue(b)}}}class M{constructor(a,b,c,d){(0,h.zG)(this,"_data",(0,H.lE)(a)),(0,h.zG)(this,"wordSize",b||32),(0,h.zG)(this,"_coerceFunc",c),(0,h.zG)(this,"allowLoose",d),this._offset=0}get data(){return(0,H.Dv)(this._data)}get consumed(){return this._offset}static coerce(a,b){let c=a.match("^u?int([0-9]+)$");return c&&48>=parseInt(c[1])&&(b=b.toNumber()),b}coerce(a,b){return this._coerceFunc?this._coerceFunc(a,b):M.coerce(a,b)}_peekBytes(a,b,c){let d=Math.ceil(b/this.wordSize)*this.wordSize;return this._offset+d>this._data.length&&(this.allowLoose&&c&&this._offset+b<=this._data.length?d=b:J.throwError("data out-of-bounds",i.Yd.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+d})),this._data.slice(this._offset,this._offset+d)}subReader(a){return new M(this._data.slice(this._offset+a),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(a,b){let c=this._peekBytes(0,a,!!b);return this._offset+=c.length,c.slice(0,a)}readValue(){return I.O$.from(this.readBytes(this.wordSize))}}var N=c(19485);class O extends K{constructor(a){super("address","address",a,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(a,b){try{b=(0,N.Kn)(b)}catch(c){this._throwError(c.message,b)}return a.writeValue(b)}decode(a){return(0,N.Kn)((0,H.$m)(a.readValue().toHexString(),20))}}class P extends K{constructor(a){super(a.name,a.type,void 0,a.dynamic),this.coder=a}defaultValue(){return this.coder.defaultValue()}encode(a,b){return this.coder.encode(a,b)}decode(a){return this.coder.decode(a)}}let Q=new i.Yd(j);function R(a,b,c){let d=null;if(Array.isArray(c))d=c;else if(c&&"object"==typeof c){let e={};d=b.map(a=>{let b=a.localName;return b||Q.throwError("cannot encode object for signature with missing names",i.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:a,value:c}),e[b]&&Q.throwError("cannot encode object for signature with duplicate names",i.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:a,value:c}),e[b]=!0,c[b]})}else Q.throwArgumentError("invalid tuple value","tuple",c);b.length!==d.length&&Q.throwArgumentError("types/value length mismatch","tuple",c);let f=new L(a.wordSize),g=new L(a.wordSize),h=[];b.forEach((a,b)=>{let c=d[b];if(a.dynamic){let e=g.length;a.encode(g,c);let i=f.writeUpdatableValue();h.push(a=>{i(a+e)})}else a.encode(f,c)}),h.forEach(a=>{a(f.length)});let j=a.appendWriter(f);return j+a.appendWriter(g)}function S(a,b){let c=[],d=a.subReader(0);b.forEach(b=>{let e=null;if(b.dynamic){let f=a.readValue(),g=d.subReader(f.toNumber());try{e=b.decode(g)}catch(h){if(h.code===i.Yd.errors.BUFFER_OVERRUN)throw h;(e=h).baseType=b.name,e.name=b.localName,e.type=b.type}}else try{e=b.decode(a)}catch(j){if(j.code===i.Yd.errors.BUFFER_OVERRUN)throw j;(e=j).baseType=b.name,e.name=b.localName,e.type=b.type}void 0!=e&&c.push(e)});let e=b.reduce((a,b)=>{let c=b.localName;return c&&(a[c]||(a[c]=0),a[c]++),a},{});b.forEach((a,b)=>{let d=a.localName;if(!d||1!==e[d]||("length"===d&&(d="_length"),null!=c[d]))return;let f=c[b];f instanceof Error?Object.defineProperty(c,d,{enumerable:!0,get:()=>{throw f}}):c[d]=f});for(let f=0;f<c.length;f++){let g=c[f];g instanceof Error&&Object.defineProperty(c,f,{enumerable:!0,get:()=>{throw g}})}return Object.freeze(c)}class T extends K{constructor(a,b,c){let d=a.type+"["+(b>=0?b:"")+"]",e=-1===b||a.dynamic;super("array",d,c,e),this.coder=a,this.length=b}defaultValue(){let a=this.coder.defaultValue(),b=[];for(let c=0;c<this.length;c++)b.push(a);return b}encode(a,b){Array.isArray(b)||this._throwError("expected array value",b);let c=this.length;-1===c&&(c=b.length,a.writeValue(b.length)),Q.checkArgumentCount(b.length,c,"coder array"+(this.localName?" "+this.localName:""));let d=[];for(let e=0;e<b.length;e++)d.push(this.coder);return R(a,d,b)}decode(a){let b=this.length;-1===b&&32*(b=a.readValue().toNumber())>a._data.length&&Q.throwError("insufficient data length",i.Yd.errors.BUFFER_OVERRUN,{length:a._data.length,count:b});let c=[];for(let d=0;d<b;d++)c.push(new P(this.coder));return a.coerce(this.name,S(a,c))}}class U extends K{constructor(a){super("bool","bool",a,!1)}defaultValue(){return!1}encode(a,b){return a.writeValue(b?1:0)}decode(a){return a.coerce(this.type,!a.readValue().isZero())}}class V extends K{constructor(a,b){super(a,a,b,!0)}defaultValue(){return"0x"}encode(a,b){b=(0,H.lE)(b);let c=a.writeValue(b.length);return c+a.writeBytes(b)}decode(a){return a.readBytes(a.readValue().toNumber(),!0)}}class W extends V{constructor(a){super("bytes",a)}decode(a){return a.coerce(this.name,(0,H.Dv)(super.decode(a)))}}class X extends K{constructor(a,b){let c="bytes"+String(a);super(c,c,b,!1),this.size=a}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(a,b){let c=(0,H.lE)(b);return c.length!==this.size&&this._throwError("incorrect data length",b),a.writeBytes(c)}decode(a){return a.coerce(this.name,(0,H.Dv)(a.readBytes(this.size)))}}class Y extends K{constructor(a){super("null","",a,!1)}defaultValue(){return null}encode(a,b){return null!=b&&this._throwError("not null",b),a.writeBytes([])}decode(a){return a.readBytes(0),a.coerce(this.name,null)}}var Z=c(21046);class $ extends K{constructor(a,b,c){let d=(b?"int":"uint")+8*a;super(d,d,c,!1),this.size=a,this.signed=b}defaultValue(){return 0}encode(a,b){let c=I.O$.from(b),d=Z.Bz.mask(8*a.wordSize);if(this.signed){let e=d.mask(8*this.size-1);(c.gt(e)||c.lt(e.add(Z.fh).mul(Z.tL)))&&this._throwError("value out-of-bounds",b)}else(c.lt(Z._Y)||c.gt(d.mask(8*this.size)))&&this._throwError("value out-of-bounds",b);return c=c.toTwos(8*this.size).mask(8*this.size),this.signed&&(c=c.fromTwos(8*this.size).toTwos(8*a.wordSize)),a.writeValue(c)}decode(a){let b=a.readValue().mask(8*this.size);return this.signed&&(b=b.fromTwos(8*this.size)),a.coerce(this.name,b)}}let _=new i.Yd("strings/5.7.0");function aa(a,b,c,d,e){if(a===g.BAD_PREFIX||a===g.UNEXPECTED_CONTINUE){let f=0;for(let h=b+1;h<c.length&&c[h]>>6==2;h++)f++;return f}return a===g.OVERRUN?c.length-b-1:0}(d=f||(f={})).current="",d.NFC="NFC",d.NFD="NFD",d.NFKC="NFKC",d.NFKD="NFKD",(e=g||(g={})).UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation";let ab=Object.freeze({error:function(a,b,c,d,e){return _.throwArgumentError(`invalid codepoint at offset ${b}; ${a}`,"bytes",c)},ignore:aa,replace:function(a,b,c,d,e){return a===g.OVERLONG?(d.push(e),0):(d.push(65533),aa(a,b,c,d,e))}});class ac extends V{constructor(a){super("string",a)}defaultValue(){return""}encode(a,b){return super.encode(a,function a(b,c=f.current){c!=f.current&&(_.checkNormalize(),b=b.normalize(c));let d=[];for(let e=0;e<b.length;e++){let g=b.charCodeAt(e);if(g<128)d.push(g);else if(g<2048)d.push(g>>6|192),d.push(63&g|128);else if((64512&g)==55296){e++;let h=b.charCodeAt(e);if(e>=b.length||(64512&h)!=56320)throw Error("invalid utf-8 string");let i=65536+((1023&g)<<10)+(1023&h);d.push(i>>18|240),d.push(i>>12&63|128),d.push(i>>6&63|128),d.push(63&i|128)}else d.push(g>>12|224),d.push(g>>6&63|128),d.push(63&g|128)}return(0,H.lE)(d)}(b))}decode(a){var b,c;return(c=function a(b,c){null==c&&(c=ab.error),b=(0,H.lE)(b);let d=[],e=0;for(;e<b.length;){let f=b[e++];if(f>>7==0){d.push(f);continue}let h=null,i=null;if((224&f)==192)h=1,i=127;else if((240&f)==224)h=2,i=2047;else if((248&f)==240)h=3,i=65535;else{(192&f)==128?e+=c(g.UNEXPECTED_CONTINUE,e-1,b,d):e+=c(g.BAD_PREFIX,e-1,b,d);continue}if(e-1+h>=b.length){e+=c(g.OVERRUN,e-1,b,d);continue}let j=f&(1<<8-h-1)-1;for(let k=0;k<h;k++){let l=b[e];if((192&l)!=128){e+=c(g.MISSING_CONTINUE,e,b,d),j=null;break}j=j<<6|63&l,e++}if(null!==j){if(j>1114111){e+=c(g.OUT_OF_RANGE,e-1-h,b,d,j);continue}if(j>=55296&&j<=57343){e+=c(g.UTF16_SURROGATE,e-1-h,b,d,j);continue}if(j<=i){e+=c(g.OVERLONG,e-1-h,b,d,j);continue}d.push(j)}}return d}(b=super.decode(a),void 0)).map(a=>a<=65535?String.fromCharCode(a):String.fromCharCode(((a-=65536)>>10&1023)+55296,(1023&a)+56320)).join("")}}class ad extends K{constructor(a,b){let c=!1,d=[];a.forEach(a=>{a.dynamic&&(c=!0),d.push(a.type)});let e="tuple("+d.join(",")+")";super("tuple",e,b,c),this.coders=a}defaultValue(){let a=[];this.coders.forEach(b=>{a.push(b.defaultValue())});let b=this.coders.reduce((a,b)=>{let c=b.localName;return c&&(a[c]||(a[c]=0),a[c]++),a},{});return this.coders.forEach((c,d)=>{let e=c.localName;if(e&&1===b[e])"length"===e&&(e="_length"),null==a[e]&&(a[e]=a[d])}),Object.freeze(a)}encode(a,b){return R(a,this.coders,b)}decode(a){return a.coerce(this.name,S(a,this.coders))}}let ae=new i.Yd(j),af=RegExp(/^bytes([0-9]*)$/),ag=RegExp(/^(u?int)([0-9]*)$/);class ah{constructor(a){(0,h.zG)(this,"coerceFunc",a||null)}_getCoder(a){switch(a.baseType){case"address":return new O(a.name);case"bool":return new U(a.name);case"string":return new ac(a.name);case"bytes":return new W(a.name);case"array":return new T(this._getCoder(a.arrayChildren),a.arrayLength,a.name);case"tuple":return new ad((a.components||[]).map(a=>this._getCoder(a)),a.name);case"":return new Y(a.name)}let b=a.type.match(ag);if(b){let c=parseInt(b[2]||"256");return(0===c||c>256||c%8!=0)&&ae.throwArgumentError("invalid "+b[1]+" bit length","param",a),new $(c/8,"int"===b[1],a.name)}if(b=a.type.match(af)){let d=parseInt(b[1]);return(0===d||d>32)&&ae.throwArgumentError("invalid bytes length","param",a),new X(d,a.name)}return ae.throwArgumentError("invalid type","type",a.type)}_getWordSize(){return 32}_getReader(a,b){return new M(a,this._getWordSize(),this.coerceFunc,b)}_getWriter(){return new L(this._getWordSize())}getDefaultValue(a){let b=a.map(a=>this._getCoder(s.from(a))),c=new ad(b,"_");return c.defaultValue()}encode(a,b){a.length!==b.length&&ae.throwError("types/values length mismatch",i.Yd.errors.INVALID_ARGUMENT,{count:{types:a.length,values:b.length},value:{types:a,values:b}});let c=a.map(a=>this._getCoder(s.from(a))),d=new ad(c,"_"),e=this._getWriter();return d.encode(e,b),e.data}decode(a,b,c){let d=a.map(a=>this._getCoder(s.from(a))),e=new ad(d,"_");return e.decode(this._getReader((0,H.lE)(b),c))}}new ah},19485:function(a,b,c){"use strict";c.d(b,{Kn:function(){return o}});var d,e=c(16441),f=c(2593),g=c(38197),h=c(1581);let i=new h.Yd("address/5.7.0");function j(a){(0,e.A7)(a,20)||i.throwArgumentError("invalid address","address",a),a=a.toLowerCase();let b=a.substring(2).split(""),c=new Uint8Array(40);for(let d=0;d<40;d++)c[d]=b[d].charCodeAt(0);let f=(0,e.lE)((0,g.w)(c));for(let h=0;h<40;h+=2)f[h>>1]>>4>=8&&(b[h]=b[h].toUpperCase()),(15&f[h>>1])>=8&&(b[h+1]=b[h+1].toUpperCase());return"0x"+b.join("")}let k={};for(let l=0;l<10;l++)k[String(l)]=String(l);for(let m=0;m<26;m++)k[String.fromCharCode(65+m)]=String(10+m);let n=Math.floor((d=9007199254740991,Math.log10?Math.log10(d):Math.log(d)/Math.LN10));function o(a){let b=null;if("string"!=typeof a&&i.throwArgumentError("invalid address","address",a),a.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==a.substring(0,2)&&(a="0x"+a),b=j(a),a.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&b!==a&&i.throwArgumentError("bad address checksum","address",a);else if(a.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(a.substring(2,4)!==function a(b){let c=(b=(b=b.toUpperCase()).substring(4)+b.substring(0,2)+"00").split("").map(a=>k[a]).join("");for(;c.length>=n;){let d=c.substring(0,n);c=parseInt(d,10)%97+c.substring(d.length)}let e=String(98-parseInt(c,10)%97);for(;e.length<2;)e="0"+e;return e}(a)&&i.throwArgumentError("bad icap checksum","address",a),b=(0,f.g$)(a.substring(4));b.length<40;)b="0"+b;b=j("0x"+b)}else i.throwArgumentError("invalid address","address",a);return b}},21046:function(a,b,c){"use strict";c.d(b,{Bz:function(){return h},"_Y":function(){return f},fh:function(){return g},tL:function(){return e}});var d=c(2593);let e=d.O$.from(-1),f=d.O$.from(0),g=d.O$.from(1),h=d.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},38197:function(a,b,c){"use strict";c.d(b,{w:function(){return g}});var d=c(91094),e=c.n(d),f=c(16441);function g(a){return"0x"+e().keccak_256((0,f.lE)(a))}},6881:function(a,b,c){"use strict";c.d(b,{uj:function(){return g},zG:function(){return f}});var d=c(1581);let e=new d.Yd("properties/5.7.0");function f(a,b,c){Object.defineProperty(a,b,{enumerable:!0,value:c,writable:!1})}function g(a,b){a&&"object"==typeof a||e.throwArgumentError("invalid object","object",a),Object.keys(a).forEach(c=>{b[c]||e.throwArgumentError("invalid object key - "+c,"transaction:"+c,a)})}let h={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function i(a){if(null==a||h[typeof a])return!0;if(Array.isArray(a)||"object"==typeof a){if(!Object.isFrozen(a))return!1;let b=Object.keys(a);for(let c=0;c<b.length;c++){let d=null;try{d=a[b[c]]}catch(f){continue}if(!i(d))return!1}return!0}return e.throwArgumentError(`Cannot deepCopy ${typeof a}`,"object",a)}function j(a){return function(a){if(i(a))return a;if(Array.isArray(a))return Object.freeze(a.map(a=>j(a)));if("object"==typeof a){let b={};for(let c in a){let d=a[c];void 0!==d&&f(b,c,j(d))}return b}return e.throwArgumentError(`Cannot deepCopy ${typeof a}`,"object",a)}(a)}},98233:function(a,b,c){"use strict";c.r(b),c.d(b,{TransactionTypes:function(){return e},accessListify:function(){return av},computeAddress:function(){return ar},parse:function(){return aB},recoverAddress:function(){return as},serialize:function(){return az}});var d,e,f=c(19485),g=c(2593),h=c(16441),i=c(21046),j=c(38197),k=c(6881),l=c(1581);let m=new l.Yd("rlp/5.7.0");function n(a){let b=[];for(;a;)b.unshift(255&a),a>>=8;return b}function o(a,b,c){let d=0;for(let e=0;e<c;e++)d=256*d+a[b+e];return d}function p(a){if(Array.isArray(a)){let b=[];if(a.forEach(function(a){b=b.concat(p(a))}),b.length<=55)return b.unshift(192+b.length),b;let c=n(b.length);return c.unshift(247+c.length),c.concat(b)}(0,h.Zq)(a)||m.throwArgumentError("RLP object must be BytesLike","object",a);let d=Array.prototype.slice.call((0,h.lE)(a));if(1===d.length&&d[0]<=127)return d;if(d.length<=55)return d.unshift(128+d.length),d;let e=n(d.length);return e.unshift(183+e.length),e.concat(d)}function q(a){return(0,h.Dv)(p(a))}function r(a,b,c,d){let e=[];for(;c<b+1+d;){let f=s(a,c);e.push(f.result),(c+=f.consumed)>b+1+d&&m.throwError("child data too short",l.Yd.errors.BUFFER_OVERRUN,{})}return{consumed:1+d,result:e}}function s(a,b){if(0===a.length&&m.throwError("data too short",l.Yd.errors.BUFFER_OVERRUN,{}),a[b]>=248){let c=a[b]-247;b+1+c>a.length&&m.throwError("data short segment too short",l.Yd.errors.BUFFER_OVERRUN,{});let d=o(a,b+1,c);return b+1+c+d>a.length&&m.throwError("data long segment too short",l.Yd.errors.BUFFER_OVERRUN,{}),r(a,b,b+1+c,c+d)}if(a[b]>=192){let e=a[b]-192;return b+1+e>a.length&&m.throwError("data array too short",l.Yd.errors.BUFFER_OVERRUN,{}),r(a,b,b+1,e)}if(a[b]>=184){let f=a[b]-183;b+1+f>a.length&&m.throwError("data array too short",l.Yd.errors.BUFFER_OVERRUN,{});let g=o(a,b+1,f);b+1+f+g>a.length&&m.throwError("data array too short",l.Yd.errors.BUFFER_OVERRUN,{});let i=(0,h.Dv)(a.slice(b+1+f,b+1+f+g));return{consumed:1+f+g,result:i}}if(a[b]>=128){let j=a[b]-128;b+1+j>a.length&&m.throwError("data too short",l.Yd.errors.BUFFER_OVERRUN,{});let k=(0,h.Dv)(a.slice(b+1,b+1+j));return{consumed:1+j,result:k}}return{consumed:1,result:(0,h.Dv)(a[b])}}function t(a){let b=(0,h.lE)(a),c=s(b,0);return c.consumed!==b.length&&m.throwArgumentError("invalid rlp data","data",a),c.result}var u=c(13550),v=c.n(u),w=c(33715),x=c.n(w);function y(a,b,c){return c={path:b,exports:{},require:function(a,b){return z(a,null==b?c.path:b)}},a(c,c.exports),c.exports}function z(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==c.g?c.g:"undefined"!=typeof self&&self;var A=B;function B(a,b){if(!a)throw Error(b||"Assertion failed")}B.equal=function(a,b,c){if(a!=b)throw Error(c||"Assertion failed: "+a+" != "+b)};var C=y(function(a,b){var c=b;function d(a){return 1===a.length?"0"+a:a}function e(a){for(var b="",c=0;c<a.length;c++)b+=d(a[c].toString(16));return b}c.toArray=function(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if("string"!=typeof a){for(var d=0;d<a.length;d++)c[d]=0|a[d];return c}if("hex"===b){(a=a.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(a="0"+a);for(var d=0;d<a.length;d+=2)c.push(parseInt(a[d]+a[d+1],16))}else for(var d=0;d<a.length;d++){var e=a.charCodeAt(d),f=e>>8,g=255&e;f?c.push(f,g):c.push(g)}return c},c.zero2=d,c.toHex=e,c.encode=function(a,b){return"hex"===b?e(a):a}}),D=y(function(a,b){var c=b;c.assert=A,c.toArray=C.toArray,c.zero2=C.zero2,c.toHex=C.toHex,c.encode=C.encode,c.getNAF=function(a,b,c){var d=Array(Math.max(a.bitLength(),c)+1);d.fill(0);for(var e=1<<b+1,f=a.clone(),g=0;g<d.length;g++){var h,i=f.andln(e-1);f.isOdd()?(h=i>(e>>1)-1?(e>>1)-i:i,f.isubn(h)):h=0,d[g]=h,f.iushrn(1)}return d},c.getJSF=function(a,b){var c=[[],[],];a=a.clone(),b=b.clone();for(var d=0,e=0;a.cmpn(-d)>0||b.cmpn(-e)>0;){var f,g,h,i=a.andln(3)+d&3,j=b.andln(3)+e&3;3===i&&(i=-1),3===j&&(j=-1),g=(1&i)==0?0:(3==(f=a.andln(7)+d&7)||5===f)&&2===j?-i:i,c[0].push(g),h=(1&j)==0?0:(3==(f=b.andln(7)+e&7)||5===f)&&2===i?-j:j,c[1].push(h),2*d===g+1&&(d=1-d),2*e===h+1&&(e=1-e),a.iushrn(1),b.iushrn(1)}return c},c.cachedProperty=function(a,b,c){var d="_"+b;a.prototype[b]=function(){return void 0!==this[d]?this[d]:this[d]=c.call(this)}},c.parseBytes=function(a){return"string"==typeof a?c.toArray(a,"hex"):a},c.intFromLE=function(a){return new(v())(a,"hex","le")}}),E=D.getNAF,F=D.getJSF,G=D.assert;function H(a,b){this.type=a,this.p=new(v())(b.p,16),this.red=b.prime?v().red(b.prime):v().mont(this.p),this.zero=new(v())(0).toRed(this.red),this.one=new(v())(1).toRed(this.red),this.two=new(v())(2).toRed(this.red),this.n=b.n&&new(v())(b.n,16),this.g=b.g&&this.pointFromJSON(b.g,b.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var I=H;function J(a,b){this.curve=a,this.type=b,this.precomputed=null}H.prototype.point=function(){throw Error("Not implemented")},H.prototype.validate=function(){throw Error("Not implemented")},H.prototype._fixedNafMul=function(a,b){G(a.precomputed);var c,d,e=a._getDoubles(),f=E(b,1,this._bitLength),g=(1<<e.step+1)-(e.step%2==0?2:1);g/=3;var h=[];for(c=0;c<f.length;c+=e.step){d=0;for(var i=c+e.step-1;i>=c;i--)d=(d<<1)+f[i];h.push(d)}for(var j=this.jpoint(null,null,null),k=this.jpoint(null,null,null),l=g;l>0;l--){for(c=0;c<h.length;c++)(d=h[c])===l?k=k.mixedAdd(e.points[c]):d=== -l&&(k=k.mixedAdd(e.points[c].neg()));j=j.add(k)}return j.toP()},H.prototype._wnafMul=function(a,b){var c=4,d=a._getNAFPoints(c);c=d.wnd;for(var e=d.points,f=E(b,c,this._bitLength),g=this.jpoint(null,null,null),h=f.length-1;h>=0;h--){for(var i=0;h>=0&&0===f[h];h--)i++;if(h>=0&&i++,g=g.dblp(i),h<0)break;var j=f[h];G(0!==j),g="affine"===a.type?j>0?g.mixedAdd(e[j-1>>1]):g.mixedAdd(e[-j-1>>1].neg()):j>0?g.add(e[j-1>>1]):g.add(e[-j-1>>1].neg())}return"affine"===a.type?g.toP():g},H.prototype._wnafMulAdd=function(a,b,c,d,e){var f,g,h,i=this._wnafT1,j=this._wnafT2,k=this._wnafT3,l=0;for(f=0;f<d;f++){var m=(h=b[f])._getNAFPoints(a);i[f]=m.wnd,j[f]=m.points}for(f=d-1;f>=1;f-=2){var n=f-1,o=f;if(1!==i[n]||1!==i[o]){k[n]=E(c[n],i[n],this._bitLength),k[o]=E(c[o],i[o],this._bitLength),l=Math.max(k[n].length,l),l=Math.max(k[o].length,l);continue}var p=[b[n],null,null,b[o]];0===b[n].y.cmp(b[o].y)?(p[1]=b[n].add(b[o]),p[2]=b[n].toJ().mixedAdd(b[o].neg())):0===b[n].y.cmp(b[o].y.redNeg())?(p[1]=b[n].toJ().mixedAdd(b[o]),p[2]=b[n].add(b[o].neg())):(p[1]=b[n].toJ().mixedAdd(b[o]),p[2]=b[n].toJ().mixedAdd(b[o].neg()));var q=[-3,-1,-5,-7,0,7,5,1,3],r=F(c[n],c[o]);for(g=0,l=Math.max(r[0].length,l),k[n]=Array(l),k[o]=Array(l);g<l;g++){var s=0|r[0][g],t=0|r[1][g];k[n][g]=q[(s+1)*3+(t+1)],k[o][g]=0,j[n]=p}}var u=this.jpoint(null,null,null),v=this._wnafT4;for(f=l;f>=0;f--){for(var w=0;f>=0;){var x=!0;for(g=0;g<d;g++)v[g]=0|k[g][f],0!==v[g]&&(x=!1);if(!x)break;w++,f--}if(f>=0&&w++,u=u.dblp(w),f<0)break;for(g=0;g<d;g++){var y=v[g];0!==y&&(y>0?h=j[g][y-1>>1]:y<0&&(h=j[g][-y-1>>1].neg()),u="affine"===h.type?u.mixedAdd(h):u.add(h))}}for(f=0;f<d;f++)j[f]=null;return e?u:u.toP()},H.BasePoint=J,J.prototype.eq=function(){throw Error("Not implemented")},J.prototype.validate=function(){return this.curve.validate(this)},H.prototype.decodePoint=function(a,b){a=D.toArray(a,b);var c=this.p.byteLength();if((4===a[0]||6===a[0]||7===a[0])&&a.length-1==2*c)return 6===a[0]?G(a[a.length-1]%2==0):7===a[0]&&G(a[a.length-1]%2==1),this.point(a.slice(1,1+c),a.slice(1+c,1+2*c));if((2===a[0]||3===a[0])&&a.length-1===c)return this.pointFromX(a.slice(1,1+c),3===a[0]);throw Error("Unknown point format")},J.prototype.encodeCompressed=function(a){return this.encode(a,!0)},J.prototype._encode=function(a){var b=this.curve.p.byteLength(),c=this.getX().toArray("be",b);return a?[this.getY().isEven()?2:3].concat(c):[4].concat(c,this.getY().toArray("be",b))},J.prototype.encode=function(a,b){return D.encode(this._encode(b),a)},J.prototype.precompute=function(a){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,a),b.beta=this._getBeta(),this.precomputed=b,this},J.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return!!b&&b.points.length>=Math.ceil((a.bitLength()+1)/b.step)},J.prototype._getDoubles=function(a,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var c=[this],d=this,e=0;e<b;e+=a){for(var f=0;f<a;f++)d=d.dbl();c.push(d)}return{step:a,points:c}},J.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],c=(1<<a)-1,d=1===c?null:this.dbl(),e=1;e<c;e++)b[e]=b[e-1].add(d);return{wnd:a,points:b}},J.prototype._getBeta=function(){return null},J.prototype.dblp=function(a){for(var b=this,c=0;c<a;c++)b=b.dbl();return b};var K=y(function(a){"function"==typeof Object.create?a.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}}),L=D.assert;function M(a){I.call(this,"short",a),this.a=new(v())(a.a,16).toRed(this.red),this.b=new(v())(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(a),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}K(M,I);var N=M;function O(a,b,c,d){I.BasePoint.call(this,a,"affine"),null===b&&null===c?(this.x=null,this.y=null,this.inf=!0):(this.x=new(v())(b,16),this.y=new(v())(c,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function P(a,b,c,d){I.BasePoint.call(this,a,"jacobian"),null===b&&null===c&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(v())(0)):(this.x=new(v())(b,16),this.y=new(v())(c,16),this.z=new(v())(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}M.prototype._getEndomorphism=function(a){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(a.beta)b=new(v())(a.beta,16).toRed(this.red);else{var b,c,d,e=this._getEndoRoots(this.p);b=(b=0>e[0].cmp(e[1])?e[0]:e[1]).toRed(this.red)}if(a.lambda)c=new(v())(a.lambda,16);else{var f=this._getEndoRoots(this.n);0===this.g.mul(f[0]).x.cmp(this.g.x.redMul(b))?c=f[0]:(c=f[1],L(0===this.g.mul(c).x.cmp(this.g.x.redMul(b))))}return d=a.basis?a.basis.map(function(a){return{a:new(v())(a.a,16),b:new(v())(a.b,16)}}):this._getEndoBasis(c),{beta:b,lambda:c,basis:d}}},M.prototype._getEndoRoots=function(a){var b=a===this.p?this.red:v().mont(a),c=new(v())(2).toRed(b).redInvm(),d=c.redNeg(),e=new(v())(3).toRed(b).redNeg().redSqrt().redMul(c),f=d.redAdd(e).fromRed(),g=d.redSub(e).fromRed();return[f,g]},M.prototype._getEndoBasis=function(a){for(var b,c,d,e,f,g,h,i,j,k=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=a,m=this.n.clone(),n=new(v())(1),o=new(v())(0),p=new(v())(0),q=new(v())(1),r=0;0!==l.cmpn(0);){var s=m.div(l);i=m.sub(s.mul(l)),j=p.sub(s.mul(n));var t=q.sub(s.mul(o));if(!d&&0>i.cmp(k))b=h.neg(),c=n,d=i.neg(),e=j;else if(d&&2== ++r)break;h=i,m=l,l=i,p=n,n=j,q=o,o=t}f=i.neg(),g=j;var u=d.sqr().add(e.sqr());return f.sqr().add(g.sqr()).cmp(u)>=0&&(f=b,g=c),d.negative&&(d=d.neg(),e=e.neg()),f.negative&&(f=f.neg(),g=g.neg()),[{a:d,b:e},{a:f,b:g},]},M.prototype._endoSplit=function(a){var b=this.endo.basis,c=b[0],d=b[1],e=d.b.mul(a).divRound(this.n),f=c.b.neg().mul(a).divRound(this.n),g=e.mul(c.a),h=f.mul(d.a),i=e.mul(c.b),j=f.mul(d.b),k=a.sub(g).sub(h),l=i.add(j).neg();return{k1:k,k2:l}},M.prototype.pointFromX=function(a,b){(a=new(v())(a,16)).red||(a=a.toRed(this.red));var c=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),d=c.redSqrt();if(0!==d.redSqr().redSub(c).cmp(this.zero))throw Error("invalid point");var e=d.fromRed().isOdd();return(b&&!e|| !b&&e)&&(d=d.redNeg()),this.point(a,d)},M.prototype.validate=function(a){if(a.inf)return!0;var b=a.x,c=a.y,d=this.a.redMul(b),e=b.redSqr().redMul(b).redIAdd(d).redIAdd(this.b);return 0===c.redSqr().redISub(e).cmpn(0)},M.prototype._endoWnafMulAdd=function(a,b,c){for(var d=this._endoWnafT1,e=this._endoWnafT2,f=0;f<a.length;f++){var g=this._endoSplit(b[f]),h=a[f],i=h._getBeta();g.k1.negative&&(g.k1.ineg(),h=h.neg(!0)),g.k2.negative&&(g.k2.ineg(),i=i.neg(!0)),d[2*f]=h,d[2*f+1]=i,e[2*f]=g.k1,e[2*f+1]=g.k2}for(var j=this._wnafMulAdd(1,d,e,2*f,c),k=0;k<2*f;k++)d[k]=null,e[k]=null;return j},K(O,I.BasePoint),M.prototype.point=function(a,b,c){return new O(this,a,b,c)},M.prototype.pointFromJSON=function(a,b){return O.fromJSON(this,a,b)},O.prototype._getBeta=function(){if(this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var c=this.curve,d=function(a){return c.point(a.x.redMul(c.endo.beta),a.y)};a.beta=b,b.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(d)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(d)}}}return b}},O.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},O.fromJSON=function(a,b,c){"string"==typeof b&&(b=JSON.parse(b));var d=a.point(b[0],b[1],c);if(!b[2])return d;function e(b){return a.point(b[0],b[1],c)}var f=b[2];return d.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[d].concat(f.doubles.points.map(e))},naf:f.naf&&{wnd:f.naf.wnd,points:[d].concat(f.naf.points.map(e))}},d},O.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},O.prototype.isInfinity=function(){return this.inf},O.prototype.add=function(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a)||0===this.x.cmp(a.x))return this.curve.point(null,null);var b=this.y.redSub(a.y);0!==b.cmpn(0)&&(b=b.redMul(this.x.redSub(a.x).redInvm()));var c=b.redSqr().redISub(this.x).redISub(a.x),d=b.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,d)},O.prototype.dbl=function(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(0===a.cmpn(0))return this.curve.point(null,null);var b=this.curve.a,c=this.x.redSqr(),d=a.redInvm(),e=c.redAdd(c).redIAdd(c).redIAdd(b).redMul(d),f=e.redSqr().redISub(this.x.redAdd(this.x)),g=e.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,g)},O.prototype.getX=function(){return this.x.fromRed()},O.prototype.getY=function(){return this.y.fromRed()},O.prototype.mul=function(a){return(a=new(v())(a,16),this.isInfinity())?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)},O.prototype.mulAdd=function(a,b,c){var d=[this,b],e=[a,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,e):this.curve._wnafMulAdd(1,d,e,2)},O.prototype.jmulAdd=function(a,b,c){var d=[this,b],e=[a,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,e,!0):this.curve._wnafMulAdd(1,d,e,2,!0)},O.prototype.eq=function(a){return this===a||this.inf===a.inf&&(this.inf||0===this.x.cmp(a.x)&&0===this.y.cmp(a.y))},O.prototype.neg=function(a){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var c=this.precomputed,d=function(a){return a.neg()};b.precomputed={naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(d)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(d)}}}return b},O.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},K(P,I.BasePoint),M.prototype.jpoint=function(a,b,c){return new P(this,a,b,c)},P.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),b=a.redSqr(),c=this.x.redMul(b),d=this.y.redMul(b).redMul(a);return this.curve.point(c,d)},P.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},P.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var b=a.z.redSqr(),c=this.z.redSqr(),d=this.x.redMul(b),e=a.x.redMul(c),f=this.y.redMul(b.redMul(a.z)),g=a.y.redMul(c.redMul(this.z)),h=d.redSub(e),i=f.redSub(g);if(0===h.cmpn(0))return 0!==i.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var j=h.redSqr(),k=j.redMul(h),l=d.redMul(j),m=i.redSqr().redIAdd(k).redISub(l).redISub(l),n=i.redMul(l.redISub(m)).redISub(f.redMul(k)),o=this.z.redMul(a.z).redMul(h);return this.curve.jpoint(m,n,o)},P.prototype.mixedAdd=function(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var b=this.z.redSqr(),c=this.x,d=a.x.redMul(b),e=this.y,f=a.y.redMul(b).redMul(this.z),g=c.redSub(d),h=e.redSub(f);if(0===g.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var i=g.redSqr(),j=i.redMul(g),k=c.redMul(i),l=h.redSqr().redIAdd(j).redISub(k).redISub(k),m=h.redMul(k.redISub(l)).redISub(e.redMul(j)),n=this.z.redMul(g);return this.curve.jpoint(l,m,n)},P.prototype.dblp=function(a){if(0===a||this.isInfinity())return this;if(!a)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var b,c=this;for(b=0;b<a;b++)c=c.dbl();return c}var d=this.curve.a,e=this.curve.tinv,f=this.x,g=this.y,h=this.z,i=h.redSqr().redSqr(),j=g.redAdd(g);for(b=0;b<a;b++){var k=f.redSqr(),l=j.redSqr(),m=l.redSqr(),n=k.redAdd(k).redIAdd(k).redIAdd(d.redMul(i)),o=f.redMul(l),p=n.redSqr().redISub(o.redAdd(o)),q=o.redISub(p),r=n.redMul(q);r=r.redIAdd(r).redISub(m);var s=j.redMul(h);b+1<a&&(i=i.redMul(m)),f=p,h=s,j=r}return this.curve.jpoint(f,j.redMul(e),h)},P.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},P.prototype._zeroDbl=function(){if(this.zOne){var a,b,c,d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);var h=d.redAdd(d).redIAdd(d),i=h.redSqr().redISub(g).redISub(g),j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),a=i,b=h.redMul(g.redISub(i)).redISub(j),c=this.y.redAdd(this.y)}else{var k=this.x.redSqr(),l=this.y.redSqr(),m=l.redSqr(),n=this.x.redAdd(l).redSqr().redISub(k).redISub(m);n=n.redIAdd(n);var o=k.redAdd(k).redIAdd(k),p=o.redSqr(),q=m.redIAdd(m);q=(q=q.redIAdd(q)).redIAdd(q),a=p.redISub(n).redISub(n),b=o.redMul(n.redISub(a)).redISub(q),c=(c=this.y.redMul(this.z)).redIAdd(c)}return this.curve.jpoint(a,b,c)},P.prototype._threeDbl=function(){if(this.zOne){var a,b,c,d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);var h=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),i=h.redSqr().redISub(g).redISub(g);a=i;var j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),b=h.redMul(g.redISub(i)).redISub(j),c=this.y.redAdd(this.y)}else{var k=this.z.redSqr(),l=this.y.redSqr(),m=this.x.redMul(l),n=this.x.redSub(k).redMul(this.x.redAdd(k));n=n.redAdd(n).redIAdd(n);var o=m.redIAdd(m),p=(o=o.redIAdd(o)).redAdd(o);a=n.redSqr().redISub(p),c=this.y.redAdd(this.z).redSqr().redISub(l).redISub(k);var q=l.redSqr();q=(q=(q=q.redIAdd(q)).redIAdd(q)).redIAdd(q),b=n.redMul(o.redISub(a)).redISub(q)}return this.curve.jpoint(a,b,c)},P.prototype._dbl=function(){var a=this.curve.a,b=this.x,c=this.y,d=this.z,e=d.redSqr().redSqr(),f=b.redSqr(),g=c.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(a.redMul(e)),i=b.redAdd(b),j=(i=i.redIAdd(i)).redMul(g),k=h.redSqr().redISub(j.redAdd(j)),l=j.redISub(k),m=g.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m);var n=h.redMul(l).redISub(m),o=c.redAdd(c).redMul(d);return this.curve.jpoint(k,n,o)},P.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr(),d=b.redSqr(),e=a.redAdd(a).redIAdd(a),f=e.redSqr(),g=this.x.redAdd(b).redSqr().redISub(a).redISub(d),h=(g=(g=(g=g.redIAdd(g)).redAdd(g).redIAdd(g)).redISub(f)).redSqr(),i=d.redIAdd(d);i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i);var j=e.redIAdd(g).redSqr().redISub(f).redISub(h).redISub(i),k=b.redMul(j);k=(k=k.redIAdd(k)).redIAdd(k);var l=this.x.redMul(h).redISub(k);l=(l=l.redIAdd(l)).redIAdd(l);var m=this.y.redMul(j.redMul(i.redISub(j)).redISub(g.redMul(h)));m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m);var n=this.z.redAdd(g).redSqr().redISub(c).redISub(h);return this.curve.jpoint(l,m,n)},P.prototype.mul=function(a,b){return a=new(v())(a,b),this.curve._wnafMul(this,a)},P.prototype.eq=function(a){if("affine"===a.type)return this.eq(a.toJ());if(this===a)return!0;var b=this.z.redSqr(),c=a.z.redSqr();if(0!==this.x.redMul(c).redISub(a.x.redMul(b)).cmpn(0))return!1;var d=b.redMul(this.z),e=c.redMul(a.z);return 0===this.y.redMul(e).redISub(a.y.redMul(d)).cmpn(0)},P.prototype.eqXToP=function(a){var b=this.z.redSqr(),c=a.toRed(this.curve.red).redMul(b);if(0===this.x.cmp(c))return!0;for(var d=a.clone(),e=this.curve.redN.redMul(b);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(e),0===this.x.cmp(c))return!0}},P.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},P.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Q=y(function(a,b){var c=b;c.base=I,c.short=N,c.mont=null,c.edwards=null}),R=y(function(a,b){var c,d=b,e=D.assert;function f(a){"short"===a.type?this.curve=new Q.short(a):"edwards"===a.type?this.curve=new Q.edwards(a):this.curve=new Q.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,e(this.g.validate(),"Invalid curve"),e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function g(a,b){Object.defineProperty(d,a,{configurable:!0,enumerable:!0,get:function(){var c=new f(b);return Object.defineProperty(d,a,{configurable:!0,enumerable:!0,value:c}),c}})}d.PresetCurve=f,g("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:x().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",]}),g("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:x().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",]}),g("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:x().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",]}),g("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:x().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",]}),g("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:x().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",]}),g("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:x().sha256,gRed:!1,g:["9",]}),g("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:x().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658",]});try{c=null.crash()}catch(h){c=void 0}g("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:x().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"},],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c,]})});function S(a){if(!(this instanceof S))return new S(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var b=C.toArray(a.entropy,a.entropyEnc||"hex"),c=C.toArray(a.nonce,a.nonceEnc||"hex"),d=C.toArray(a.pers,a.persEnc||"hex");A(b.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(b,c,d)}var T=S;S.prototype._init=function(a,b,c){var d=a.concat(b).concat(c);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var e=0;e<this.V.length;e++)this.K[e]=0,this.V[e]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},S.prototype._hmac=function(){return new(x()).hmac(this.hash,this.K)},S.prototype._update=function(a){var b=this._hmac().update(this.V).update([0]);a&&(b=b.update(a)),this.K=b.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},S.prototype.reseed=function(a,b,c,d){"string"!=typeof b&&(d=c,c=b,b=null),a=C.toArray(a,b),c=C.toArray(c,d),A(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},S.prototype.generate=function(a,b,c,d){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof b&&(d=c,c=b,b=null),c&&(c=C.toArray(c,d||"hex"),this._update(c));for(var e=[];e.length<a;)this.V=this._hmac().update(this.V).digest(),e=e.concat(this.V);var f=e.slice(0,a);return this._update(c),this._reseed++,C.encode(f,b)};var U=D.assert;function V(a,b){this.ec=a,this.priv=null,this.pub=null,b.priv&&this._importPrivate(b.priv,b.privEnc),b.pub&&this._importPublic(b.pub,b.pubEnc)}var W=V;V.fromPublic=function(a,b,c){return b instanceof V?b:new V(a,{pub:b,pubEnc:c})},V.fromPrivate=function(a,b,c){return b instanceof V?b:new V(a,{priv:b,privEnc:c})},V.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},V.prototype.getPublic=function(a,b){return("string"==typeof a&&(b=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),b)?this.pub.encode(b,a):this.pub},V.prototype.getPrivate=function(a){return"hex"===a?this.priv.toString(16,2):this.priv},V.prototype._importPrivate=function(a,b){this.priv=new(v())(a,b||16),this.priv=this.priv.umod(this.ec.curve.n)},V.prototype._importPublic=function(a,b){if(a.x||a.y){"mont"===this.ec.curve.type?U(a.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&U(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,b)},V.prototype.derive=function(a){return a.validate()||U(a.validate(),"public point not validated"),a.mul(this.priv).getX()},V.prototype.sign=function(a,b,c){return this.ec.sign(a,this,b,c)},V.prototype.verify=function(a,b){return this.ec.verify(a,b,this)},V.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var X=D.assert;function Y(a,b){if(a instanceof Y)return a;this._importDER(a,b)||(X(a.r&&a.s,"Signature without r or s"),this.r=new(v())(a.r,16),this.s=new(v())(a.s,16),void 0===a.recoveryParam?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}var Z=Y;function $(){this.place=0}function _(a,b){var c=a[b.place++];if(!(128&c))return c;var d=15&c;if(0===d||d>4)return!1;for(var e=0,f=0,g=b.place;f<d;f++,g++)e<<=8,e|=a[g],e>>>=0;return!(e<=127)&&(b.place=g,e)}function aa(a){for(var b=0,c=a.length-1;!a[b]&&!(128&a[b+1])&&b<c;)b++;return 0===b?a:a.slice(b)}function ab(a,b){if(b<128){a.push(b);return}var c=1+(Math.log(b)/Math.LN2>>>3);for(a.push(128|c);--c;)a.push(b>>>(c<<3)&255);a.push(b)}Y.prototype._importDER=function(a,b){a=D.toArray(a,b);var c=new $;if(48!==a[c.place++])return!1;var d=_(a,c);if(!1===d||d+c.place!==a.length||2!==a[c.place++])return!1;var e=_(a,c);if(!1===e)return!1;var f=a.slice(c.place,e+c.place);if(c.place+=e,2!==a[c.place++])return!1;var g=_(a,c);if(!1===g||a.length!==g+c.place)return!1;var h=a.slice(c.place,g+c.place);if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new(v())(f),this.s=new(v())(h),this.recoveryParam=null,!0},Y.prototype.toDER=function(a){var b=this.r.toArray(),c=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&c[0]&&(c=[0].concat(c)),b=aa(b),c=aa(c);!c[0]&&!(128&c[1]);)c=c.slice(1);var d=[2];ab(d,b.length),(d=d.concat(b)).push(2),ab(d,c.length);var e=d.concat(c),f=[48];return ab(f,e.length),f=f.concat(e),D.encode(f,a)};var ac=function(){throw Error("unsupported")},ad=D.assert;function ae(a){if(!(this instanceof ae))return new ae(a);"string"==typeof a&&(ad(Object.prototype.hasOwnProperty.call(R,a),"Unknown curve "+a),a=R[a]),a instanceof R.PresetCurve&&(a={curve:a}),this.curve=a.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=a.curve.g,this.g.precompute(a.curve.n.bitLength()+1),this.hash=a.hash||a.curve.hash}var af=ae;ae.prototype.keyPair=function(a){return new W(this,a)},ae.prototype.keyFromPrivate=function(a,b){return W.fromPrivate(this,a,b)},ae.prototype.keyFromPublic=function(a,b){return W.fromPublic(this,a,b)},ae.prototype.genKeyPair=function(a){a||(a={});for(var b=new T({hash:this.hash,pers:a.pers,persEnc:a.persEnc||"utf8",entropy:a.entropy||ac(this.hash.hmacStrength),entropyEnc:a.entropy&&a.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),d=this.n.sub(new(v())(2));;){var e=new(v())(b.generate(c));if(!(e.cmp(d)>0))return e.iaddn(1),this.keyFromPrivate(e)}},ae.prototype._truncateToN=function(a,b){var c=8*a.byteLength()-this.n.bitLength();return(c>0&&(a=a.ushrn(c)),!b&&a.cmp(this.n)>=0)?a.sub(this.n):a},ae.prototype.sign=function(a,b,c,d){"object"==typeof c&&(d=c,c=null),d||(d={}),b=this.keyFromPrivate(b,c),a=this._truncateToN(new(v())(a,16));for(var e=this.n.byteLength(),f=b.getPrivate().toArray("be",e),g=a.toArray("be",e),h=new T({hash:this.hash,entropy:f,nonce:g,pers:d.pers,persEnc:d.persEnc||"utf8"}),i=this.n.sub(new(v())(1)),j=0;;j++){var k=d.k?d.k(j):new(v())(h.generate(this.n.byteLength()));if(!(0>=(k=this._truncateToN(k,!0)).cmpn(1)||k.cmp(i)>=0)){var l=this.g.mul(k);if(!l.isInfinity()){var m=l.getX(),n=m.umod(this.n);if(0!==n.cmpn(0)){var o=k.invm(this.n).mul(n.mul(b.getPrivate()).iadd(a));if(0!==(o=o.umod(this.n)).cmpn(0)){var p=(l.getY().isOdd()?1:0)|(0!==m.cmp(n)?2:0);return d.canonical&&o.cmp(this.nh)>0&&(o=this.n.sub(o),p^=1),new Z({r:n,s:o,recoveryParam:p})}}}}}},ae.prototype.verify=function(a,b,c,d){a=this._truncateToN(new(v())(a,16)),c=this.keyFromPublic(c,d);var e,f=(b=new Z(b,"hex")).r,g=b.s;if(0>f.cmpn(1)||f.cmp(this.n)>=0||0>g.cmpn(1)||g.cmp(this.n)>=0)return!1;var h=g.invm(this.n),i=h.mul(a).umod(this.n),j=h.mul(f).umod(this.n);return this.curve._maxwellTrick?!(e=this.g.jmulAdd(i,c.getPublic(),j)).isInfinity()&&e.eqXToP(f):!(e=this.g.mulAdd(i,c.getPublic(),j)).isInfinity()&&0===e.getX().umod(this.n).cmp(f)},ae.prototype.recoverPubKey=function(a,b,c,d){ad((3&c)===c,"The recovery param is more than two bits"),b=new Z(b,d);var e=this.n,f=new(v())(a),g=b.r,h=b.s,i=1&c,j=c>>1;if(g.cmp(this.curve.p.umod(this.curve.n))>=0&&j)throw Error("Unable to find sencond key candinate");g=j?this.curve.pointFromX(g.add(this.curve.n),i):this.curve.pointFromX(g,i);var k=b.r.invm(e),l=e.sub(f).mul(k).umod(e),m=h.mul(k).umod(e);return this.g.mulAdd(l,g,m)},ae.prototype.getKeyRecoveryParam=function(a,b,c,d){if(null!==(b=new Z(b,d)).recoveryParam)return b.recoveryParam;for(var e,f=0;f<4;f++){try{e=this.recoverPubKey(a,b,f)}catch(g){continue}if(e.eq(c))return f}throw Error("Unable to find valid recovery factor")};var ag=y(function(a,b){var c=b;c.version="6.5.4",c.utils=D,c.rand=function(){throw Error("unsupported")},c.curve=Q,c.curves=R,c.ec=af,c.eddsa=null}).ec;let ah=new l.Yd("signing-key/5.7.0"),ai=null;function aj(){return ai||(ai=new ag("secp256k1")),ai}class ak{constructor(a){(0,k.zG)(this,"curve","secp256k1"),(0,k.zG)(this,"privateKey",(0,h.Dv)(a)),32!==(0,h.E1)(this.privateKey)&&ah.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let b=aj().keyFromPrivate((0,h.lE)(this.privateKey));(0,k.zG)(this,"publicKey","0x"+b.getPublic(!1,"hex")),(0,k.zG)(this,"compressedPublicKey","0x"+b.getPublic(!0,"hex")),(0,k.zG)(this,"_isSigningKey",!0)}_addPoint(a){let b=aj().keyFromPublic((0,h.lE)(this.publicKey)),c=aj().keyFromPublic((0,h.lE)(a));return"0x"+b.pub.add(c.pub).encodeCompressed("hex")}signDigest(a){let b=aj().keyFromPrivate((0,h.lE)(this.privateKey)),c=(0,h.lE)(a);32!==c.length&&ah.throwArgumentError("bad digest length","digest",a);let d=b.sign(c,{canonical:!0});return(0,h.N)({recoveryParam:d.recoveryParam,r:(0,h.$m)("0x"+d.r.toString(16),32),s:(0,h.$m)("0x"+d.s.toString(16),32)})}computeSharedSecret(a){let b=aj().keyFromPrivate((0,h.lE)(this.privateKey)),c=aj().keyFromPublic((0,h.lE)(al(a)));return(0,h.$m)("0x"+b.derive(c.getPublic()).toString(16),32)}static isSigningKey(a){return!!(a&&a._isSigningKey)}}function al(a,b){let c=(0,h.lE)(a);if(32===c.length){let d=new ak(c);return b?"0x"+aj().keyFromPrivate(c).getPublic(!0,"hex"):d.publicKey}return 33===c.length?b?(0,h.Dv)(c):"0x"+aj().keyFromPublic(c).getPublic(!1,"hex"):65===c.length?b?"0x"+aj().keyFromPublic(c).getPublic(!0,"hex"):(0,h.Dv)(c):ah.throwArgumentError("invalid public or private key","key","[REDACTED]")}let am=new l.Yd("transactions/5.7.0");function an(a){return"0x"===a?null:(0,f.Kn)(a)}function ao(a){return"0x"===a?i._Y:g.O$.from(a)}(d=e||(e={}))[d.legacy=0]="legacy",d[d.eip2930=1]="eip2930",d[d.eip1559=2]="eip1559";let ap=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"},],aq={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function ar(a){let b=al(a);return(0,f.Kn)((0,h.p3)((0,j.w)((0,h.p3)(b,1)),12))}function as(a,b){return ar(function(a,b){let c=(0,h.N)(b),d={r:(0,h.lE)(c.r),s:(0,h.lE)(c.s)};return"0x"+aj().recoverPubKey((0,h.lE)(a),d,c.recoveryParam).encode("hex",!1)}((0,h.lE)(a),b))}function at(a,b){let c=(0,h.G1)(g.O$.from(a).toHexString());return c.length>32&&am.throwArgumentError("invalid length for "+b,"transaction:"+b,a),c}function au(a,b){return{address:(0,f.Kn)(a),storageKeys:(b||[]).map((b,c)=>(32!==(0,h.E1)(b)&&am.throwArgumentError("invalid access list storageKey",`accessList[${a}:${c}]`,b),b.toLowerCase()))}}function av(a){if(Array.isArray(a))return a.map((a,b)=>Array.isArray(a)?(a.length>2&&am.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${b}]`,a),au(a[0],a[1])):au(a.address,a.storageKeys));let b=Object.keys(a).map(b=>{let c=a[b].reduce((a,b)=>(a[b]=!0,a),{});return au(b,Object.keys(c).sort())});return b.sort((a,b)=>a.address.localeCompare(b.address)),b}function aw(a){return av(a).map(a=>[a.address,a.storageKeys])}function ax(a,b){if(null!=a.gasPrice){let c=g.O$.from(a.gasPrice),d=g.O$.from(a.maxFeePerGas||0);c.eq(d)||am.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:c,maxFeePerGas:d})}let e=[at(a.chainId||0,"chainId"),at(a.nonce||0,"nonce"),at(a.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),at(a.maxFeePerGas||0,"maxFeePerGas"),at(a.gasLimit||0,"gasLimit"),null!=a.to?(0,f.Kn)(a.to):"0x",at(a.value||0,"value"),a.data||"0x",aw(a.accessList||[])];if(b){let i=(0,h.N)(b);e.push(at(i.recoveryParam,"recoveryParam")),e.push((0,h.G1)(i.r)),e.push((0,h.G1)(i.s))}return(0,h.xs)(["0x02",q(e)])}function ay(a,b){let c=[at(a.chainId||0,"chainId"),at(a.nonce||0,"nonce"),at(a.gasPrice||0,"gasPrice"),at(a.gasLimit||0,"gasLimit"),null!=a.to?(0,f.Kn)(a.to):"0x",at(a.value||0,"value"),a.data||"0x",aw(a.accessList||[])];if(b){let d=(0,h.N)(b);c.push(at(d.recoveryParam,"recoveryParam")),c.push((0,h.G1)(d.r)),c.push((0,h.G1)(d.s))}return(0,h.xs)(["0x01",q(c)])}function az(a,b){if(null==a.type||0===a.type)return null!=a.accessList&&am.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",a),function(a,b){(0,k.uj)(a,aq);let c=[];ap.forEach(function(b){let d=a[b.name]||[],e={};b.numeric&&(e.hexPad="left"),d=(0,h.lE)((0,h.Dv)(d,e)),b.length&&d.length!==b.length&&d.length>0&&am.throwArgumentError("invalid length for "+b.name,"transaction:"+b.name,d),b.maxLength&&(d=(0,h.G1)(d)).length>b.maxLength&&am.throwArgumentError("invalid length for "+b.name,"transaction:"+b.name,d),c.push((0,h.Dv)(d))});let d=0;if(null!=a.chainId?"number"!=typeof(d=a.chainId)&&am.throwArgumentError("invalid transaction.chainId","transaction",a):b&&!(0,h.Zq)(b)&&b.v>28&&(d=Math.floor((b.v-35)/2)),0!==d&&(c.push((0,h.Dv)(d)),c.push("0x"),c.push("0x")),!b)return q(c);let e=(0,h.N)(b),f=27+e.recoveryParam;return 0!==d?(c.pop(),c.pop(),c.pop(),f+=2*d+8,e.v>28&&e.v!==f&&am.throwArgumentError("transaction.chainId/signature.v mismatch","signature",b)):e.v!==f&&am.throwArgumentError("transaction.chainId/signature.v mismatch","signature",b),c.push((0,h.Dv)(f)),c.push((0,h.G1)((0,h.lE)(e.r))),c.push((0,h.G1)((0,h.lE)(e.s))),q(c)}(a,b);switch(a.type){case 1:return ay(a,b);case 2:return ax(a,b)}return am.throwError(`unsupported transaction type: ${a.type}`,l.Yd.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:a.type})}function aA(a,b,c){try{let d=ao(b[0]).toNumber();if(0!==d&&1!==d)throw Error("bad recid");a.v=d}catch(e){am.throwArgumentError("invalid v for transaction type: 1","v",b[0])}a.r=(0,h.$m)(b[1],32),a.s=(0,h.$m)(b[2],32);try{let f=(0,j.w)(c(a));a.from=as(f,{r:a.r,s:a.s,recoveryParam:a.v})}catch(g){}}function aB(a){let b=(0,h.lE)(a);if(b[0]>127)return function(a){let b=t(a);9!==b.length&&6!==b.length&&am.throwArgumentError("invalid raw transaction","rawTransaction",a);let c={nonce:ao(b[0]).toNumber(),gasPrice:ao(b[1]),gasLimit:ao(b[2]),to:an(b[3]),value:ao(b[4]),data:b[5],chainId:0};if(6===b.length)return c;try{c.v=g.O$.from(b[6]).toNumber()}catch(d){return c}if(c.r=(0,h.$m)(b[7],32),c.s=(0,h.$m)(b[8],32),g.O$.from(c.r).isZero()&&g.O$.from(c.s).isZero())c.chainId=c.v,c.v=0;else{c.chainId=Math.floor((c.v-35)/2),c.chainId<0&&(c.chainId=0);let e=c.v-27,f=b.slice(0,6);0!==c.chainId&&(f.push((0,h.Dv)(c.chainId)),f.push("0x"),f.push("0x"),e-=2*c.chainId+8);let i=(0,j.w)(q(f));try{c.from=as(i,{r:(0,h.Dv)(c.r),s:(0,h.Dv)(c.s),recoveryParam:e})}catch(k){}c.hash=(0,j.w)(a)}return c.type=null,c}(b);switch(b[0]){case 1:return function(a){let b=t(a.slice(1));8!==b.length&&11!==b.length&&am.throwArgumentError("invalid component count for transaction type: 1","payload",(0,h.Dv)(a));let c={type:1,chainId:ao(b[0]).toNumber(),nonce:ao(b[1]).toNumber(),gasPrice:ao(b[2]),gasLimit:ao(b[3]),to:an(b[4]),value:ao(b[5]),data:b[6],accessList:av(b[7])};return 8===b.length||(c.hash=(0,j.w)(a),aA(c,b.slice(8),ay)),c}(b);case 2:return function(a){let b=t(a.slice(1));9!==b.length&&12!==b.length&&am.throwArgumentError("invalid component count for transaction type: 2","payload",(0,h.Dv)(a));let c=ao(b[2]),d=ao(b[3]),e={type:2,chainId:ao(b[0]).toNumber(),nonce:ao(b[1]).toNumber(),maxPriorityFeePerGas:c,maxFeePerGas:d,gasPrice:null,gasLimit:ao(b[4]),to:an(b[5]),value:ao(b[6]),data:b[7],accessList:av(b[8])};return 9===b.length||(e.hash=(0,j.w)(a),aA(e,b.slice(9),ax)),e}(b)}return am.throwError(`unsupported transaction type: ${b[0]}`,l.Yd.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:b[0]})}},75508:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ComposedStore=void 0;let d=c(28877);class e extends d.ObservableStore{constructor(a){super({}),this._children=a||{},Object.keys(this._children).forEach(a=>{let b=this._children[a];this._addChild(a,b)})}_addChild(a,b){let c=b=>{let c=this.getState();c[a]=b,this.putState(c)};b.subscribe(c),c(b.getState())}}b.ComposedStore=e},70401:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MergedStore=void 0;let d=c(28877);class e extends d.ObservableStore{constructor(a=[]){super({}),this._children=a,a.forEach(a=>this._addChild(a)),this._updateWholeState()}_addChild(a){a.subscribe(()=>this._updateWholeState())}_updateWholeState(){let a=this._children.map(a=>a.getState()),b=Object.assign({},...a);this.putState(b)}}b.MergedStore=e},28877:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.ObservableStore=void 0;let e=d(c(19394));class f extends e.default{constructor(a){super(),a?this._state=a:this._state={}}getState(){return this._getState()}putState(a){this._putState(a),this.emit("update",a)}updateState(a){if(a&&"object"==typeof a){let b=this.getState();this.putState(Object.assign(Object.assign({},b),a))}else this.putState(a)}subscribe(a){this.on("update",a)}unsubscribe(a){this.removeListener("update",a)}_getState(){return this._state}_putState(a){this._state=a}}b.ObservableStore=f},97969:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.storeAsStream=void 0;let d=c(79681);class e extends d.Duplex{constructor(a){super({objectMode:!0}),this.resume(),this.handler=a=>this.push(a),this.obsStore=a,this.obsStore.subscribe(this.handler)}pipe(a,b){let c=super.pipe(a,b);return a.write(this.obsStore.getState()),c}_write(a,b,c){this.obsStore.putState(a),c()}_read(a){}_destroy(a,b){this.obsStore.unsubscribe(this.handler),super._destroy(a,b)}}b.storeAsStream=function(a){return new e(a)}},12724:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(97969),b),e(c(75508),b),e(c(70401),b),e(c(28877),b),e(c(26546),b)},26546:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.storeTransformStream=void 0;let d=c(14650);b.storeTransformStream=function(a){return d.obj((b,c,d)=>{try{let e=a(b);d(null,e);return}catch(f){d(f);return}})}},35796:function(a,b,c){"use strict";c.d(b,{d:function(){return e}});var d=c(45624);class e extends d.J5{async authenticateUser(){var a;if(!this.provider||!(null!==(a=this.chainConfig)&& void 0!==a&&a.chainId))throw d.RM.notConnectedError();let{chainNamespace:b,chainId:c}=this.chainConfig;if(this.status!==d.MP.CONNECTED)throw d.RM.notConnectedError("Not connected with wallet, Please login/connect first");let e=await this.provider.request({method:"eth_accounts"});if(e&&e.length>0){let f=(0,d.Cb)(e[0],this.name);if(f){let g=(0,d.$E)(f);if(!g)return{idToken:f}}let h={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(c,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},i=await (0,d.tV)(h,b),j=await this.provider.request({method:"personal_sign",params:[i,e[0]]}),k=await (0,d.rn)(b,j,i,this.name,this.sessionTime);return(0,d.Fr)(e[0],this.name,k),{idToken:k}}throw d.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnect(){if(this.status!==d.MP.CONNECTED)throw d.RM.disconnectionError("Not connected with wallet");let a=await this.provider.request({method:"eth_accounts"});a&&a.length>0&&(0,d.qz)(a[0],this.name)}}},93579:function(a,b,c){"use strict";c.r(b),c.d(b,{TorusWalletAdapter:function(){return aW}});var d=c(4942),e=c(31692),f=c.n(e),g=c(18269);class h{constructor(){let{network:a="mainnet",proxyAddress:b=h.PROXY_ADDRESS_MAINNET}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};(0,d.Z)(this,"_currentEpoch",""),(0,d.Z)(this,"_torusNodeEndpoints",[]),(0,d.Z)(this,"_torusNodePub",[]),(0,d.Z)(this,"_torusIndexes",[]),(0,d.Z)(this,"nodeListAddress",void 0),(0,d.Z)(this,"updated",void 0),(0,d.Z)(this,"nodeListContract",void 0);let c;try{let e=new URL(a);c=e.href}catch(g){let i="b8cdb0e4cff24599a286bf8e87ff1c96";c="https://".concat(a,".infura.io/v3/").concat(i)}f().setProvider(c),this.nodeListContract=new(f())([{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}],b),this.nodeListAddress=b,this.updated=!1}get _nodeDetails(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}async getNodeDetails(a){let{verifier:b,verifierId:c}=a;try{if(this.updated&&(this.nodeListAddress===h.PROXY_ADDRESS_MAINNET||this.nodeListAddress===h.PROXY_ADDRESS_ROPSTEN))return this._nodeDetails;let d=(0,g.keccak256)(c),e=await this.nodeListContract.methods.getNodeSet(b,d).call(),{currentEpoch:f,torusNodeEndpoints:i,torusNodePubX:j,torusNodePubY:k,torusIndexes:l}=e;this._currentEpoch=f,this._torusIndexes=l.map(a=>Number(a));let m=[],n=[];for(let o=0;o<i.length;o+=1){let p=i[o],q=j[o],r=k[o],s="https://".concat(p.split(":")[0],"/jrpc");m.push(s),n.push({X:(0,g.toHex)(q).replace("0x",""),Y:(0,g.toHex)(r).replace("0x","")})}return this._torusNodeEndpoints=m,this._torusNodePub=n,this.updated=!0,this._nodeDetails}catch(t){if(this.nodeListAddress===h.PROXY_ADDRESS_MAINNET)return h.NODE_DETAILS_MAINNET;throw t}}}(0,d.Z)(h,"PROXY_ADDRESS_MAINNET","0xf20336e16B5182637f09821c27BDe29b0AFcfe80"),(0,d.Z)(h,"PROXY_ADDRESS_ROPSTEN","0x6258c9d6c12ed3edda59a1a6527e469517744aa7"),(0,d.Z)(h,"PROXY_ADDRESS_POLYGON","0x9f072ba19b3370e512aa1b4bfcdaf97283168005"),(0,d.Z)(h,"NODE_DETAILS_MAINNET",{currentEpoch:"19",nodeListAddress:h.PROXY_ADDRESS_MAINNET,torusNodeEndpoints:["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"],torusIndexes:[1,2,3,4,5,6,7,8,9],torusNodePub:[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}],updated:!1});var i=c(20917),j=c(95844),k=c(2450),l=c(13550),m=c.n(l),n=c(86266),o=c(67266),p=c.n(o),q=c(2043),r=c.n(q),s=c(95811),t=c.n(s),u=c(48764).Buffer;let v=r().getLogger("torus.js");v.disableAll();class w extends Error{constructor(a){let{errors:b,responses:c,predicate:e}=a;super("Unable to resolve enough promises."),(0,d.Z)(this,"errors",void 0),(0,d.Z)(this,"responses",void 0),(0,d.Z)(this,"predicate",void 0),this.errors=b,this.responses=c,this.predicate=e}}let x=(a,b)=>new Promise((c,d)=>{let e=0,f={resolved:!1},g=Array(a.length).fill(void 0),h=Array(a.length).fill(void 0),i;return a.forEach((j,k)=>j.then(a=>{h[k]=a}).catch(a=>{g[k]=a}).finally(()=>{if(!f.resolved)return b(h.slice(0),f).then(a=>{f.resolved=!0,c(a)}).catch(a=>{i=a}).finally(()=>{if((e+=1)===a.length){let b=Object.values(h.reduce((a,b)=>{if(b){var c,d;let{id:e,error:f}=b;(null==f?void 0:null===(c=f.data)|| void 0===c?void 0:c.length)>0&&(f.data.startsWith("Error occurred while verifying params")?a[e]=(d=f.data).charAt(0).toUpperCase()+d.slice(1):a[e]=f.data)}return a},{}));if(b.length>0){let c=b.length>1?`
${b.map(a=>`• ${a}`).join("\n")}`:b[0];d(Error(c))}else{var f;d(new w({errors:g,responses:h,predicate:(null===(f=i)|| void 0===f?void 0:f.message)||i}))}}})}))});function y(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function z(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?y(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}class A extends Error{}let B=(a,b)=>{let c=a;if("number"==typeof c&&(c=Array.from({length:c},(a,b)=>b)),b>c.length||b<=0)return[];if(b===c.length)return[c];if(1===b)return c.reduce((a,b)=>[...a,[b]],[]);let d=[],e=[];for(let f=0;f<=c.length-b+1;f+=1){e=B(c.slice(f+1),b-1);for(let g=0;g<e.length;g+=1)d.push([c[f],...e[g]])}return d},C=(a,b)=>{let c={};for(let d=0;d<a.length;d+=1){let e=p()(a[d]);if(c[e]=c[e]?c[e]+1:1,c[e]===b)return a[d]}},D=async(a,b,c)=>{let d=a.map(a=>(0,i.v_)(a,(0,i.i)("VerifierLookupRequest",{verifier:b,verifier_id:c.toString()})).catch(a=>v.error("lookup request failed",a)));return x(d,b=>{let c=b.filter(a=>a),d=C(c.map(a=>a&&a.error),~~(a.length/2)+1),e=C(c.map(a=>a&&a.result),~~(a.length/2)+1);return e||d?Promise.resolve({keyResult:e,errorResult:d}):Promise.reject(Error(`invalid results ${JSON.stringify(b)}`))})},E=(a,b,c,d)=>new Promise((e,f)=>{setTimeout(()=>{D(a,b,c).then(e).catch(f)},d)}),F=async a=>{let{endpoints:b,torusNodePubs:c,lastPoint:d,firstPoint:e,verifier:f,verifierId:g,signerHost:h,network:j}=a,k,l;if(void 0===d?l=k=Math.floor(Math.random()*b.length):k=d%b.length,k===e)throw Error("Looped through all");void 0!==e&&(l=e);let m=(0,i.i)("KeyAssign",{verifier:f,verifier_id:g.toString()});try{let n=await (0,i.v_)(h,m,{headers:{pubKeyX:c[k].X,pubKeyY:c[k].Y,network:j}},{useAPIKey:!0});return await (0,i.v_)(b[k],z(z({},m),n),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(o){v.error(o);let p=["Timed out","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."];if(p.includes(o.message))return F({endpoints:b,torusNodePubs:c,lastPoint:k+1,firstPoint:l,verifier:f,verifierId:g,signerHost:h,network:j});throw Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.
    We will generate your key in time. Pls try again later. 

    ${o.message||""}`)}};function G(a){let b=t()("keccak256").update(a).digest().toString("hex");return`0x${b}`}function H(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function I(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?H(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):H(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}class J{constructor(){let{enableOneKey:a=!1,metadataHost:b="https://metadata.tor.us",allowHost:c="https://signer.tor.us/api/allow",signerHost:e="https://signer.tor.us/api/sign",serverTimeOffset:f=0,network:g="mainnet"}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};(0,d.Z)(this,"metadataHost",void 0),(0,d.Z)(this,"allowHost",void 0),(0,d.Z)(this,"serverTimeOffset",void 0),(0,d.Z)(this,"enableOneKey",void 0),(0,d.Z)(this,"signerHost",void 0),(0,d.Z)(this,"network",void 0),(0,d.Z)(this,"ec",void 0),this.ec=new n.ec("secp256k1"),this.metadataHost=b,this.allowHost=c,this.enableOneKey=a,this.serverTimeOffset=f||0,this.signerHost=e,this.network=g}static enableLogging(){let a=!(arguments.length>0)|| void 0===arguments[0]||arguments[0];a?v.enableAll():v.disableAll()}static setAPIKey(a){(0,i.ut)(a)}static setEmbedHost(a){(0,i.y1)(a)}static isGetOrSetNonceError(a){return a instanceof A}async getUserTypeAndAddress(a,b,c){let{verifier:d,verifierId:e}=c,f=arguments.length>3&& void 0!==arguments[3]&&arguments[3],{keyResult:g,errorResult:h}=await D(a,d,e)||{},i=!1,j;if(h&&JSON.stringify(h).includes("Verifier + VerifierID has not yet been assigned")){if(!f)throw Error("Verifier + VerifierID has not yet been assigned");await F({endpoints:a,torusNodePubs:b,lastPoint:void 0,firstPoint:void 0,verifier:d,verifierId:e,signerHost:this.signerHost,network:this.network});let k=await E(a,d,e,1e3);j=null==k?void 0:k.keyResult,i=!0}else if(g)j=g;else throw Error(`node results do not match at first lookup ${JSON.stringify(g||{})}, ${JSON.stringify(h||{})}`);if(j){let{pub_key_X:l,pub_key_Y:n}=j.keys[0],o,p,q;try{o=await this.getOrSetNonce(l,n,void 0,!i),p=new(m())(o.nonce||"0",16)}catch{throw new A}if("v1"===o.typeOfUser)q=this.ec.keyFromPublic({x:l,y:n}).getPublic().add(this.ec.keyFromPrivate(p.toString(16)).getPublic());else if("v2"===o.typeOfUser)q=this.ec.keyFromPublic({x:l,y:n}).getPublic().add(this.ec.keyFromPublic({x:o.pubNonce.x,y:o.pubNonce.y}).getPublic());else throw Error("getOrSetNonce should always return typeOfUser.");let r=q.getX().toString(16),s=q.getY().toString(16),t=this.generateAddressFromPubKey(q.getX(),q.getY());if("v1"===o.typeOfUser)return{typeOfUser:o.typeOfUser,nonce:p,X:r,Y:s,address:t};if("v2"===o.typeOfUser)return{typeOfUser:o.typeOfUser,nonce:p,pubNonce:o.pubNonce,upgraded:o.upgraded,X:r,Y:s,address:t}}throw Error(`node results do not match at final lookup ${JSON.stringify(g||{})}, ${JSON.stringify(h||{})}`)}async setCustomKey(a){let{privKeyHex:b,metadataNonce:c,torusKeyHex:d,customKeyHex:e}=a,f;if(d)f=new(m())(d,16);else{let g=new(m())(b,16);f=g.sub(c).umod(this.ec.curve.n)}let h=new(m())(e,16),i=h.sub(f).umod(this.ec.curve.n),j=this.generateMetadataParams(i.toString(16),f);await this.setMetadata(j)}async retrieveShares(a,b,c,d,e){let f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:{},g=[];await (0,i.U2)(this.allowHost,{headers:{verifier:c,verifier_id:d.verifier_id,network:this.network}},{useAPIKey:!0});let h=(0,k.oq)(),j=(0,k.rc)(h).toString("hex"),l=j.slice(2,66),n=j.slice(66),o=G(e);for(let p=0;p<a.length;p+=1){let q=(0,i.v_)(a[p],(0,i.i)("CommitmentRequest",{messageprefix:"mug00",tokencommitment:o.slice(2),temppubx:l,temppuby:n,verifieridentifier:c})).catch(a=>{v.error("commitment",a)});g.push(q)}return x(g,b=>{let c=b.filter(a=>!!a&&"object"==typeof a&&!a.error);return c.length>=3*~~(a.length/4)+1?Promise.resolve(b):Promise.reject(Error(`invalid ${JSON.stringify(b)}`))}).then(g=>{let j=[],l=[];for(let n=0;n<g.length;n+=1)g[n]&&l.push(g[n].result);for(let o=0;o<a.length;o+=1){let p=(0,i.v_)(a[o],(0,i.i)("ShareRequest",{encrypted:"yes",item:[I(I({},d),{},{idtoken:e,nodesignatures:l,verifieridentifier:c},f)]})).catch(a=>v.error("share req",a));j.push(p)}return x(j,async(c,d)=>{let e=c.filter(a=>a),f=C(c.map(a=>a&&a.result&&a.result.keys[0].PublicKey),~~(a.length/2)+1);if(e.length>= ~~(a.length/2)+1&&f){let g=[],i=[];for(let j=0;j<c.length;j+=1){var l,n;let o=c[j];if((null==o?void 0:null===(l=o.result)|| void 0===l?void 0:null===(n=l.keys)|| void 0===n?void 0:n.length)>0){o.result.keys.sort((a,b)=>new(m())(a.Index,16).cmp(new(m())(b.Index,16)));let p=o.result.keys[0];if(p.Metadata){let q={ephemPublicKey:u.from(p.Metadata.ephemPublicKey,"hex"),iv:u.from(p.Metadata.iv,"hex"),mac:u.from(p.Metadata.mac,"hex")};g.push((0,k.pe)(h,I(I({},q),{},{ciphertext:u.from(u.from(p.Share,"base64").toString("binary").padStart(64,"0"),"hex")})).catch(a=>v.debug("share decryption",a)))}else g.push(Promise.resolve(u.from(p.Share.padStart(64,"0"),"hex")))}else g.push(Promise.resolve(void 0));i.push(new(m())(b[j],16))}let r=await Promise.all(g);if(d.resolved)return;let s=r.reduce((a,b,c)=>(b&&a.push({index:i[c],value:new(m())(b)}),a),[]),t=B(s.length,~~(a.length/2)+1),w=null;for(let x=0;x<t.length;x+=1){let y=t[x],z=s.filter((a,b)=>y.includes(b)),A=z.map(a=>a.value),D=z.map(a=>a.index),E=this.lagrangeInterpolation(A,D);if(!E)continue;let F=(0,k.rc)(u.from(E.toString(16,64),"hex")).toString("hex"),G=F.slice(2,66),H=F.slice(66);if(0===new(m())(G,16).cmp(new(m())(f.X,16))&&0===new(m())(H,16).cmp(new(m())(f.Y,16))){w=E;break}}if(null==w)throw Error("could not derive private key");return w}throw Error("invalid")})}).then(async a=>{let b=a;if(!b)throw Error("Invalid private key returned");let c=(0,k.rc)(u.from(b.toString(16,64),"hex")).toString("hex"),d=c.slice(2,66),e=c.slice(66),f;if(this.enableOneKey){let{nonce:g}=await this.getNonce(d,e,b);f=new(m())(g||"0",16)}else f=await this.getMetadata({pub_key_X:d,pub_key_Y:e});v.debug("> torus.js/retrieveShares",{privKey:b.toString(16),metadataNonce:f.toString(16)}),b=b.add(f).umod(this.ec.curve.n);let h=this.generateAddressFromPrivKey(b);return v.debug("> torus.js/retrieveShares",{ethAddress:h,privKey:b.toString(16)}),{ethAddress:h,privKey:b.toString("hex",64),metadataNonce:f}})}async getMetadata(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};try{let c=await (0,i.v_)(`${this.metadataHost}/get`,a,b,{useAPIKey:!0});if(!c||!c.message)return new(m())(0);return new(m())(c.message,16)}catch(d){return v.error("get metadata error",d),new(m())(0)}}generateMetadataParams(a,b){let c=this.ec.keyFromPrivate(b.toString("hex",64)),d={data:a,timestamp:new(m())(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},e=c.sign(G(p()(d)).slice(2));return{pub_key_X:c.getPublic().getX().toString("hex"),pub_key_Y:c.getPublic().getY().toString("hex"),set_data:d,signature:u.from(e.r.toString(16,64)+e.s.toString(16,64)+new(m())("").toString(16,2),"hex").toString("base64")}}async setMetadata(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};try{let c=await (0,i.v_)(`${this.metadataHost}/set`,a,b,{useAPIKey:!0});return c.message}catch(d){return v.error("set metadata error",d),""}}lagrangeInterpolation(a,b){if(a.length!==b.length)return null;let c=new(m())(0);for(let d=0;d<a.length;d+=1){let e=new(m())(1),f=new(m())(1);for(let g=0;g<a.length;g+=1)if(d!==g){e=(e=e.mul(b[g].neg())).umod(this.ec.curve.n);let h=b[d].sub(b[g]);h=h.umod(this.ec.curve.n),f=f.mul(h).umod(this.ec.curve.n)}let i=e.mul(f.invm(this.ec.curve.n)).umod(this.ec.curve.n);i=i.mul(a[d]).umod(this.ec.curve.n),c=c.add(i)}return c.umod(this.ec.curve.n)}generateAddressFromPrivKey(a){let b=this.ec.keyFromPrivate(a.toString("hex",64),"hex"),c=b.getPublic().encode("hex",!1).slice(2);v.info(c,"public key");let d=`0x${G(u.from(c,"hex")).slice(26)}`;return(0,g.toChecksumAddress)(d)}generateAddressFromPubKey(a,b){let c=this.ec.keyFromPublic({x:a.toString("hex",64),y:b.toString("hex",64)}),d=c.getPublic().encode("hex",!1).slice(2);v.info(c.getPublic().encode("hex",!1),"public key");let e=`0x${G(u.from(d,"hex")).slice(26)}`;return(0,g.toChecksumAddress)(e)}async getPublicAddress(a,b,c){let{verifier:d,verifierId:e}=c,f=arguments.length>3&& void 0!==arguments[3]&&arguments[3];v.debug("> torus.js/getPublicAddress",{endpoints:a,torusNodePubs:b,verifier:d,verifierId:e,isExtended:f});let g,h=!1,{keyResult:i,errorResult:j}=await D(a,d,e)||{};if(j&&JSON.stringify(j).includes("Verifier not supported"))throw Error(`Verifier not supported. Check if you: 

      1. Are on the right network (Torus testnet/mainnet) 

      2. Have setup a verifier on dashboard.web3auth.io?`);if(j&&JSON.stringify(j).includes("Verifier + VerifierID has not yet been assigned")){await F({endpoints:a,torusNodePubs:b,lastPoint:void 0,firstPoint:void 0,verifier:d,verifierId:e,signerHost:this.signerHost,network:this.network});let k=await E(a,d,e,1e3);g=null==k?void 0:k.keyResult,h=!0}else if(i)g=i;else throw Error(`node results do not match at first lookup ${JSON.stringify(i||{})}, ${JSON.stringify(j||{})}`);if(v.debug("> torus.js/getPublicAddress",{finalKeyResult:g,isNewKey:h}),g){var l;let{pub_key_X:n,pub_key_Y:o}=g.keys[0],p,q,r,s,t;if(this.enableOneKey){try{p=await this.getOrSetNonce(n,o,void 0,!h),q=new(m())(p.nonce||"0",16),s=p.typeOfUser}catch{throw new A}if("v1"===p.typeOfUser)r=this.ec.keyFromPublic({x:n,y:o}).getPublic().add(this.ec.keyFromPrivate(q.toString(16)).getPublic());else if("v2"===p.typeOfUser)p.upgraded?r=this.ec.keyFromPublic({x:n,y:o}).getPublic():(r=this.ec.keyFromPublic({x:n,y:o}).getPublic().add(this.ec.keyFromPublic({x:p.pubNonce.x,y:p.pubNonce.y}).getPublic()),t=p.pubNonce);else throw Error("getOrSetNonce should always return typeOfUser.")}else s="v1",q=await this.getMetadata({pub_key_X:n,pub_key_Y:o}),r=this.ec.keyFromPublic({x:n,y:o}).getPublic().add(this.ec.keyFromPrivate(q.toString(16)).getPublic());n=r.getX().toString(16),o=r.getY().toString(16);let u=this.generateAddressFromPubKey(r.getX(),r.getY());return(v.debug("> torus.js/getPublicAddress",{X:n,Y:o,address:u,typeOfUser:s,nonce:null===(l=q)|| void 0===l?void 0:l.toString(16),pubNonce:t}),f)?{typeOfUser:s,address:u,X:n,Y:o,metadataNonce:q,pubNonce:t}:u}throw Error(`node results do not match at final lookup ${JSON.stringify(i||{})}, ${JSON.stringify(j||{})}`)}async getOrSetNonce(a,b,c){let d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e,f=d?"getNonce":"getOrSetNonce";return e=c?this.generateMetadataParams(f,c):{pub_key_X:a,pub_key_Y:b,set_data:{data:f}},(0,i.v_)(`${this.metadataHost}/get_or_set_nonce`,e,void 0,{useAPIKey:!0})}async getNonce(a,b,c){return this.getOrSetNonce(a,b,c,!0)}getPostboxKeyFrom1OutOf1(a,b){let c=new(m())(a,16),d=new(m())(b,16);return c.sub(d).umod(this.ec.curve.n).toString("hex")}}var K=c(72378),L=c.n(K),M=c(12724),N=c(79826),O=c(64063),P=c.n(O),Q=c(24970),R=c(74286),S=c.n(R),T=c(23482),U=c.n(T),V=c(17187),W=c(48764).Buffer;let X={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord"},Y={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},Z={[Y.GOOGLE]:"tkey-google",[Y.FACEBOOK]:"tkey-facebook",[Y.TWITCH]:"tkey-twitch",[Y.REDDIT]:"tkey-reddit",[Y.DISCORD]:"tkey-discord",[Y.EMAIL_PASSWORDLESS]:"tkey-auth0-email-passwordless"},$={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak"},_={MAINNET:"mainnet",MATIC:"matic",BSC_MAINNET:"bsc_mainnet",AVALANCHE_MAINNET:"avalanche_mainnet",XDAI:"xdai"},aa={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta"},ab={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},ac={[$.MOONPAY]:["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"],[$.WYRE]:["USD","EUR","GBP","AUD","CAD","NZD","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","THB","VND","ZAR"],[$.RAMPNETWORK]:["USD","EUR","GBP"],[$.XANPOOL]:["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"],[$.MERCURYO]:["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW"],[$.TRANSAK]:["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"]},ad=new Set(["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"]);function ae(a){let b=ac[a];return b.filter(a=>ad.has(a))}let af={[$.MOONPAY]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000€/day, 10,000€/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:ae($.MOONPAY),validCryptoCurrenciesByChain:{[_.MAINNET]:[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"usdc",display:"USDC"}],[_.MATIC]:[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"}],[_.BSC_MAINNET]:[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}],[_.AVALANCHE_MAINNET]:[{value:"avax_cchain",display:"AVAX"}]},includeFees:!0,api:!0,enforceMax:!1},[$.WYRE]:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:ae($.WYRE),validCryptoCurrenciesByChain:{[_.MAINNET]:[{value:"AAVE",display:"AAVE"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[_.MATIC]:[{value:"MUSDC",display:"USDC"}],[_.AVALANCHE_MAINNET]:[{value:"AVAXC",display:"AVAXC"}]},includeFees:!1,api:!0,enforceMax:!1},[$.RAMPNETWORK]:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000€/purchase, 20,000€/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:ae($.RAMPNETWORK),validCryptoCurrenciesByChain:{[_.MAINNET]:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[_.MATIC]:[{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"}],[_.AVALANCHE_MAINNET]:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1},[$.XANPOOL]:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:ae($.XANPOOL),validCryptoCurrenciesByChain:{[_.MAINNET]:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"}]},includeFees:!0,api:!0,sell:!0,enforceMax:!1},[$.MERCURYO]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000€/day, 25,000€/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:ae($.MERCURYO),validCryptoCurrenciesByChain:{[_.MAINNET]:[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}],[_.BSC_MAINNET]:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}]},includeFees:!0,api:!0,enforceMax:!1},[$.TRANSAK]:{line1:"Credit/ Debit Card/ <br/>Bank Transfer (sepa/gbp)",line2:"0.99% - 5.5% or 5 USD",line3:"500€/day",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:ae($.TRANSAK),validCryptoCurrenciesByChain:{[_.MAINNET]:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[_.MATIC]:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}],[_.BSC_MAINNET]:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}],[_.AVALANCHE_MAINNET]:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,enforceMax:!0}};var ag={supportedVerifierList:Object.values(Y),paymentProviders:af,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"継続する",actionRequired:"認証が必要です",pendingAction:"続行をクリックして、ポップアップでリクエストを続行します",cookiesRequired:"必要なクッキー",enableCookies:"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。",clickHere:"詳しくは"}},ko:{embed:{continue:"계속하다",actionRequired:"승인 필요",pendingAction:"팝업에서 요청을 진행하려면 계속을 클릭하십시오.",cookiesRequired:"쿠키 필요",enableCookies:"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.",clickHere:"더 많은 정보"}},zh:{embed:{continue:"继续",actionRequired:"需要授权",pendingAction:"单击继续以在弹出窗口中继续您的请求",cookiesRequired:"必填Cookie",enableCookies:"请在您的浏览器首选项中启用cookie以访问Torus。",clickHere:"更多信息"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"};let ah=a=>new Promise((b,c)=>{null!=window.document.body?Promise.resolve(a()).then(b).catch(c):window.document.addEventListener("DOMContentLoaded",()=>{Promise.resolve(a()).then(b).catch(c)})}),ai=a=>{let b=window.document.createElement("template"),c=a.trim();return b.innerHTML=c,b.content.firstChild},aj=function(a,b,c){for(var d=arguments.length,e=Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];let g=()=>{c(...e),a.removeEventListener(b,g)};a.addEventListener(b,g)},ak=(a,b,c)=>{let d=e=>{c(e),a.removeListener(b,d)};a.on(b,d)};async function al(){return new Promise(a=>{"loading"!==document.readyState?a():aj(document,"DOMContentLoaded",a)})}var am=r().getLogger("torus-embed"),an={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:a=>"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(a," without a callback parameter."),invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(a,b)=>"Invalid options. Received: { maxEventListeners: ".concat(a,", shouldSendMetadata: ").concat(b," }"),invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:a=>"'args.logger' must include required method '".concat(a,"'.")},info:{connected:a=>'Torus: Connected to chain with ID "'.concat(a,'".')},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};let{paymentProviders:ao}=ag,ap=(a,b)=>{let c={};if(!a)return{errors:c,isValid:!0};if(a&&!ao[a])return c.provider="Invalid Provider",{errors:c,isValid:0===Object.keys(c).length};let d=ao[a],e=b||{};if(e.fiatValue){let f=+parseFloat(e.fiatValue.toString())||0;f<d.minOrderValue&&(c.fiatValue="Requested amount is lower than supported"),f>d.maxOrderValue&&d.enforceMax&&(c.fiatValue="Requested amount is higher than supported")}if(e.selectedCurrency&&!d.validCurrencies.includes(e.selectedCurrency)&&(c.selectedCurrency="Unsupported currency"),e.selectedCryptoCurrency){let g=Object.values(d.validCryptoCurrenciesByChain).flat().map(a=>a.value),h=a===$.MOONPAY?e.selectedCryptoCurrency.toLowerCase():e.selectedCryptoCurrency;g&&!g.includes(h)&&(c.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:c,isValid:0===Object.keys(c).length}};function aq(a,b,c){let d='MetaMask: Lost connection to "'.concat(a,'".');null!=b&&b.stack&&(d+="\n".concat(b.stack)),am.warn(d),c&&c.listenerCount("error")>0&&c.emit("error",d)}let ar=()=>Math.random().toString(36).slice(2),as=async(a,b)=>{let c,d,e="1.27.3",f=b.version||e;try{if(("binance"===a||"production"===a)&&!b.version){let g;f=(g=ag.prodTorusUrl?{data:ag.prodTorusUrl}:await (0,i.U2)("".concat(ag.api,"/latestversion?name=@toruslabs/torus-embed&version=").concat(e),{},{useAPIKey:!0})).data,ag.prodTorusUrl=g.data}}catch(h){am.error(h,"unable to fetch latest version")}switch(am.info("version used: ",f),a){case"binance":c="https://binance.tor.us/v".concat(f),d="info";break;case"testing":c="https://testing.tor.us",d="debug";break;case"lrc":c="https://lrc.tor.us",d="debug";break;case"beta":c="https://beta.tor.us",d="debug";break;case"development":c="http://localhost:4050",d="debug";break;default:c="https://app.tor.us/v".concat(f),d="error"}return{torusUrl:c,logLevel:d}},at=()=>{let a=window.navigator.language||"en-US",b=a.split("-");return Object.prototype.hasOwnProperty.call(ag.translations,b[0])?b[0]:"en"},au=["eth_subscription"],av=()=>{},aw="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",ax="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function ay(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}j.Ue.defaultMaxListeners=100;let az=function(a,b){let c=!(arguments.length>2)|| void 0===arguments[2]||arguments[2];return(d,e)=>d||e.error?b(d||e.error):!c||Array.isArray(e)?a(e):a(e.result)};class aA extends j.Ue{constructor(a){let{maxEventListeners:b=100,shouldSendMetadata:c=!0,jsonRpcStreamName:e="provider"}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};if(super(),(0,d.Z)(this,"chainId",void 0),(0,d.Z)(this,"selectedAddress",void 0),(0,d.Z)(this,"_rpcEngine",void 0),(0,d.Z)(this,"networkVersion",void 0),(0,d.Z)(this,"shouldSendMetadata",void 0),(0,d.Z)(this,"isTorus",void 0),(0,d.Z)(this,"_publicConfigStore",void 0),(0,d.Z)(this,"tryPreopenHandle",void 0),(0,d.Z)(this,"enable",void 0),(0,d.Z)(this,"_state",void 0),(0,d.Z)(this,"_jsonRpcConnection",void 0),(0,d.Z)(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!(0,Q.duplex)(a))throw Error(an.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(b),this._state=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ay(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ay(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},aA._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=c,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);let f=new j.O4;S()(a,f,a,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new M.ObservableStore({storageKey:"Metamask-Config"}),S()(f.createStream("publicConfig"),(0,M.storeAsStream)(this._publicConfigStore),aq.bind(this,"MetaMask PublicConfigStore")),f.ignoreStream("phishing"),this.on("connect",()=>{this._state.isConnected=!0});let g=(0,j.AP)();S()(g.stream,f.createStream(e),g.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));let h=new j.eI;h.push((0,j.Rq)()),h.push((a,b,c)=>{"string"==typeof a.method&&a.method||(b.error=N.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:a})),c(a=>{let{error:c}=b;return c&&am.error("MetaMask - RPC Error: ".concat(c.message),c),a()})}),h.push(g.middleware),this._rpcEngine=h,g.events.on("notification",a=>{let{method:b,params:c}=a;"wallet_accountsChanged"===b?this._handleAccountsChanged(c):"wallet_unlockStateChanged"===b?this._handleUnlockStateChanged(c):"wallet_chainChanged"===b?this._handleChainChanged(c):au.includes(a.method)&&(this.emit("data",a),this.emit("notification",c.result),this.emit("message",{type:b,data:c}))})}get publicConfigStore(){return this._sentWarnings.publicConfigStore||(am.warn(an.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}async request(a){if(!a||"object"!=typeof a||Array.isArray(a))throw N.ethErrors.rpc.invalidRequest({message:an.errors.invalidRequestArgs(),data:a});let{method:b,params:c}=a;if("string"!=typeof b||0===b.length)throw N.ethErrors.rpc.invalidRequest({message:an.errors.invalidRequestMethod(),data:a});if(void 0!==c&&!Array.isArray(c)&&("object"!=typeof c||null===c))throw N.ethErrors.rpc.invalidRequest({message:an.errors.invalidRequestParams(),data:a});return new Promise((a,d)=>{this._rpcRequest({method:b,params:c},az(a,d))})}sendAsync(a,b){this._rpcRequest(a,b)}addListener(a,b){return this._warnOfDeprecation(a),super.addListener(a,b)}on(a,b){return this._warnOfDeprecation(a),super.on(a,b)}once(a,b){return this._warnOfDeprecation(a),super.once(a,b)}prependListener(a,b){return this._warnOfDeprecation(a),super.prependListener(a,b)}prependOnceListener(a,b){return this._warnOfDeprecation(a),super.prependOnceListener(a,b)}async _initializeState(){try{let{accounts:a,chainId:b,isUnlocked:c,networkVersion:d}=await this.request({method:"wallet_getProviderState"});this.emit("connect",{chainId:b}),this._handleChainChanged({chainId:b,networkVersion:d}),this._handleUnlockStateChanged({accounts:a,isUnlocked:c}),this._handleAccountsChanged(a)}catch(e){am.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{am.info("initialized state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(a,b){let c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=b,e=a;if(!Array.isArray(e)){if(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"===e.method||"eth_requestAccounts"===e.method)d=(a,d)=>{this._handleAccountsChanged(d.result||[],"eth_accounts"===e.method,c),b(a,d)};else if("wallet_getProviderState"===e.method){this._rpcEngine.handle(a,d);return}}this.tryPreopenHandle(e,d)}send(a,b){return(this._sentWarnings.send||(am.warn(an.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"==typeof a&&(!b||Array.isArray(b)))?new Promise((c,d)=>{try{this._rpcRequest({method:a,params:b},az(c,d,!1))}catch(e){d(e)}}):a&&"object"==typeof a&&"function"==typeof b?this._rpcRequest(a,b):this._sendSync(a)}_sendSync(a){let b;switch(a.method){case"eth_accounts":b=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":b=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(a,av),b=!0;break;case"net_version":b=this.networkVersion||null;break;default:throw Error(an.errors.unsupportedSync(a.method))}return{id:a.id,jsonrpc:a.jsonrpc,result:b}}_handleConnect(a){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:a}),am.debug(an.info.connected(a)))}_handleDisconnect(a,b){if(this._state.isConnected|| !this._state.isPermanentlyDisconnected&&!a){this._state.isConnected=!1;let c;a?(c=new N.EthereumRpcError(1013,b||an.errors.disconnected()),am.debug(c)):(c=new N.EthereumRpcError(1011,b||an.errors.permanentlyDisconnected()),am.error(c),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",c)}}_handleStreamDisconnect(a,b){aq(a,b,this),this._handleDisconnect(!1,b?b.message:void 0)}_handleAccountsChanged(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1],c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=a;for(let e of(Array.isArray(d)||(am.error("MetaMask: Received non-array accounts parameter. Please report this bug.",d),d=[]),a))if("string"!=typeof e){am.error("MetaMask: Received non-string account. Please report this bug.",a),d=[];break}P()(this._state.accounts,d)||(b&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!c&&am.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',d),this._state.accounts=d,this.emit("accountsChanged",d)),this.selectedAddress!==d[0]&&(this.selectedAddress=d[0]||null)}_handleChainChanged(){let{chainId:a,networkVersion:b}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};if(!a||!b){am.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:a,networkVersion:b});return}"loading"===b?this._handleDisconnect(!0):(this._handleConnect(a),a!==this.chainId&&(this.chainId=a,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:a,isUnlocked:b}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};if("boolean"!=typeof b){am.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:b});return}b!==this._state.isUnlocked&&(this._state.isUnlocked=b,this._handleAccountsChanged(a||[]))}_warnOfDeprecation(a){!1===this._sentWarnings.events[a]&&(am.warn(an.warnings.events[a]),this._sentWarnings.events[a]=!0)}}(0,d.Z)(aA,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});let aB=a=>({algorithms:a.algorithms||["sha256"],delimiter:a.delimiter||" ",full:a.full||!1}),aC=(a,b)=>{let c={};return a.algorithms.forEach(a=>{c[a]=U()(a).update(b,"utf8").digest("base64")}),c},aD=(a,b)=>{let c="";return c+Object.keys(b.hashes).map(a=>"".concat(a,"-").concat(b.hashes[a])).join(a.delimiter)},aE=(a,b)=>{let c=aB(a),d={hashes:aC(c,b),integrity:void 0};return d.integrity=aD(c,d),c.full?d:d.integrity};class aF extends V.EventEmitter{constructor(a){let{url:b,target:c,features:e}=a;super(),(0,d.Z)(this,"url",void 0),(0,d.Z)(this,"target",void 0),(0,d.Z)(this,"features",void 0),(0,d.Z)(this,"window",void 0),(0,d.Z)(this,"windowTimer",void 0),(0,d.Z)(this,"iClosedWindow",void 0),this.url=b,this.target=c||"_blank",this.features=e||function(){let a=void 0!==window.screenLeft?window.screenLeft:window.screenX,b=void 0!==window.screenTop?window.screenTop:window.screenY,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,d=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,e="titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(Math.abs((d-700)/2/1+b),",left=").concat(Math.abs((c-1200)/2/1+a));return e}(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var a;return this.window=window.open(this.url.href,this.target,this.features),null!==(a=this.window)&& void 0!==a&&a.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(a){a?window.location.replace(this.url.href):window.location.href=this.url.href}}function aG(a){return new Promise((b,c)=>{try{let d=document.createElement("img");d.onload=()=>b(!0),d.onerror=()=>b(!1),d.src=a}catch(e){c(e)}})}let aH=a=>{let{document:b}=a,c=b.querySelector('head > meta[property="og:site_name"]');if(c)return c.content;let d=b.querySelector('head > meta[name="title"]');return d?d.content:b.title&&b.title.length>0?b.title:a.location.hostname};async function aI(a){let{document:b}=a,c=b.querySelector('head > link[rel="shortcut icon"]');return c&&await aG(c.href)||(c=Array.from(b.querySelectorAll('head > link[rel="icon"]')).find(a=>Boolean(a.href)))&&await aG(c.href)?c.href:null}let aJ=async()=>({name:aH(window),icon:await aI(window)});async function aK(a){try{let b=await aJ();a.handle({jsonrpc:"2.0",id:ar(),method:"wallet_sendDomainMetadata",params:b},av)}catch(c){am.error({message:an.errors.sendSiteMetadata(),originalError:c})}}let aL=["host","chainId","networkName"];function aM(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}let aN={[X.GOOGLE]:!0,[X.FACEBOOK]:!0,[X.REDDIT]:!0,[X.TWITCH]:!0,[X.DISCORD]:!0},aO="sha384-1fw4uibEy7k/fIc+PrvRqcvhiKoHw7/Er2RT5fW0GrvGD5GoiBBcKlFlyaPcdjcR",aP=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"],aQ=function(a){let b;try{b=window[a];let c="__storage_test__";return b.setItem(c,c),b.removeItem(c),!0}catch(d){return d&&(22===d.code||1014===d.code||"QuotaExceededError"===d.name||"NS_ERROR_DOM_QUOTA_REACHED"===d.name)&&b&&0!==b.length}}("localStorage");!async function(){try{if("undefined"==typeof document)return;let a=document.createElement("link"),{torusUrl:b}=await as("production",{check:!1,hash:aO,version:""});a.href="".concat(b,"/popup"),a.crossOrigin="anonymous",a.type="text/html",a.rel="prefetch",a.relList&&a.relList.supports&&a.relList.supports("prefetch")&&document.head.appendChild(a)}catch(c){am.warn(c)}}();class aR{constructor(){let{buttonPosition:a=ab.BOTTOM_LEFT,modalZIndex:b=99999,apiKey:c="torus-default"}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};(0,d.Z)(this,"buttonPosition",ab.BOTTOM_LEFT),(0,d.Z)(this,"torusUrl",void 0),(0,d.Z)(this,"torusIframe",void 0),(0,d.Z)(this,"styleLink",void 0),(0,d.Z)(this,"isLoggedIn",void 0),(0,d.Z)(this,"isInitialized",void 0),(0,d.Z)(this,"torusWidgetVisibility",void 0),(0,d.Z)(this,"torusAlert",void 0),(0,d.Z)(this,"nodeDetailManager",void 0),(0,d.Z)(this,"torusJs",void 0),(0,d.Z)(this,"apiKey",void 0),(0,d.Z)(this,"modalZIndex",void 0),(0,d.Z)(this,"alertZIndex",void 0),(0,d.Z)(this,"torusAlertContainer",void 0),(0,d.Z)(this,"isIframeFullScreen",void 0),(0,d.Z)(this,"whiteLabel",void 0),(0,d.Z)(this,"requestedVerifier",void 0),(0,d.Z)(this,"currentVerifier",void 0),(0,d.Z)(this,"embedTranslations",void 0),(0,d.Z)(this,"ethereum",void 0),(0,d.Z)(this,"provider",void 0),(0,d.Z)(this,"communicationMux",void 0),(0,d.Z)(this,"isLoginCallback",void 0),(0,d.Z)(this,"dappStorageKey",void 0),(0,d.Z)(this,"paymentProviders",ag.paymentProviders),(0,d.Z)(this,"loginHint",""),(0,d.Z)(this,"useWalletConnect",void 0),this.buttonPosition=a,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.nodeDetailManager=new h,this.torusJs=new J({metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow",network:"mainnet"}),this.apiKey=c,J.setAPIKey(c),(0,i.ut)(c),this.modalZIndex=b,this.alertZIndex=b+1e3,this.isIframeFullScreen=!1,this.dappStorageKey=""}async init(){let{buildEnv:a=aa.PRODUCTION,enableLogging:b=!1,enabledVerifiers:c=aN,network:d={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:e={},showTorusButton:f=!0,integrity:g={check:!1,hash:aO,version:""},whiteLabel:h,skipTKey:i=!1,useLocalStorage:j=!1,useWalletConnect:k=!1}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw Error("Already initialized");let{torusUrl:l,logLevel:m}=await as(a,g);am.info(l,"url loaded"),this.torusUrl=l,this.whiteLabel=h,this.useWalletConnect=k,am.setDefaultLevel(m),b?am.enableAll():am.disableAll(),this.torusWidgetVisibility=f;let n="";if(aQ&&j){let o="".concat(ag.localStorageKeyPrefix).concat(window.location.hostname),p=window.localStorage.getItem(o);if(p)n=p;else{let q="torus-app-".concat(ar());window.localStorage.setItem(o,q),n=q}}this.dappStorageKey=n;let r=new URL(l);r.pathname.endsWith("/")?r.pathname+="popup":r.pathname+="/popup",n&&(r.hash="#dappStorageKey=".concat(n)),this.torusIframe=ai('<iframe\n        id="torusIframe"\n        allow='.concat(k?"camera":"",'\n        class="torusIframe"\n        src="').concat(r.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex,'"\n      ></iframe>')),this.torusAlertContainer=ai('<div id="torusAlertContainer"></div>'),this.torusAlertContainer.style.display="none",this.torusAlertContainer.style.setProperty("z-index",this.alertZIndex.toString());let s=window.document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href","".concat(l,"/css/widget.css")),this.styleLink=s;let{defaultLanguage:t=at(),customTranslations:u={}}=this.whiteLabel||{},v=L()(ag.translations,u),w=v[t]||ag.translations[at()];this.embedTranslations=w.embed;let x=async()=>(await al(),new Promise((a,b)=>{this.torusIframe.onload=async()=>{this._setupWeb3();let f=this.communicationMux.getStream("init_stream");f.on("data",c=>{let{name:d,data:e,error:f}=c;"init_complete"===d&&e.success?(this.isInitialized=!0,this._displayIframe(this.isIframeFullScreen),a(void 0)):f&&b(Error(f))}),f.write({name:"init_stream",data:{enabledVerifiers:c,loginConfig:e,whiteLabel:this.whiteLabel,buttonPosition:this.buttonPosition,torusWidgetVisibility:this.torusWidgetVisibility,apiKey:this.apiKey,skipTKey:i,network:d}})},window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)}));if("production"===a&&g.check){let y="".concat(l,"/popup"),z=await fetch(y,{cache:"reload"});if("max-age=3600"!==z.headers.get("Cache-Control"))throw Error("Unexpected Cache-Control headers, got ".concat(z.headers.get("Cache-Control")));let A=await z.text(),B=aE({algorithms:["sha384"]},A);if(am.info(B,"integrity"),B===g.hash)await x();else throw this.clearInit(),Error("Integrity check failed")}else await x()}login(){let{verifier:a="",login_hint:b=""}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw Error("Call init() first");return this.requestedVerifier=a,this.loginHint=b,this.ethereum.enable()}logout(){return new Promise((a,b)=>{if(!this.isLoggedIn){b(Error("User has not logged in yet"));return}let c=this.communicationMux.getStream("logout");c.write({name:"logOut"});let d=this.communicationMux.getStream("status"),e=c=>{c.loggedIn?b(Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",a())};ak(d,"data",e)})}async cleanUp(){this.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function a(a){return a instanceof Element||a instanceof HTMLDocument}a(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),a(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),a(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},{host:b="mainnet",chainId:c=null,networkName:e=""}=a,f=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,aL);return new Promise((a,g)=>{let h=this.communicationMux.getStream("provider_change"),i=b=>{let{err:c,success:d}=b.data;am.info(b),c?g(c):d?a():g(Error("some error occured"))};ak(h,"data",i);let j=ar();this._handleWindow(j,{target:"_blank",features:aw}),h.write({name:"show_provider_change",data:{network:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aM(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aM(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({host:b,chainId:c,networkName:e},f),preopenInstanceId:j,override:!1}})})}showWallet(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},c=this.communicationMux.getStream("show_wallet"),d=a?"/".concat(a):"";c.write({name:"show_wallet",data:{path:d}});let e=a=>{if("show_wallet_instance"===a.name){let{instanceId:c}=a.data,e=new URL("".concat(this.torusUrl,"/wallet").concat(d));e.searchParams.append("integrity","true"),e.searchParams.append("instanceId",c),Object.keys(b).forEach(a=>{e.searchParams.append(a,b[a])}),this.dappStorageKey&&(e.hash="#dappStorageKey=".concat(this.dappStorageKey));let f=new aF({url:e,features:"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315"});f.open()}};ak(c,"data",e)}async getPublicAddress(a){let{verifier:b,verifierId:c,isExtended:d=!1}=a;if(!ag.supportedVerifierList.includes(b)||!Z[b])throw Error("Unsupported verifier");let e=await this.nodeDetailManager.getNodeDetails({verifier:b,verifierId:c}),f=e.torusNodeEndpoints,g=e.torusNodePub,h=Z[b];try{let i=await this.torusJs.getUserTypeAndAddress(f,g,{verifier:b,verifierId:c});if("v1"===i.typeOfUser){if(!d)return i.address;return i}let j=await this.torusJs.getUserTypeAndAddress(f,g,{verifier:h,verifierId:c},!0);if(!d)return j.address;return j}catch(k){if(null!=k&&k.message.includes("Verifier + VerifierID has not yet been assigned")){let l=await this.torusJs.getUserTypeAndAddress(f,g,{verifier:h,verifierId:c},!0);if(!d)return l.address;return l}throw k}}getUserInfo(a){return new Promise((b,c)=>{if(this.isLoggedIn){let d=this.communicationMux.getStream("user_info_access");d.write({name:"user_info_access_request"});let e=d=>{let{name:e,data:{approved:f,payload:g,rejected:h,newRequest:i}}=d;if("user_info_access_response"===e){if(f)b(g);else if(h)c(Error("User rejected the request"));else if(i){let j=this.communicationMux.getStream("user_info"),k=a=>{"user_info_response"===a.name&&(a.data.approved?b(a.data.payload):c(Error("User rejected the request")))};ak(j,"data",k);let l=ar();this._handleWindow(l,{target:"_blank",features:aw}),j.write({name:"user_info_request",data:{message:a,preopenInstanceId:l}})}}};ak(d,"data",e)}else c(Error("User has not logged in yet"))})}initiateTopup(a,b){return new Promise((c,d)=>{if(this.isInitialized){let{errors:e,isValid:f}=ap(a,b);if(!f){d(Error(JSON.stringify(e)));return}let g=this.communicationMux.getStream("topup"),h=a=>{"topup_response"===a.name&&(a.data.success?c(a.data.success):d(Error(a.data.error)))};ak(g,"data",h);let i=ar();this._handleWindow(i),g.write({name:"topup_request",data:{provider:a,params:b,preopenInstanceId:i}})}else d(Error("Torus is not initialized yet"))})}async loginWithPrivateKey(a){let{privateKey:b,userInfo:c}=a;return new Promise((a,d)=>{if(this.isInitialized){if(32!==W.from(b,"hex").length){d(Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));return}let e=this.communicationMux.getStream("login_with_private_key"),f=b=>{"login_with_private_key_response"===b.name&&(b.data.success?a(b.data.success):d(Error(b.data.error)))};ak(e,"data",f),e.write({name:"login_with_private_key_request",data:{privateKey:b,userInfo:c}})}else d(Error("Torus is not initialized yet"))})}async showWalletConnectScanner(){if(!this.useWalletConnect)throw Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise((a,b)=>{if(this.isLoggedIn){let c=this.communicationMux.getStream("wallet_connect_stream"),d=c=>{"wallet_connect_stream_res"===c.name&&(c.data.success?a(c.data.success):b(Error(c.data.error)),this._displayIframe())};ak(c,"data",d),c.write({name:"wallet_connect_stream_req"}),this._displayIframe(!0)}else b(Error("User has not logged in yet"))})}_handleWindow(a){let{url:b,target:c,features:d}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};if(a){let e=this.communicationMux.getStream("window"),f=new URL(b||"".concat(this.torusUrl,"/redirect?preopenInstanceId=").concat(a));this.dappStorageKey&&(f.hash?f.hash+="&dappStorageKey=".concat(this.dappStorageKey):f.hash="#dappStorageKey=".concat(this.dappStorageKey));let g=new aF({url:f,target:c,features:d});if(g.open(),!g.window){this._createPopupBlockAlert(a,f.href);return}e.write({name:"opened_window",data:{preopenInstanceId:a}});let h=b=>{let{preopenInstanceId:c,close:d}=b;c===a&&d&&(g.close(),e.removeListener("data",h))};e.on("data",h),g.once("close",()=>{e.write({data:{preopenInstanceId:a,closed:!0}}),e.removeListener("data",h)})}}_setEmbedWhiteLabel(a){let{theme:b}=this.whiteLabel||{};if(b){let{isDark:c=!1,colors:d={}}=b;c&&a.classList.add("torus-dark"),d.torusBrand1&&a.style.setProperty("--torus-brand-1",d.torusBrand1),d.torusGray2&&a.style.setProperty("--torus-gray-2",d.torusGray2)}}_getLogoUrl(){var a,b,c,d;let e="".concat(this.torusUrl,"/images/torus_icon-blue.svg");return null!==(a=this.whiteLabel)&& void 0!==a&&null!==(b=a.theme)&& void 0!==b&&b.isDark?(null===(c=this.whiteLabel)|| void 0===c?void 0:c.logoLight)||e:(null===(d=this.whiteLabel)|| void 0===d?void 0:d.logoDark)||e}_sendWidgetVisibilityStatus(a){let b=this.communicationMux.getStream("torus-widget-visibility");b.write({data:a})}_displayIframe(){let a=arguments.length>0&& void 0!==arguments[0]&&arguments[0],b={};if(a)b.display="block",b.width="100%",b.height="100%",b.top="0px",b.right="0px",b.left="0px",b.bottom="0px";else switch(b.display=this.torusWidgetVisibility?"block":"none",b.height="70px",b.width="70px",this.buttonPosition){case ab.TOP_LEFT:b.top="0px",b.left="0px",b.right="auto",b.bottom="auto";break;case ab.TOP_RIGHT:b.top="0px",b.right="0px",b.left="auto",b.bottom="auto";break;case ab.BOTTOM_RIGHT:b.bottom="0px",b.right="0px",b.top="auto",b.left="auto";break;case ab.BOTTOM_LEFT:default:b.bottom="0px",b.left="0px",b.top="auto",b.right="auto"}Object.assign(this.torusIframe.style,b),this.isIframeFullScreen=a}_setupWeb3(){am.info("setupWeb3 running");let a=new j.XR({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),b=new j.XR({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),c=new aA(a),d=a=>{let b=c[a];c[a]=function(a){if(a&&"eth_requestAccounts"===a)return c.enable();for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b.apply(this,[a,...e])}};d("send"),d("sendAsync"),c.enable=()=>new Promise((a,b)=>{c.sendAsync({jsonrpc:"2.0",id:ar(),method:"eth_requestAccounts",params:[]},(c,d)=>{let{result:e}=d||{};if(c)setTimeout(()=>{b(c)},50);else if(Array.isArray(e)&&e.length>0){let f=()=>{if(""!==this.requestedVerifier&&this.currentVerifier!==this.requestedVerifier){let{requestedVerifier:c}=this;this.logout().then(d=>{this.requestedVerifier=c,this._showLoginPopup(!0,a,b)}).catch(a=>b(a))}else a(e)};this.isLoggedIn?f():this.isLoginCallback=f}else this._showLoginPopup(!0,a,b)})}),c.tryPreopenHandle=(a,b)=>{let d=a;if(!Array.isArray(d)&&aP.includes(d.method)){let e=ar();this._handleWindow(e,{target:"_blank",features:ax}),d.preopenInstanceId=e}c._rpcEngine.handle(d,b)};let e=new Proxy(c,{deleteProperty:()=>!0});this.ethereum=e;let f=(0,j.V2)(b);this.communicationMux=f;let g=f.getStream("window");g.on("data",a=>{"create_window"===a.name&&this._createPopupBlockAlert(a.data.preopenInstanceId,a.data.url)});let h=f.getStream("widget");h.on("data",a=>{let{data:b}=a;this._displayIframe(b)});let i=f.getStream("status");i.on("data",a=>{a.loggedIn?(this.isLoggedIn=a.loggedIn,this.currentVerifier=a.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)}),this.provider=e,this.provider.shouldSendMetadata&&aK(this.provider._rpcEngine),c._initializeState(),am.debug("Torus - injected provider")}_showLoginPopup(a,b,c){let d=a=>{let{err:d,selectedAddress:e}=a;d?(am.error(d),c&&c(d)):b&&b([e]),this.isIframeFullScreen&&this._displayIframe()},e=this.communicationMux.getStream("oauth");if(this.requestedVerifier){ak(e,"data",d);let f=ar();this._handleWindow(f),e.write({name:"oauth",data:{calledFromEmbed:a,verifier:this.requestedVerifier,preopenInstanceId:f,login_hint:this.loginHint}})}else this._displayIframe(!0),ak(e,"data",d),e.write({name:"oauth_modal",data:{calledFromEmbed:a}})}_createPopupBlockAlert(a,b){let c=this._getLogoUrl(),d=ai('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(c,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),e=ai('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),f=ai('<div id="torusAlert__btn-container"></div>');f.appendChild(e),d.appendChild(f);let g=()=>{e.addEventListener("click",()=>{this._handleWindow(a,{url:b,target:"_blank",features:ax}),d.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})};this._setEmbedWhiteLabel(d);let h=()=>{this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(d)};ah(h),ah(g)}}var aS=c(45624),aT=c(35796);function aU(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aV(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aU(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aU(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}class aW extends aT.d{constructor(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};super(),(0,d.Z)(this,"name",aS.rW.TORUS_EVM),(0,d.Z)(this,"adapterNamespace",aS.yk.EIP155),(0,d.Z)(this,"currentChainNamespace",aS.EN.EIP155),(0,d.Z)(this,"type",aS.hN.EXTERNAL),(0,d.Z)(this,"status",aS.MP.NOT_READY),(0,d.Z)(this,"torusInstance",null),(0,d.Z)(this,"torusWalletOptions",void 0),(0,d.Z)(this,"initParams",void 0),(0,d.Z)(this,"loginSettings",{}),(0,d.Z)(this,"rehydrated",!1),this.torusWalletOptions=a.adapterSettings||{},this.initParams=a.initParams||{},this.loginSettings=a.loginSettings||{},this.chainConfig=a.chainConfig||null,this.sessionTime=a.sessionTime||86400}get provider(){return this.status===aS.MP.CONNECTED&&this.torusInstance?this.torusInstance.provider:null}set provider(a){throw Error("Not implemented")}async init(a){super.checkInitializationRequirements();let b;if(this.chainConfig){let{chainId:c,blockExplorer:d,displayName:e,rpcTarget:f}=this.chainConfig;b={chainId:parseInt(c,16),host:f,blockExplorer:d,networkName:e}}else{this.chainConfig=(0,aS.h2)(aS.EN.EIP155,1);let{blockExplorer:g,displayName:h}=this.chainConfig;b={chainId:1,host:"mainnet",blockExplorer:g,networkName:h}}this.torusInstance=new aR(this.torusWalletOptions),aS.cM.debug("initializing torus evm adapter init"),await this.torusInstance.init(aV(aV({showTorusButton:!1},this.initParams),{},{network:b})),this.status=aS.MP.READY,this.emit(aS.n2.READY,aS.rW.TORUS_EVM);try{aS.cM.debug("initializing torus evm adapter"),a.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(i){aS.cM.error("Failed to connect with torus evm provider",i),this.emit(aS.n2.ERRORED,i)}}async connect(){if(super.checkConnectionRequirements(),!this.torusInstance)throw aS.Ty.notReady("Torus wallet is not initialized");this.status=aS.MP.CONNECTING,this.emit(aS.n2.CONNECTING,{adapter:aS.rW.TORUS_EVM});try{await this.torusInstance.login(this.loginSettings);let{chainId:a}=this.torusInstance.provider;if(a&&parseInt(a)!==parseInt(this.chainConfig.chainId,16)){let{chainId:b,blockExplorer:c,displayName:d,rpcTarget:e,ticker:f,tickerName:g}=this.chainConfig,h={chainId:b,host:e,blockExplorerUrl:c,networkName:d,tickerName:g,ticker:f,logo:""};await this.torusInstance.setProvider(aV({},h));let i=await this.torusInstance.ethereum.request({method:"eth_chainId"});if(i&&parseInt(i)!==parseInt(this.chainConfig.chainId,16))throw aS.Ty.fromCode(5e3,"Not connected to correct chainId. Expected: ".concat(this.chainConfig.chainId,", Current: ").concat(i))}return this.status=aS.MP.CONNECTED,this.torusInstance.showTorusButton(),this.emit(aS.MP.CONNECTED,{adapter:aS.rW.TORUS_EVM,reconnected:this.rehydrated}),this.provider}catch(j){throw this.status=aS.MP.READY,this.rehydrated=!1,this.emit(aS.MP.ERRORED,j),j instanceof aS.up?j:aS.RM.connectionError("Failed to login with torus wallet")}}async disconnect(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{cleanup:!1};if(!this.torusInstance)throw aS.Ty.notReady("Torus wallet is not initialized");await super.disconnect(),await this.torusInstance.logout(),this.torusInstance.hideTorusButton(),a.cleanup?(this.status=aS.MP.NOT_READY,this.torusInstance=null):this.status=aS.MP.READY,this.rehydrated=!1,this.emit(aS.n2.DISCONNECTED)}async getUserInfo(){if(this.status!==aS.MP.CONNECTED)throw aS.RM.notConnectedError("Not connected with wallet");if(!this.torusInstance)throw aS.Ty.notReady("Torus wallet is not initialized");let a=await this.torusInstance.getUserInfo("");return a}setAdapterSettings(a){this.status!==aS.MP.READY&&null!=a&&a.sessionTime&&(this.sessionTime=a.sessionTime)}}},63367:function(a,b,c){var d,e;!function(f){void 0!==(e="function"==typeof(d=f)?d.call(b,c,b,a):d)&&(a.exports=e)}(function(){"use strict";function a(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function b(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function d(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}function e(a){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function f(a,b){return(f=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function g(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function h(a,b,c){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=e(a)););return a}(a,b);if(d){var f=Object.getOwnPropertyDescriptor(d,b);return f.get?f.get.call(c):f.value}})(a,b,c||a)}var i=function(){function b(){a(this,b),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return d(b,[{key:"addEventListener",value:function(a,b,c){a in this.listeners||(this.listeners[a]=[]),this.listeners[a].push({callback:b,options:c})}},{key:"removeEventListener",value:function(a,b){if(a in this.listeners){for(var c=this.listeners[a],d=0,e=c.length;d<e;d++)if(c[d].callback===b){c.splice(d,1);return}}}},{key:"dispatchEvent",value:function(a){if(a.type in this.listeners){for(var b=this.listeners[a.type].slice(),c=0,d=b.length;c<d;c++){var e=b[c];try{e.callback.call(this,a)}catch(f){Promise.resolve().then(function(){throw f})}e.options&&e.options.once&&this.removeEventListener(a.type,e.callback)}return!a.defaultPrevented}}}]),b}(),j=function(b){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&f(a,b)}(l,b);var c,j,k=(c=l,j=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b,d,f=e(c);if(j){var h=e(this).constructor;d=Reflect.construct(f,arguments,h)}else d=f.apply(this,arguments);return a=this,(b=d)&&("object"==typeof b||"function"==typeof b)?b:g(a)});function l(){var b;return a(this,l),(b=k.call(this)).listeners||i.call(g(b)),Object.defineProperty(g(b),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(g(b),"onabort",{value:null,writable:!0,configurable:!0}),b}return d(l,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(a){"abort"===a.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,a)),h(e(l.prototype),"dispatchEvent",this).call(this,a)}}]),l}(i),k=function(){function b(){a(this,b),Object.defineProperty(this,"signal",{value:new j,writable:!0,configurable:!0})}return d(b,[{key:"abort",value:function(){var a;try{a=new Event("abort")}catch(b){"undefined"!=typeof document?document.createEvent?(a=document.createEvent("Event")).initEvent("abort",!1,!1):(a=document.createEventObject()).type="abort":a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)}},{key:"toString",value:function(){return"[object AbortController]"}}]),b}();function l(a){return a.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof a.Request&&!a.Request.prototype.hasOwnProperty("signal")||!a.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(k.prototype[Symbol.toStringTag]="AbortController",j.prototype[Symbol.toStringTag]="AbortSignal"),!function(a){if(l(a)){if(!a.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var b=function(a){"function"==typeof a&&(a={fetch:a});var b=a,c=b.fetch,d=b.Request,e=void 0===d?c.Request:d,f=b.AbortController,g=b.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,h=void 0!==g&&g;if(!l({fetch:c,Request:e,AbortController:f,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:h}))return{fetch:c,Request:i};var i=e;(i&&!i.prototype.hasOwnProperty("signal")||h)&&((i=function(a,b){b&&b.signal&&(c=b.signal,delete b.signal);var c,d=new e(a,b);return c&&Object.defineProperty(d,"signal",{writable:!1,enumerable:!1,configurable:!0,value:c}),d}).prototype=e.prototype);var j=c;return{fetch:function(a,b){var c=i&&i.prototype.isPrototypeOf(a)?a.signal:b?b.signal:void 0;if(c){try{e=new DOMException("Aborted","AbortError")}catch(d){(e=Error("Aborted")).name="AbortError"}if(c.aborted)return Promise.reject(e);var e,f=new Promise(function(a,b){c.addEventListener("abort",function(){return b(e)},{once:!0})});return b&&b.signal&&delete b.signal,Promise.race([f,j(a,b)])}return j(a,b)},Request:i}}(a),c=b.fetch,d=b.Request;a.fetch=c,a.Request=d,Object.defineProperty(a,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:k}),Object.defineProperty(a,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:j})}}("undefined"!=typeof self?self:c.g)})},16497:function(a,b,c){function d(a){return Object.prototype.toString.call(a)}b.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===d(a)},b.isBoolean=function(a){return"boolean"==typeof a},b.isNull=function(a){return null===a},b.isNullOrUndefined=function(a){return null==a},b.isNumber=function(a){return"number"==typeof a},b.isString=function(a){return"string"==typeof a},b.isSymbol=function(a){return"symbol"==typeof a},b.isUndefined=function(a){return void 0===a},b.isRegExp=function(a){return"[object RegExp]"===d(a)},b.isObject=function(a){return"object"==typeof a&&null!==a},b.isDate=function(a){return"[object Date]"===d(a)},b.isError=function(a){return"[object Error]"===d(a)||a instanceof Error},b.isFunction=function(a){return"function"==typeof a},b.isPrimitive=function(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a|| void 0===a},b.isBuffer=c(48764).Buffer.isBuffer},284:function(a){var b=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw Error("Unable to resolve global `this`")};a.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(a){return b()}try{if(!__global__)return b();return __global__}finally{delete Object.prototype.__global__}}()},82702:function(a,b,c){var d=c(34155);!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){return"function"==typeof a}var b,e,f,g,h=void 0,i=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},j=0,k=void 0,l=void 0,m=function(a,b){v[j]=a,v[j+1]=b,2===(j+=2)&&(l?l(w):x())};function n(a){l=a}function o(a){m=a}var p="undefined"!=typeof window?window:void 0,q=p||{},r=q.MutationObserver||q.WebKitMutationObserver,s="undefined"==typeof self&& void 0!==d&&"[object process]"===({}).toString.call(d),t="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var a=setTimeout;return function(){return a(w,1)}}var v=Array(1e3);function w(){for(var a=0;a<j;a+=2){var b=v[a],c=v[a+1];b(c),v[a]=void 0,v[a+1]=void 0}j=0}var x=void 0;function y(a,b){var c=this,d=new this.constructor(B);void 0===d[A]&&M(d);var e=c._state;if(e){var f=arguments[e-1];m(function(){return K(e,d,f,c._result)})}else I(c,d,a,b);return d}function z(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=new this(B);return E(b,a),b}x=s?function(){return d.nextTick(w)}:r?(b=0,e=new r(w),f=document.createTextNode(""),e.observe(f,{characterData:!0}),function(){f.data=b=++b%2}):t?((g=new MessageChannel).port1.onmessage=w,function(){return g.port2.postMessage(0)}):void 0===p?function(){try{var a=Function("return this")().require("vertx");return k=a.runOnLoop||a.runOnContext,void 0!==k?function(){k(w)}:u()}catch(b){return u()}}():u();var A=Math.random().toString(36).substring(2);function B(){}var C=void 0;function D(b,c,d){var e,f,g,h,i;c.constructor===b.constructor&&d===y&&c.constructor.resolve===z?(e=b,1===(f=c)._state?G(e,f._result):2===f._state?H(e,f._result):I(f,void 0,function(a){return E(e,a)},function(a){return H(e,a)})):void 0===d?G(b,c):a(d)?(g=b,h=c,i=d,m(function(a){var b=!1,c=function(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}(i,h,function(c){!b&&(b=!0,h!==c?E(a,c):G(a,c))},function(c){!b&&(b=!0,H(a,c))},"Settle: "+(a._label||" unknown promise"));!b&&c&&(b=!0,H(a,c))},g)):G(b,c)}function E(a,b){if(a===b)H(a,TypeError("You cannot resolve a promise with itself"));else if(d=typeof(c=b),null!==c&&("object"===d||"function"===d)){var c,d,e=void 0;try{e=b.then}catch(f){H(a,f);return}D(a,b,e)}else G(a,b)}function F(a){a._onerror&&a._onerror(a._result),J(a)}function G(a,b){a._state===C&&(a._result=b,a._state=1,0!==a._subscribers.length&&m(J,a))}function H(a,b){a._state===C&&(a._state=2,a._result=b,m(F,a))}function I(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+1]=c,e[f+2]=d,0===f&&a._state&&m(J,a)}function J(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?K(c,d,e,f):e(f);a._subscribers.length=0}}function K(b,c,d,e){var f=a(d),g=void 0,h=void 0,i=!0;if(f){try{g=d(e)}catch(j){i=!1,h=j}if(c===g){H(c,TypeError("A promises callback cannot return that same promise."));return}}else g=e;c._state!==C||(f&&i?E(c,g):!1===i?H(c,h):1===b?G(c,g):2===b&&H(c,g))}var L=0;function M(a){a[A]=L++,a._state=void 0,a._result=void 0,a._subscribers=[]}var N=function(){function a(a,b){this._instanceConstructor=a,this.promise=new a(B),this.promise[A]||M(this.promise),i(b)?(this.length=b.length,this._remaining=b.length,this._result=Array(this.length),0===this.length?G(this.promise,this._result):(this.length=this.length||0,this._enumerate(b),0===this._remaining&&G(this.promise,this._result))):H(this.promise,Error("Array Methods must be provided an Array"))}return a.prototype._enumerate=function(a){for(var b=0;this._state===C&&b<a.length;b++)this._eachEntry(a[b],b)},a.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===z){var e=void 0,f=void 0,g=!1;try{e=a.then}catch(h){g=!0,f=h}if(e===y&&a._state!==C)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===O){var i=new c(B);g?H(i,f):D(i,a,e),this._willSettleAt(i,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},a.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===C&&(this._remaining--,2===a?H(d,c):this._result[b]=c),0===this._remaining&&G(d,this._result)},a.prototype._willSettleAt=function(a,b){var c=this;I(a,void 0,function(a){return c._settledAt(1,b,a)},function(a){return c._settledAt(2,b,a)})},a}(),O=function(){function b(a){this[A]=L++,this._result=this._state=void 0,this._subscribers=[],B!==a&&("function"!=typeof a&&function(){throw TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof b?function(a,b){try{b(function(b){E(a,b)},function(b){H(a,b)})}catch(c){H(a,c)}}(this,a):function(){throw TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return b.prototype.catch=function(a){return this.then(null,a)},b.prototype.finally=function(b){var c=this.constructor;return a(b)?this.then(function(a){return c.resolve(b()).then(function(){return a})},function(a){return c.resolve(b()).then(function(){throw a})}):this.then(b,b)},b}();return O.prototype.then=y,O.all=function(a){return new N(this,a).promise},O.race=function(a){var b=this;return new b(i(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(TypeError("You must pass an array to race."))})},O.resolve=z,O.reject=function(a){var b=new this(B);return H(b,a),b},O._setScheduler=n,O._setAsap=o,O._asap=m,O.polyfill=function(){var a=void 0;if(void 0!==c.g)a=c.g;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw Error("polyfill failed because global object is unavailable in this environment")}var d=a.Promise;if(d){var e=null;try{e=Object.prototype.toString.call(d.resolve())}catch(f){}if("[object Promise]"===e&&!d.cast)return}a.Promise=O},O.Promise=O,O})},46877:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(339);function e(a){return!!("string"==typeof a&&/^(0x)?[0-9a-f]{512}$/i.test(a))&&!!(/^(0x)?[0-9a-f]{512}$/.test(a)||/^(0x)?[0-9A-F]{512}$/.test(a))}function f(a,b){"object"==typeof b&&b.constructor===Uint8Array&&(b=d.bytesToHex(b));let c=d.keccak256(b).replace("0x","");for(let e=0;e<12;e+=4){let f=(parseInt(c.substr(e,2),16)<<8)+parseInt(c.substr(e+2,2),16)&2047,h=g(a.charCodeAt(a.length-1-Math.floor(f/4))),i=1<<f%4;if((h&i)!==i)return!1}return!0}function g(a){if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;throw Error("invalid bloom")}function h(a){return"string"==typeof a&&!!(/^(0x)?[0-9a-f]{64}$/i.test(a)&&(/^(0x)?[0-9a-f]{64}$/.test(a)||/^(0x)?[0-9A-F]{64}$/.test(a)))}function i(a){return"string"==typeof a&&!!(a.match(/^(0x)?[0-9a-fA-F]{40}$/)||a.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}b.isBloom=e,b.isInBloom=f,b.isUserEthereumAddressInBloom=function(a,b){if(!e(a))throw Error("Invalid bloom given");if(!i(b))throw Error(`Invalid ethereum address given: "${b}"`);let c=d.padLeft(b,64);return f(a,c)},b.isContractAddressInBloom=function(a,b){if(!e(a))throw Error("Invalid bloom given");if(!i(b))throw Error(`Invalid contract address given: "${b}"`);return f(a,b)},b.isTopicInBloom=function(a,b){if(!e(a))throw Error("Invalid bloom given");if(!h(b))throw Error("Invalid topic");return f(a,b)},b.isTopic=h,b.isAddress=i},339:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(91094);function e(a){if(null==a)throw Error("cannot convert null value to array");if("string"==typeof a){let b=a.match(/^(0x)?[0-9a-fA-F]*$/);if(!b)throw Error("invalid hexidecimal string");if("0x"!==b[1])throw Error("hex string must have 0x prefix");(a=a.substring(2)).length%2&&(a="0"+a);let c=[];for(let d=0;d<a.length;d+=2)c.push(parseInt(a.substr(d,2),16));return g(new Uint8Array(c))}if(f(a))return g(new Uint8Array(a));throw Error("invalid arrayify value")}function f(a){if(!a||parseInt(String(a.length))!=a.length||"string"==typeof a)return!1;for(let b=0;b<a.length;b++){let c=a[b];if(c<0||c>=256||parseInt(String(c))!=c)return!1}return!0}function g(a){return void 0!==a.slice||(a.slice=()=>{let b=Array.prototype.slice.call(arguments);return g(new Uint8Array(Array.prototype.slice.apply(a,b)))}),a}b.keccak256=function(a){return"0x"+d.keccak_256(e(a))},b.padLeft=(a,b)=>{let c=/^0x/i.test(a)||"number"==typeof a;a=a.toString().replace(/^0x/i,"");let d=b-a.length+1>=0?b-a.length+1:0;return(c?"0x":"")+Array(d).join("0")+a},b.bytesToHex=function(a){let b=[];for(let c=0;c<a.length;c++)b.push((a[c]>>>4).toString(16)),b.push((15&a[c]).toString(16));return`0x${b.join("").replace(/^0+/,"")}`},b.toByteArray=e},94278:function(a,b,c){"use strict";var d=c(43614),e=c(83206),f=new d(0),g=new d(-1),h={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function i(a){var b=h[a?a.toLowerCase():"ether"];if("string"!=typeof b)throw Error("[ethjs-unit] the unit provided "+a+" doesn't exists, please use the one of the following units "+JSON.stringify(h,null,2));return new d(b,10)}function j(a){if("string"==typeof a){if(!a.match(/^-?[0-9.]+$/))throw Error("while converting number to string, invalid number value '"+a+"', should be a number matching (^-?[0-9.]+).");return a}if("number"==typeof a)return String(a);if("object"==typeof a&&a.toString&&(a.toTwos||a.dividedToIntegerBy))return a.toPrecision?String(a.toPrecision()):a.toString(10);throw Error("while converting number to string, invalid number value '"+a+"' type "+typeof a+".")}a.exports={unitMap:h,numberToString:j,getValueOfUnit:i,fromWei:function(a,b,c){var d=e(a),j=d.lt(f),k=i(b),l=h[b].length-1||1,m=c||{};j&&(d=d.mul(g));for(var n=d.mod(k).toString(10);n.length<l;)n="0"+n;m.pad||(n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var o=d.div(k).toString(10);m.commify&&(o=o.replace(/\B(?=(\d{3})+(?!\d))/g,","));var p=""+o+("0"==n?"":"."+n);return j&&(p="-"+p),p},toWei:function(a,b){var c=j(a),e=i(b),f=h[b].length-1||1,k="-"===c.substring(0,1);if(k&&(c=c.substring(1)),"."===c)throw Error("[ethjs-unit] while converting number "+a+" to wei, invalid value");var l=c.split(".");if(l.length>2)throw Error("[ethjs-unit] while converting number "+a+" to wei,  too many decimal points");var m=l[0],n=l[1];if(m||(m="0"),n||(n="0"),n.length>f)throw Error("[ethjs-unit] while converting number "+a+" to wei, too many decimal places");for(;n.length<f;)n+="0";m=new d(m),n=new d(n);var o=m.mul(e).add(n);return k&&(o=o.mul(g)),new d(o.toString(10),10)}}},43614:function(a,b,c){!function(a,b){"use strict";function d(a,b){if(!a)throw Error(b||"Assertion failed")}function e(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}function f(a,b,c){if(f.isBN(a))return a;this.negative=0,this.words=null,this.length=0,this.red=null,null!==a&&(("le"===b||"be"===b)&&(c=b,b=10),this._init(a||0,b||10,c||"be"))}"object"==typeof a?a.exports=f:b.BN=f,f.BN=f,f.wordSize=26;try{j=c(48764).Buffer}catch(g){}function h(a,b,c){for(var d=0,e=Math.min(a.length,c),f=b;f<e;f++){var g=a.charCodeAt(f)-48;d<<=4,g>=49&&g<=54?d|=g-49+10:g>=17&&g<=22?d|=g-17+10:d|=15&g}return d}function i(a,b,c,d){for(var e=0,f=Math.min(a.length,c),g=b;g<f;g++){var h=a.charCodeAt(g)-48;e*=d,h>=49?e+=h-49+10:h>=17?e+=h-17+10:e+=h}return e}f.isBN=function(a){return a instanceof f||null!==a&&"object"==typeof a&&a.constructor.wordSize===f.wordSize&&Array.isArray(a.words)},f.max=function(a,b){return a.cmp(b)>0?a:b},f.min=function(a,b){return 0>a.cmp(b)?a:b},f.prototype._init=function(a,b,c){if("number"==typeof a)return this._initNumber(a,b,c);if("object"==typeof a)return this._initArray(a,b,c);"hex"===b&&(b=16),d(b===(0|b)&&b>=2&&b<=36);var e=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&e++,16===b?this._parseHex(a,e):this._parseBase(a,b,e),"-"===a[0]&&(this.negative=1),this.strip(),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initNumber=function(a,b,c){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(d(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initArray=function(a,b,c){if(d("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=Array(this.length);for(var e,f,g=0;g<this.length;g++)this.words[g]=0;var h=0;if("be"===c)for(g=a.length-1,e=0;g>=0;g-=3)f=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[e]|=f<<h&67108863,this.words[e+1]=f>>>26-h&67108863,(h+=24)>=26&&(h-=26,e++);else if("le"===c)for(g=0,e=0;g<a.length;g+=3)f=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[e]|=f<<h&67108863,this.words[e+1]=f>>>26-h&67108863,(h+=24)>=26&&(h-=26,e++);return this.strip()},f.prototype._parseHex=function(a,b){this.length=Math.ceil((a.length-b)/6),this.words=Array(this.length);for(var c,d,e=0;e<this.length;e++)this.words[e]=0;var f=0;for(e=a.length-6,c=0;e>=b;e-=6)d=h(a,e,e+6),this.words[c]|=d<<f&67108863,this.words[c+1]|=d>>>26-f&4194303,(f+=24)>=26&&(f-=26,c++);e+6!==b&&(d=h(a,b,e+6),this.words[c]|=d<<f&67108863,this.words[c+1]|=d>>>26-f&4194303),this.strip()},f.prototype._parseBase=function(a,b,c){this.words=[0],this.length=1;for(var d=0,e=1;e<=67108863;e*=b)d++;d--,e=e/b|0;for(var f=a.length-c,g=f%d,h=Math.min(f,f-g)+c,j=0,k=c;k<h;k+=d)j=i(a,k,k+d,b),this.imuln(e),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(0!==g){var l=1;for(j=i(a,k,a.length,b),k=0;k<g;k++)l*=b;this.imuln(l),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}},f.prototype.copy=function(a){a.words=Array(this.length);for(var b=0;b<this.length;b++)a.words[b]=this.words[b];a.length=this.length,a.negative=this.negative,a.red=this.red},f.prototype.clone=function(){var a=new f(null);return this.copy(a),a},f.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},f.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var j,k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function n(a,b,c){c.negative=b.negative^a.negative;var d=a.length+b.length|0;c.length=d,d=d-1|0;var e=0|a.words[0],f=0|b.words[0],g=e*f,h=67108863&g,i=g/67108864|0;c.words[0]=h;for(var j=1;j<d;j++){for(var k=i>>>26,l=67108863&i,m=Math.min(j,b.length-1),n=Math.max(0,j-a.length+1);n<=m;n++){var o=j-n|0;k+=(g=(e=0|a.words[o])*(f=0|b.words[n])+l)/67108864|0,l=67108863&g}c.words[j]=0|l,i=0|k}return 0!==i?c.words[j]=0|i:c.length--,c.strip()}f.prototype.toString=function(a,b){if(b=0|b||1,16===(a=a||10)||"hex"===a){c="";for(var c,e=0,f=0,g=0;g<this.length;g++){var h=this.words[g],i=((h<<e|f)&16777215).toString(16);c=0!=(f=h>>>24-e&16777215)||g!==this.length-1?k[6-i.length]+i+c:i+c,(e+=2)>=26&&(e-=26,g--)}for(0!==f&&(c=f.toString(16)+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}if(a===(0|a)&&a>=2&&a<=36){var j=l[a],n=m[a];c="";var o=this.clone();for(o.negative=0;!o.isZero();){var p=o.modn(n).toString(a);c=(o=o.idivn(n)).isZero()?p+c:k[j-p.length]+p+c}for(this.isZero()&&(c="0"+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}d(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(a,b){return d(void 0!==j),this.toArrayLike(j,a,b)},f.prototype.toArray=function(a,b){return this.toArrayLike(Array,a,b)},f.prototype.toArrayLike=function(a,b,c){var e,f,g=this.byteLength(),h=c||Math.max(1,g);d(g<=h,"byte array longer than desired length"),d(h>0,"Requested array length <= 0"),this.strip();var i=new a(h),j=this.clone();if("le"===b){for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[f]=e;for(;f<h;f++)i[f]=0}else{for(f=0;f<h-g;f++)i[f]=0;for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[h-f-1]=e}return i},Math.clz32?f.prototype._countBits=function(a){return 32-Math.clz32(a)}:f.prototype._countBits=function(a){var b=a,c=0;return b>=4096&&(c+=13,b>>>=13),b>=64&&(c+=7,b>>>=7),b>=8&&(c+=4,b>>>=4),b>=2&&(c+=2,b>>>=2),c+b},f.prototype._zeroBits=function(a){if(0===a)return 26;var b=a,c=0;return(8191&b)==0&&(c+=13,b>>>=13),(127&b)==0&&(c+=7,b>>>=7),(15&b)==0&&(c+=4,b>>>=4),(3&b)==0&&(c+=2,b>>>=2),(1&b)==0&&c++,c},f.prototype.bitLength=function(){var a=this.words[this.length-1],b=this._countBits(a);return(this.length-1)*26+b},f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,b=0;b<this.length;b++){var c=this._zeroBits(this.words[b]);if(a+=c,26!==c)break}return a},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},f.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return 0!==this.negative},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var b=0;b<a.length;b++)this.words[b]=this.words[b]|a.words[b];return this.strip()},f.prototype.ior=function(a){return d((this.negative|a.negative)==0),this.iuor(a)},f.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},f.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},f.prototype.iuand=function(a){var b;b=this.length>a.length?a:this;for(var c=0;c<b.length;c++)this.words[c]=this.words[c]&a.words[c];return this.length=b.length,this.strip()},f.prototype.iand=function(a){return d((this.negative|a.negative)==0),this.iuand(a)},f.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},f.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},f.prototype.iuxor=function(a){this.length>a.length?(b=this,c=a):(b=a,c=this);for(var b,c,d=0;d<c.length;d++)this.words[d]=b.words[d]^c.words[d];if(this!==b)for(;d<b.length;d++)this.words[d]=b.words[d];return this.length=b.length,this.strip()},f.prototype.ixor=function(a){return d((this.negative|a.negative)==0),this.iuxor(a)},f.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},f.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},f.prototype.inotn=function(a){d("number"==typeof a&&a>=0);var b=0|Math.ceil(a/26),c=a%26;this._expand(b),c>0&&b--;for(var e=0;e<b;e++)this.words[e]=67108863& ~this.words[e];return c>0&&(this.words[e]=~this.words[e]&67108863>>26-c),this.strip()},f.prototype.notn=function(a){return this.clone().inotn(a)},f.prototype.setn=function(a,b){d("number"==typeof a&&a>=0);var c=a/26|0,e=a%26;return this._expand(c+1),b?this.words[c]=this.words[c]|1<<e:this.words[c]=this.words[c]& ~(1<<e),this.strip()},f.prototype.iadd=function(a){if(0!==this.negative&&0===a.negative)return this.negative=0,b=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,b=this.isub(a),a.negative=1,b._normSign();this.length>a.length?(c=this,d=a):(c=a,d=this);for(var b,c,d,e=0,f=0;f<d.length;f++)b=(0|c.words[f])+(0|d.words[f])+e,this.words[f]=67108863&b,e=b>>>26;for(;0!==e&&f<c.length;f++)b=(0|c.words[f])+e,this.words[f]=67108863&b,e=b>>>26;if(this.length=c.length,0!==e)this.words[this.length]=e,this.length++;else if(c!==this)for(;f<c.length;f++)this.words[f]=c.words[f];return this},f.prototype.add=function(a){var b;return 0!==a.negative&&0===this.negative?(a.negative=0,b=this.sub(a),a.negative^=1,b):0===a.negative&&0!==this.negative?(this.negative=0,b=a.sub(this),this.negative=1,b):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},f.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var b,c,d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var e=this.cmp(a);if(0===e)return this.negative=0,this.length=1,this.words[0]=0,this;e>0?(b=this,c=a):(b=a,c=this);for(var f=0,g=0;g<c.length;g++)f=(d=(0|b.words[g])-(0|c.words[g])+f)>>26,this.words[g]=67108863&d;for(;0!==f&&g<b.length;g++)f=(d=(0|b.words[g])+f)>>26,this.words[g]=67108863&d;if(0===f&&g<b.length&&b!==this)for(;g<b.length;g++)this.words[g]=b.words[g];return this.length=Math.max(this.length,g),b!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(a){return this.clone().isub(a)};var o=function(a,b,c){var d,e,f,g=a.words,h=b.words,i=c.words,j=0,k=0|g[0],l=8191&k,m=k>>>13,n=0|g[1],o=8191&n,p=n>>>13,q=0|g[2],r=8191&q,s=q>>>13,t=0|g[3],u=8191&t,v=t>>>13,w=0|g[4],x=8191&w,y=w>>>13,z=0|g[5],A=8191&z,B=z>>>13,C=0|g[6],D=8191&C,E=C>>>13,F=0|g[7],G=8191&F,H=F>>>13,I=0|g[8],J=8191&I,K=I>>>13,L=0|g[9],M=8191&L,N=L>>>13,O=0|h[0],P=8191&O,Q=O>>>13,R=0|h[1],S=8191&R,T=R>>>13,U=0|h[2],V=8191&U,W=U>>>13,X=0|h[3],Y=8191&X,Z=X>>>13,$=0|h[4],_=8191&$,aa=$>>>13,ab=0|h[5],ac=8191&ab,ad=ab>>>13,ae=0|h[6],af=8191&ae,ag=ae>>>13,ah=0|h[7],ai=8191&ah,aj=ah>>>13,ak=0|h[8],al=8191&ak,am=ak>>>13,an=0|h[9],ao=8191&an,ap=an>>>13;c.negative=a.negative^b.negative,c.length=19,d=Math.imul(l,P),e=Math.imul(l,Q),e=e+Math.imul(m,P)|0,f=Math.imul(m,Q);var aq=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aq>>>26)|0,aq&=67108863,d=Math.imul(o,P),e=Math.imul(o,Q),e=e+Math.imul(p,P)|0,f=Math.imul(p,Q),d=d+Math.imul(l,S)|0,e=e+Math.imul(l,T)|0,e=e+Math.imul(m,S)|0,f=f+Math.imul(m,T)|0;var ar=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ar>>>26)|0,ar&=67108863,d=Math.imul(r,P),e=Math.imul(r,Q),e=e+Math.imul(s,P)|0,f=Math.imul(s,Q),d=d+Math.imul(o,S)|0,e=e+Math.imul(o,T)|0,e=e+Math.imul(p,S)|0,f=f+Math.imul(p,T)|0,d=d+Math.imul(l,V)|0,e=e+Math.imul(l,W)|0,e=e+Math.imul(m,V)|0,f=f+Math.imul(m,W)|0;var as=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(as>>>26)|0,as&=67108863,d=Math.imul(u,P),e=Math.imul(u,Q),e=e+Math.imul(v,P)|0,f=Math.imul(v,Q),d=d+Math.imul(r,S)|0,e=e+Math.imul(r,T)|0,e=e+Math.imul(s,S)|0,f=f+Math.imul(s,T)|0,d=d+Math.imul(o,V)|0,e=e+Math.imul(o,W)|0,e=e+Math.imul(p,V)|0,f=f+Math.imul(p,W)|0,d=d+Math.imul(l,Y)|0,e=e+Math.imul(l,Z)|0,e=e+Math.imul(m,Y)|0,f=f+Math.imul(m,Z)|0;var at=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(x,P),e=Math.imul(x,Q),e=e+Math.imul(y,P)|0,f=Math.imul(y,Q),d=d+Math.imul(u,S)|0,e=e+Math.imul(u,T)|0,e=e+Math.imul(v,S)|0,f=f+Math.imul(v,T)|0,d=d+Math.imul(r,V)|0,e=e+Math.imul(r,W)|0,e=e+Math.imul(s,V)|0,f=f+Math.imul(s,W)|0,d=d+Math.imul(o,Y)|0,e=e+Math.imul(o,Z)|0,e=e+Math.imul(p,Y)|0,f=f+Math.imul(p,Z)|0,d=d+Math.imul(l,_)|0,e=e+Math.imul(l,aa)|0,e=e+Math.imul(m,_)|0,f=f+Math.imul(m,aa)|0;var au=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(au>>>26)|0,au&=67108863,d=Math.imul(A,P),e=Math.imul(A,Q),e=e+Math.imul(B,P)|0,f=Math.imul(B,Q),d=d+Math.imul(x,S)|0,e=e+Math.imul(x,T)|0,e=e+Math.imul(y,S)|0,f=f+Math.imul(y,T)|0,d=d+Math.imul(u,V)|0,e=e+Math.imul(u,W)|0,e=e+Math.imul(v,V)|0,f=f+Math.imul(v,W)|0,d=d+Math.imul(r,Y)|0,e=e+Math.imul(r,Z)|0,e=e+Math.imul(s,Y)|0,f=f+Math.imul(s,Z)|0,d=d+Math.imul(o,_)|0,e=e+Math.imul(o,aa)|0,e=e+Math.imul(p,_)|0,f=f+Math.imul(p,aa)|0,d=d+Math.imul(l,ac)|0,e=e+Math.imul(l,ad)|0,e=e+Math.imul(m,ac)|0,f=f+Math.imul(m,ad)|0;var av=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(av>>>26)|0,av&=67108863,d=Math.imul(D,P),e=Math.imul(D,Q),e=e+Math.imul(E,P)|0,f=Math.imul(E,Q),d=d+Math.imul(A,S)|0,e=e+Math.imul(A,T)|0,e=e+Math.imul(B,S)|0,f=f+Math.imul(B,T)|0,d=d+Math.imul(x,V)|0,e=e+Math.imul(x,W)|0,e=e+Math.imul(y,V)|0,f=f+Math.imul(y,W)|0,d=d+Math.imul(u,Y)|0,e=e+Math.imul(u,Z)|0,e=e+Math.imul(v,Y)|0,f=f+Math.imul(v,Z)|0,d=d+Math.imul(r,_)|0,e=e+Math.imul(r,aa)|0,e=e+Math.imul(s,_)|0,f=f+Math.imul(s,aa)|0,d=d+Math.imul(o,ac)|0,e=e+Math.imul(o,ad)|0,e=e+Math.imul(p,ac)|0,f=f+Math.imul(p,ad)|0,d=d+Math.imul(l,af)|0,e=e+Math.imul(l,ag)|0,e=e+Math.imul(m,af)|0,f=f+Math.imul(m,ag)|0;var aw=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aw>>>26)|0,aw&=67108863,d=Math.imul(G,P),e=Math.imul(G,Q),e=e+Math.imul(H,P)|0,f=Math.imul(H,Q),d=d+Math.imul(D,S)|0,e=e+Math.imul(D,T)|0,e=e+Math.imul(E,S)|0,f=f+Math.imul(E,T)|0,d=d+Math.imul(A,V)|0,e=e+Math.imul(A,W)|0,e=e+Math.imul(B,V)|0,f=f+Math.imul(B,W)|0,d=d+Math.imul(x,Y)|0,e=e+Math.imul(x,Z)|0,e=e+Math.imul(y,Y)|0,f=f+Math.imul(y,Z)|0,d=d+Math.imul(u,_)|0,e=e+Math.imul(u,aa)|0,e=e+Math.imul(v,_)|0,f=f+Math.imul(v,aa)|0,d=d+Math.imul(r,ac)|0,e=e+Math.imul(r,ad)|0,e=e+Math.imul(s,ac)|0,f=f+Math.imul(s,ad)|0,d=d+Math.imul(o,af)|0,e=e+Math.imul(o,ag)|0,e=e+Math.imul(p,af)|0,f=f+Math.imul(p,ag)|0,d=d+Math.imul(l,ai)|0,e=e+Math.imul(l,aj)|0,e=e+Math.imul(m,ai)|0,f=f+Math.imul(m,aj)|0;var ax=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ax>>>26)|0,ax&=67108863,d=Math.imul(J,P),e=Math.imul(J,Q),e=e+Math.imul(K,P)|0,f=Math.imul(K,Q),d=d+Math.imul(G,S)|0,e=e+Math.imul(G,T)|0,e=e+Math.imul(H,S)|0,f=f+Math.imul(H,T)|0,d=d+Math.imul(D,V)|0,e=e+Math.imul(D,W)|0,e=e+Math.imul(E,V)|0,f=f+Math.imul(E,W)|0,d=d+Math.imul(A,Y)|0,e=e+Math.imul(A,Z)|0,e=e+Math.imul(B,Y)|0,f=f+Math.imul(B,Z)|0,d=d+Math.imul(x,_)|0,e=e+Math.imul(x,aa)|0,e=e+Math.imul(y,_)|0,f=f+Math.imul(y,aa)|0,d=d+Math.imul(u,ac)|0,e=e+Math.imul(u,ad)|0,e=e+Math.imul(v,ac)|0,f=f+Math.imul(v,ad)|0,d=d+Math.imul(r,af)|0,e=e+Math.imul(r,ag)|0,e=e+Math.imul(s,af)|0,f=f+Math.imul(s,ag)|0,d=d+Math.imul(o,ai)|0,e=e+Math.imul(o,aj)|0,e=e+Math.imul(p,ai)|0,f=f+Math.imul(p,aj)|0,d=d+Math.imul(l,al)|0,e=e+Math.imul(l,am)|0,e=e+Math.imul(m,al)|0,f=f+Math.imul(m,am)|0;var ay=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ay>>>26)|0,ay&=67108863,d=Math.imul(M,P),e=Math.imul(M,Q),e=e+Math.imul(N,P)|0,f=Math.imul(N,Q),d=d+Math.imul(J,S)|0,e=e+Math.imul(J,T)|0,e=e+Math.imul(K,S)|0,f=f+Math.imul(K,T)|0,d=d+Math.imul(G,V)|0,e=e+Math.imul(G,W)|0,e=e+Math.imul(H,V)|0,f=f+Math.imul(H,W)|0,d=d+Math.imul(D,Y)|0,e=e+Math.imul(D,Z)|0,e=e+Math.imul(E,Y)|0,f=f+Math.imul(E,Z)|0,d=d+Math.imul(A,_)|0,e=e+Math.imul(A,aa)|0,e=e+Math.imul(B,_)|0,f=f+Math.imul(B,aa)|0,d=d+Math.imul(x,ac)|0,e=e+Math.imul(x,ad)|0,e=e+Math.imul(y,ac)|0,f=f+Math.imul(y,ad)|0,d=d+Math.imul(u,af)|0,e=e+Math.imul(u,ag)|0,e=e+Math.imul(v,af)|0,f=f+Math.imul(v,ag)|0,d=d+Math.imul(r,ai)|0,e=e+Math.imul(r,aj)|0,e=e+Math.imul(s,ai)|0,f=f+Math.imul(s,aj)|0,d=d+Math.imul(o,al)|0,e=e+Math.imul(o,am)|0,e=e+Math.imul(p,al)|0,f=f+Math.imul(p,am)|0,d=d+Math.imul(l,ao)|0,e=e+Math.imul(l,ap)|0,e=e+Math.imul(m,ao)|0,f=f+Math.imul(m,ap)|0;var az=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(az>>>26)|0,az&=67108863,d=Math.imul(M,S),e=Math.imul(M,T),e=e+Math.imul(N,S)|0,f=Math.imul(N,T),d=d+Math.imul(J,V)|0,e=e+Math.imul(J,W)|0,e=e+Math.imul(K,V)|0,f=f+Math.imul(K,W)|0,d=d+Math.imul(G,Y)|0,e=e+Math.imul(G,Z)|0,e=e+Math.imul(H,Y)|0,f=f+Math.imul(H,Z)|0,d=d+Math.imul(D,_)|0,e=e+Math.imul(D,aa)|0,e=e+Math.imul(E,_)|0,f=f+Math.imul(E,aa)|0,d=d+Math.imul(A,ac)|0,e=e+Math.imul(A,ad)|0,e=e+Math.imul(B,ac)|0,f=f+Math.imul(B,ad)|0,d=d+Math.imul(x,af)|0,e=e+Math.imul(x,ag)|0,e=e+Math.imul(y,af)|0,f=f+Math.imul(y,ag)|0,d=d+Math.imul(u,ai)|0,e=e+Math.imul(u,aj)|0,e=e+Math.imul(v,ai)|0,f=f+Math.imul(v,aj)|0,d=d+Math.imul(r,al)|0,e=e+Math.imul(r,am)|0,e=e+Math.imul(s,al)|0,f=f+Math.imul(s,am)|0,d=d+Math.imul(o,ao)|0,e=e+Math.imul(o,ap)|0,e=e+Math.imul(p,ao)|0,f=f+Math.imul(p,ap)|0;var aA=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aA>>>26)|0,aA&=67108863,d=Math.imul(M,V),e=Math.imul(M,W),e=e+Math.imul(N,V)|0,f=Math.imul(N,W),d=d+Math.imul(J,Y)|0,e=e+Math.imul(J,Z)|0,e=e+Math.imul(K,Y)|0,f=f+Math.imul(K,Z)|0,d=d+Math.imul(G,_)|0,e=e+Math.imul(G,aa)|0,e=e+Math.imul(H,_)|0,f=f+Math.imul(H,aa)|0,d=d+Math.imul(D,ac)|0,e=e+Math.imul(D,ad)|0,e=e+Math.imul(E,ac)|0,f=f+Math.imul(E,ad)|0,d=d+Math.imul(A,af)|0,e=e+Math.imul(A,ag)|0,e=e+Math.imul(B,af)|0,f=f+Math.imul(B,ag)|0,d=d+Math.imul(x,ai)|0,e=e+Math.imul(x,aj)|0,e=e+Math.imul(y,ai)|0,f=f+Math.imul(y,aj)|0,d=d+Math.imul(u,al)|0,e=e+Math.imul(u,am)|0,e=e+Math.imul(v,al)|0,f=f+Math.imul(v,am)|0,d=d+Math.imul(r,ao)|0,e=e+Math.imul(r,ap)|0,e=e+Math.imul(s,ao)|0,f=f+Math.imul(s,ap)|0;var aB=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aB>>>26)|0,aB&=67108863,d=Math.imul(M,Y),e=Math.imul(M,Z),e=e+Math.imul(N,Y)|0,f=Math.imul(N,Z),d=d+Math.imul(J,_)|0,e=e+Math.imul(J,aa)|0,e=e+Math.imul(K,_)|0,f=f+Math.imul(K,aa)|0,d=d+Math.imul(G,ac)|0,e=e+Math.imul(G,ad)|0,e=e+Math.imul(H,ac)|0,f=f+Math.imul(H,ad)|0,d=d+Math.imul(D,af)|0,e=e+Math.imul(D,ag)|0,e=e+Math.imul(E,af)|0,f=f+Math.imul(E,ag)|0,d=d+Math.imul(A,ai)|0,e=e+Math.imul(A,aj)|0,e=e+Math.imul(B,ai)|0,f=f+Math.imul(B,aj)|0,d=d+Math.imul(x,al)|0,e=e+Math.imul(x,am)|0,e=e+Math.imul(y,al)|0,f=f+Math.imul(y,am)|0,d=d+Math.imul(u,ao)|0,e=e+Math.imul(u,ap)|0,e=e+Math.imul(v,ao)|0,f=f+Math.imul(v,ap)|0;var aC=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aC>>>26)|0,aC&=67108863,d=Math.imul(M,_),e=Math.imul(M,aa),e=e+Math.imul(N,_)|0,f=Math.imul(N,aa),d=d+Math.imul(J,ac)|0,e=e+Math.imul(J,ad)|0,e=e+Math.imul(K,ac)|0,f=f+Math.imul(K,ad)|0,d=d+Math.imul(G,af)|0,e=e+Math.imul(G,ag)|0,e=e+Math.imul(H,af)|0,f=f+Math.imul(H,ag)|0,d=d+Math.imul(D,ai)|0,e=e+Math.imul(D,aj)|0,e=e+Math.imul(E,ai)|0,f=f+Math.imul(E,aj)|0,d=d+Math.imul(A,al)|0,e=e+Math.imul(A,am)|0,e=e+Math.imul(B,al)|0,f=f+Math.imul(B,am)|0,d=d+Math.imul(x,ao)|0,e=e+Math.imul(x,ap)|0,e=e+Math.imul(y,ao)|0,f=f+Math.imul(y,ap)|0;var aD=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aD>>>26)|0,aD&=67108863,d=Math.imul(M,ac),e=Math.imul(M,ad),e=e+Math.imul(N,ac)|0,f=Math.imul(N,ad),d=d+Math.imul(J,af)|0,e=e+Math.imul(J,ag)|0,e=e+Math.imul(K,af)|0,f=f+Math.imul(K,ag)|0,d=d+Math.imul(G,ai)|0,e=e+Math.imul(G,aj)|0,e=e+Math.imul(H,ai)|0,f=f+Math.imul(H,aj)|0,d=d+Math.imul(D,al)|0,e=e+Math.imul(D,am)|0,e=e+Math.imul(E,al)|0,f=f+Math.imul(E,am)|0,d=d+Math.imul(A,ao)|0,e=e+Math.imul(A,ap)|0,e=e+Math.imul(B,ao)|0,f=f+Math.imul(B,ap)|0;var aE=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aE>>>26)|0,aE&=67108863,d=Math.imul(M,af),e=Math.imul(M,ag),e=e+Math.imul(N,af)|0,f=Math.imul(N,ag),d=d+Math.imul(J,ai)|0,e=e+Math.imul(J,aj)|0,e=e+Math.imul(K,ai)|0,f=f+Math.imul(K,aj)|0,d=d+Math.imul(G,al)|0,e=e+Math.imul(G,am)|0,e=e+Math.imul(H,al)|0,f=f+Math.imul(H,am)|0,d=d+Math.imul(D,ao)|0,e=e+Math.imul(D,ap)|0,e=e+Math.imul(E,ao)|0,f=f+Math.imul(E,ap)|0;var aF=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aF>>>26)|0,aF&=67108863,d=Math.imul(M,ai),e=Math.imul(M,aj),e=e+Math.imul(N,ai)|0,f=Math.imul(N,aj),d=d+Math.imul(J,al)|0,e=e+Math.imul(J,am)|0,e=e+Math.imul(K,al)|0,f=f+Math.imul(K,am)|0,d=d+Math.imul(G,ao)|0,e=e+Math.imul(G,ap)|0,e=e+Math.imul(H,ao)|0,f=f+Math.imul(H,ap)|0;var aG=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aG>>>26)|0,aG&=67108863,d=Math.imul(M,al),e=Math.imul(M,am),e=e+Math.imul(N,al)|0,f=Math.imul(N,am),d=d+Math.imul(J,ao)|0,e=e+Math.imul(J,ap)|0,e=e+Math.imul(K,ao)|0,f=f+Math.imul(K,ap)|0;var aH=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aH>>>26)|0,aH&=67108863,d=Math.imul(M,ao),e=Math.imul(M,ap),e=e+Math.imul(N,ao)|0,f=Math.imul(N,ap);var aI=(j+d|0)+((8191&e)<<13)|0;return j=(f+(e>>>13)|0)+(aI>>>26)|0,aI&=67108863,i[0]=aq,i[1]=ar,i[2]=as,i[3]=at,i[4]=au,i[5]=av,i[6]=aw,i[7]=ax,i[8]=ay,i[9]=az,i[10]=aA,i[11]=aB,i[12]=aC,i[13]=aD,i[14]=aE,i[15]=aF,i[16]=aG,i[17]=aH,i[18]=aI,0!==j&&(i[19]=j,c.length++),c};function p(a,b,c){return new q().mulp(a,b,c)}function q(a,b){this.x=a,this.y=b}Math.imul||(o=n),f.prototype.mulTo=function(a,b){var c,d=this.length+a.length;return 10===this.length&&10===a.length?o(this,a,b):d<63?n(this,a,b):d<1024?function(a,b,c){c.negative=b.negative^a.negative,c.length=a.length+b.length;for(var d=0,e=0,f=0;f<c.length-1;f++){var g=e;e=0;for(var h=67108863&d,i=Math.min(f,b.length-1),j=Math.max(0,f-a.length+1);j<=i;j++){var k,l=f-j,m=(0|a.words[l])*(0|b.words[j]),n=67108863&m;g=g+(m/67108864|0)|0,h=67108863&(n=n+h|0),g=g+(n>>>26)|0,e+=g>>>26,g&=67108863}c.words[f]=h,d=g,g=e}return 0!==d?c.words[f]=d:c.length--,c.strip()}(this,a,b):p(this,a,b)},q.prototype.makeRBT=function(a){for(var b=Array(a),c=f.prototype._countBits(a)-1,d=0;d<a;d++)b[d]=this.revBin(d,c,a);return b},q.prototype.revBin=function(a,b,c){if(0===a||a===c-1)return a;for(var d=0,e=0;e<b;e++)d|=(1&a)<<b-e-1,a>>=1;return d},q.prototype.permute=function(a,b,c,d,e,f){for(var g=0;g<f;g++)d[g]=b[a[g]],e[g]=c[a[g]]},q.prototype.transform=function(a,b,c,d,e,f){this.permute(f,a,b,c,d,e);for(var g=1;g<e;g<<=1)for(var h=g<<1,i=Math.cos(2*Math.PI/h),j=Math.sin(2*Math.PI/h),k=0;k<e;k+=h)for(var l=i,m=j,n=0;n<g;n++){var o=c[k+n],p=d[k+n],q=c[k+n+g],r=d[k+n+g],s=l*q-m*r;r=l*r+m*q,q=s,c[k+n]=o+q,d[k+n]=p+r,c[k+n+g]=o-q,d[k+n+g]=p-r,n!==h&&(s=i*l-j*m,m=i*m+j*l,l=s)}},q.prototype.guessLen13b=function(a,b){var c=1|Math.max(b,a),d=1&c,e=0;for(c=c/2|0;c;c>>>=1)e++;return 1<<e+1+d},q.prototype.conjugate=function(a,b,c){if(!(c<=1))for(var d=0;d<c/2;d++){var e=a[d];a[d]=a[c-d-1],a[c-d-1]=e,e=b[d],b[d]=-b[c-d-1],b[c-d-1]=-e}},q.prototype.normalize13b=function(a,b){for(var c=0,d=0;d<b/2;d++){var e=8192*Math.round(a[2*d+1]/b)+Math.round(a[2*d]/b)+c;a[d]=67108863&e,c=e<67108864?0:e/67108864|0}return a},q.prototype.convert13b=function(a,b,c,e){for(var f=0,g=0;g<b;g++)f+=0|a[g],c[2*g]=8191&f,f>>>=13,c[2*g+1]=8191&f,f>>>=13;for(g=2*b;g<e;++g)c[g]=0;d(0===f),d((-8192&f)==0)},q.prototype.stub=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=0;return b},q.prototype.mulp=function(a,b,c){var d=2*this.guessLen13b(a.length,b.length),e=this.makeRBT(d),f=this.stub(d),g=Array(d),h=Array(d),i=Array(d),j=Array(d),k=Array(d),l=Array(d),m=c.words;m.length=d,this.convert13b(a.words,a.length,g,d),this.convert13b(b.words,b.length,j,d),this.transform(g,f,h,i,d,e),this.transform(j,f,k,l,d,e);for(var n=0;n<d;n++){var o=h[n]*k[n]-i[n]*l[n];i[n]=h[n]*l[n]+i[n]*k[n],h[n]=o}return this.conjugate(h,i,d),this.transform(h,i,m,f,d,e),this.conjugate(m,f,d),this.normalize13b(m,d),c.negative=a.negative^b.negative,c.length=a.length+b.length,c.strip()},f.prototype.mul=function(a){var b=new f(null);return b.words=Array(this.length+a.length),this.mulTo(a,b)},f.prototype.mulf=function(a){var b=new f(null);return b.words=Array(this.length+a.length),p(this,a,b)},f.prototype.imul=function(a){return this.clone().mulTo(a,this)},f.prototype.imuln=function(a){d("number"==typeof a),d(a<67108864);for(var b=0,c=0;c<this.length;c++){var e=(0|this.words[c])*a,f=(67108863&e)+(67108863&b);b>>=26,b+=e/67108864|0,b+=f>>>26,this.words[c]=67108863&f}return 0!==b&&(this.words[c]=b,this.length++),this},f.prototype.muln=function(a){return this.clone().imuln(a)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(a){var b=function(a){for(var b=Array(a.bitLength()),c=0;c<b.length;c++){var d=c/26|0,e=c%26;b[c]=(a.words[d]&1<<e)>>>e}return b}(a);if(0===b.length)return new f(1);for(var c=this,d=0;d<b.length&&0===b[d];d++,c=c.sqr());if(++d<b.length)for(var e=c.sqr();d<b.length;d++,e=e.sqr())0!==b[d]&&(c=c.mul(e));return c},f.prototype.iushln=function(a){d("number"==typeof a&&a>=0);var b,c=a%26,e=(a-c)/26,f=67108863>>>26-c<<26-c;if(0!==c){var g=0;for(b=0;b<this.length;b++){var h=this.words[b]&f,i=(0|this.words[b])-h<<c;this.words[b]=i|g,g=h>>>26-c}g&&(this.words[b]=g,this.length++)}if(0!==e){for(b=this.length-1;b>=0;b--)this.words[b+e]=this.words[b];for(b=0;b<e;b++)this.words[b]=0;this.length+=e}return this.strip()},f.prototype.ishln=function(a){return d(0===this.negative),this.iushln(a)},f.prototype.iushrn=function(a,b,c){d("number"==typeof a&&a>=0),e=b?(b-b%26)/26:0;var e,f=a%26,g=Math.min((a-f)/26,this.length),h=67108863^67108863>>>f<<f,i=c;if(e-=g,e=Math.max(0,e),i){for(var j=0;j<g;j++)i.words[j]=this.words[j];i.length=g}if(0===g);else if(this.length>g)for(this.length-=g,j=0;j<this.length;j++)this.words[j]=this.words[j+g];else this.words[0]=0,this.length=1;var k=0;for(j=this.length-1;j>=0&&(0!==k||j>=e);j--){var l=0|this.words[j];this.words[j]=k<<26-f|l>>>f,k=l&h}return i&&0!==k&&(i.words[i.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(a,b,c){return d(0===this.negative),this.iushrn(a,b,c)},f.prototype.shln=function(a){return this.clone().ishln(a)},f.prototype.ushln=function(a){return this.clone().iushln(a)},f.prototype.shrn=function(a){return this.clone().ishrn(a)},f.prototype.ushrn=function(a){return this.clone().iushrn(a)},f.prototype.testn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;return!(this.length<=c)&&!!(this.words[c]&1<<b)},f.prototype.imaskn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;if(d(0===this.negative,"imaskn works only with positive numbers"),this.length<=c)return this;if(0!==b&&c++,this.length=Math.min(c,this.length),0!==b){var e=67108863^67108863>>>b<<b;this.words[this.length-1]&=e}return this.strip()},f.prototype.maskn=function(a){return this.clone().imaskn(a)},f.prototype.iaddn=function(a){return(d("number"==typeof a),d(a<67108864),a<0)?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},f.prototype._iaddn=function(a){this.words[0]+=a;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},f.prototype.isubn=function(a){if(d("number"==typeof a),d(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},f.prototype.addn=function(a){return this.clone().iaddn(a)},f.prototype.subn=function(a){return this.clone().isubn(a)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(a,b,c){var e,f,g=a.length+c;this._expand(g);var h=0;for(e=0;e<a.length;e++){f=(0|this.words[e+c])+h;var i=(0|a.words[e])*b;f-=67108863&i,h=(f>>26)-(i/67108864|0),this.words[e+c]=67108863&f}for(;e<this.length-c;e++)h=(f=(0|this.words[e+c])+h)>>26,this.words[e+c]=67108863&f;if(0===h)return this.strip();for(d(-1===h),h=0,e=0;e<this.length;e++)h=(f=-(0|this.words[e])+h)>>26,this.words[e]=67108863&f;return this.negative=1,this.strip()},f.prototype._wordDiv=function(a,b){var c,d=this.length-a.length,e=this.clone(),g=a,h=0|g.words[g.length-1];0!=(d=26-this._countBits(h))&&(g=g.ushln(d),e.iushln(d),h=0|g.words[g.length-1]);var i=e.length-g.length;if("mod"!==b){(c=new f(null)).length=i+1,c.words=Array(c.length);for(var j=0;j<c.length;j++)c.words[j]=0}var k=e.clone()._ishlnsubmul(g,1,i);0===k.negative&&(e=k,c&&(c.words[i]=1));for(var l=i-1;l>=0;l--){var m=(0|e.words[g.length+l])*67108864+(0|e.words[g.length+l-1]);for(m=Math.min(m/h|0,67108863),e._ishlnsubmul(g,m,l);0!==e.negative;)m--,e.negative=0,e._ishlnsubmul(g,1,l),e.isZero()||(e.negative^=1);c&&(c.words[l]=m)}return c&&c.strip(),e.strip(),"div"!==b&&0!==d&&e.iushrn(d),{div:c||null,mod:e}},f.prototype.divmod=function(a,b,c){var e,g,h;return(d(!a.isZero()),this.isZero())?{div:new f(0),mod:new f(0)}:0!==this.negative&&0===a.negative?(h=this.neg().divmod(a,b),"mod"!==b&&(e=h.div.neg()),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.iadd(a)),{div:e,mod:g}):0===this.negative&&0!==a.negative?(h=this.divmod(a.neg(),b),"mod"!==b&&(e=h.div.neg()),{div:e,mod:h.mod}):(this.negative&a.negative)!=0?(h=this.neg().divmod(a.neg(),b),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.isub(a)),{div:h.div,mod:g}):a.length>this.length||0>this.cmp(a)?{div:new f(0),mod:this}:1===a.length?"div"===b?{div:this.divn(a.words[0]),mod:null}:"mod"===b?{div:null,mod:new f(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new f(this.modn(a.words[0]))}:this._wordDiv(a,b)},f.prototype.div=function(a){return this.divmod(a,"div",!1).div},f.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},f.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},f.prototype.divRound=function(a){var b=this.divmod(a);if(b.mod.isZero())return b.div;var c=0!==b.div.negative?b.mod.isub(a):b.mod,d=a.ushrn(1),e=a.andln(1),f=c.cmp(d);return f<0||1===e&&0===f?b.div:0!==b.div.negative?b.div.isubn(1):b.div.iaddn(1)},f.prototype.modn=function(a){d(a<=67108863);for(var b=67108864%a,c=0,e=this.length-1;e>=0;e--)c=(b*c+(0|this.words[e]))%a;return c},f.prototype.idivn=function(a){d(a<=67108863);for(var b=0,c=this.length-1;c>=0;c--){var e=(0|this.words[c])+67108864*b;this.words[c]=e/a|0,b=e%a}return this.strip()},f.prototype.divn=function(a){return this.clone().idivn(a)},f.prototype.egcd=function(a){d(0===a.negative),d(!a.isZero());var b=this,c=a.clone();b=0!==b.negative?b.umod(a):b.clone();for(var e=new f(1),g=new f(0),h=new f(0),i=new f(1),j=0;b.isEven()&&c.isEven();)b.iushrn(1),c.iushrn(1),++j;for(var k=c.clone(),l=b.clone();!b.isZero();){for(var m=0,n=1;(b.words[0]&n)==0&&m<26;++m,n<<=1);if(m>0)for(b.iushrn(m);m-- >0;)(e.isOdd()||g.isOdd())&&(e.iadd(k),g.isub(l)),e.iushrn(1),g.iushrn(1);for(var o=0,p=1;(c.words[0]&p)==0&&o<26;++o,p<<=1);if(o>0)for(c.iushrn(o);o-- >0;)(h.isOdd()||i.isOdd())&&(h.iadd(k),i.isub(l)),h.iushrn(1),i.iushrn(1);b.cmp(c)>=0?(b.isub(c),e.isub(h),g.isub(i)):(c.isub(b),h.isub(e),i.isub(g))}return{a:h,b:i,gcd:c.iushln(j)}},f.prototype._invmp=function(a){d(0===a.negative),d(!a.isZero());var b,c=this,e=a.clone();c=0!==c.negative?c.umod(a):c.clone();for(var g=new f(1),h=new f(0),i=e.clone();c.cmpn(1)>0&&e.cmpn(1)>0;){for(var j=0,k=1;(c.words[0]&k)==0&&j<26;++j,k<<=1);if(j>0)for(c.iushrn(j);j-- >0;)g.isOdd()&&g.iadd(i),g.iushrn(1);for(var l=0,m=1;(e.words[0]&m)==0&&l<26;++l,m<<=1);if(l>0)for(e.iushrn(l);l-- >0;)h.isOdd()&&h.iadd(i),h.iushrn(1);c.cmp(e)>=0?(c.isub(e),g.isub(h)):(e.isub(c),h.isub(g))}return 0>(b=0===c.cmpn(1)?g:h).cmpn(0)&&b.iadd(a),b},f.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var b=this.clone(),c=a.clone();b.negative=0,c.negative=0;for(var d=0;b.isEven()&&c.isEven();d++)b.iushrn(1),c.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;c.isEven();)c.iushrn(1);var e=b.cmp(c);if(e<0){var f=b;b=c,c=f}else if(0===e||0===c.cmpn(1))break;b.isub(c)}return c.iushln(d)},f.prototype.invm=function(a){return this.egcd(a).a.umod(a)},f.prototype.isEven=function(){return(1&this.words[0])==0},f.prototype.isOdd=function(){return(1&this.words[0])==1},f.prototype.andln=function(a){return this.words[0]&a},f.prototype.bincn=function(a){d("number"==typeof a);var b=a%26,c=(a-b)/26,e=1<<b;if(this.length<=c)return this._expand(c+1),this.words[c]|=e,this;for(var f=e,g=c;0!==f&&g<this.length;g++){var h=0|this.words[g];h+=f,f=h>>>26,h&=67108863,this.words[g]=h}return 0!==f&&(this.words[g]=f,this.length++),this},f.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},f.prototype.cmpn=function(a){var b,c=a<0;if(0!==this.negative&&!c)return -1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)b=1;else{c&&(a=-a),d(a<=67108863,"Number is too big");var e=0|this.words[0];b=e===a?0:e<a?-1:1}return 0!==this.negative?0| -b:b},f.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return -1;if(0===this.negative&&0!==a.negative)return 1;var b=this.ucmp(a);return 0!==this.negative?0| -b:b},f.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return -1;for(var b=0,c=this.length-1;c>=0;c--){var d=0|this.words[c],e=0|a.words[c];if(d!==e){d<e?b=-1:d>e&&(b=1);break}}return b},f.prototype.gtn=function(a){return 1===this.cmpn(a)},f.prototype.gt=function(a){return 1===this.cmp(a)},f.prototype.gten=function(a){return this.cmpn(a)>=0},f.prototype.gte=function(a){return this.cmp(a)>=0},f.prototype.ltn=function(a){return -1===this.cmpn(a)},f.prototype.lt=function(a){return -1===this.cmp(a)},f.prototype.lten=function(a){return 0>=this.cmpn(a)},f.prototype.lte=function(a){return 0>=this.cmp(a)},f.prototype.eqn=function(a){return 0===this.cmpn(a)},f.prototype.eq=function(a){return 0===this.cmp(a)},f.red=function(a){return new x(a)},f.prototype.toRed=function(a){return d(!this.red,"Already a number in reduction context"),d(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},f.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(a){return this.red=a,this},f.prototype.forceRed=function(a){return d(!this.red,"Already a number in reduction context"),this._forceRed(a)},f.prototype.redAdd=function(a){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},f.prototype.redIAdd=function(a){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},f.prototype.redSub=function(a){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},f.prototype.redISub=function(a){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},f.prototype.redShl=function(a){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},f.prototype.redMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},f.prototype.redIMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},f.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(a){return d(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var r={k256:null,p224:null,p192:null,p25519:null};function s(a,b){this.name=a,this.p=new f(b,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function t(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function u(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(a){if("string"==typeof a){var b=f._prime(a);this.m=b.p,this.prime=b}else d(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null}function y(a){x.call(this,a),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s.prototype._tmp=function(){var a=new f(null);return a.words=Array(Math.ceil(this.n/13)),a},s.prototype.ireduce=function(a){var b,c=a;do this.split(c,this.tmp),b=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength();while(b>this.n);var d=b<this.n?-1:c.ucmp(this.p);return 0===d?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip(),c},s.prototype.split=function(a,b){a.iushrn(this.n,0,b)},s.prototype.imulK=function(a){return a.imul(this.k)},e(t,s),t.prototype.split=function(a,b){for(var c=Math.min(a.length,9),d=0;d<c;d++)b.words[d]=a.words[d];if(b.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var e=a.words[9];for(d=10,b.words[b.length++]=4194303&e;d<a.length;d++){var f=0|a.words[d];a.words[d-10]=(4194303&f)<<4|e>>>22,e=f}e>>>=22,a.words[d-10]=e,0===e&&a.length>10?a.length-=10:a.length-=9},t.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var b=0,c=0;c<a.length;c++){var d=0|a.words[c];b+=977*d,a.words[c]=67108863&b,b=64*d+(b/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},e(u,s),e(v,s),e(w,s),w.prototype.imulK=function(a){for(var b=0,c=0;c<a.length;c++){var d=(0|a.words[c])*19+b,e=67108863&d;d>>>=26,a.words[c]=e,b=d}return 0!==b&&(a.words[a.length++]=b),a},f._prime=function(a){var b;if(r[a])return r[a];if("k256"===a)b=new t;else if("p224"===a)b=new u;else if("p192"===a)b=new v;else if("p25519"===a)b=new w;else throw Error("Unknown prime "+a);return r[a]=b,b},x.prototype._verify1=function(a){d(0===a.negative,"red works only with positives"),d(a.red,"red works only with red numbers")},x.prototype._verify2=function(a,b){d((a.negative|b.negative)==0,"red works only with positives"),d(a.red&&a.red===b.red,"red works only with red numbers")},x.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},x.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},x.prototype.add=function(a,b){this._verify2(a,b);var c=a.add(b);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},x.prototype.iadd=function(a,b){this._verify2(a,b);var c=a.iadd(b);return c.cmp(this.m)>=0&&c.isub(this.m),c},x.prototype.sub=function(a,b){this._verify2(a,b);var c=a.sub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c._forceRed(this)},x.prototype.isub=function(a,b){this._verify2(a,b);var c=a.isub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c},x.prototype.shl=function(a,b){return this._verify1(a),this.imod(a.ushln(b))},x.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},x.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},x.prototype.isqr=function(a){return this.imul(a,a.clone())},x.prototype.sqr=function(a){return this.mul(a,a)},x.prototype.sqrt=function(a){if(a.isZero())return a.clone();var b=this.m.andln(3);if(d(b%2==1),3===b){var c=this.m.add(new f(1)).iushrn(2);return this.pow(a,c)}for(var e=this.m.subn(1),g=0;!e.isZero()&&0===e.andln(1);)g++,e.iushrn(1);d(!e.isZero());var h=new f(1).toRed(this),i=h.redNeg(),j=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new f(2*k*k).toRed(this);0!==this.pow(k,j).cmp(i);)k.redIAdd(i);for(var l=this.pow(k,e),m=this.pow(a,e.addn(1).iushrn(1)),n=this.pow(a,e),o=g;0!==n.cmp(h);){for(var p=n,q=0;0!==p.cmp(h);q++)p=p.redSqr();d(q<o);var r=this.pow(l,new f(1).iushln(o-q-1));m=m.redMul(r),l=r.redSqr(),n=n.redMul(l),o=q}return m},x.prototype.invm=function(a){var b=a._invmp(this.m);return 0!==b.negative?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},x.prototype.pow=function(a,b){if(b.isZero())return new f(1);if(0===b.cmpn(1))return a.clone();var c=4,d=Array(1<<c);d[0]=new f(1).toRed(this),d[1]=a;for(var e=2;e<d.length;e++)d[e]=this.mul(d[e-1],a);var g=d[0],h=0,i=0,j=b.bitLength()%26;for(0===j&&(j=26),e=b.length-1;e>=0;e--){for(var k=b.words[e],l=j-1;l>=0;l--){var m=k>>l&1;if(g!==d[0]&&(g=this.sqr(g)),0===m&&0===h){i=0;continue}h<<=1,h|=m,(++i===c||0===e&&0===l)&&(g=this.mul(g,d[h]),i=0,h=0)}j=26}return g},x.prototype.convertTo=function(a){var b=a.umod(this.m);return b===a?b.clone():b},x.prototype.convertFrom=function(a){var b=a.clone();return b.red=null,b},f.mont=function(a){return new y(a)},e(y,x),y.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},y.prototype.convertFrom=function(a){var b=this.imod(a.mul(this.rinv));return b.red=null,b},y.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var c=a.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):0>e.cmpn(0)&&(f=e.iadd(this.m)),f._forceRed(this)},y.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new f(0)._forceRed(this);var c=a.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),g=e;return e.cmp(this.m)>=0?g=e.isub(this.m):0>e.cmpn(0)&&(g=e.iadd(this.m)),g._forceRed(this)},y.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(a=c.nmd(a),this)},26729:function(a){"use strict";var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0== --a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},64063:function(a){"use strict";a.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},24970:function(a){"use strict";let b=a=>null!==a&&"object"==typeof a&&"function"==typeof a.pipe;b.writable=a=>b(a)&& !1!==a.writable&&"function"==typeof a._write&&"object"==typeof a._writableState,b.readable=a=>b(a)&& !1!==a.readable&&"function"==typeof a._read&&"object"==typeof a._readableState,b.duplex=a=>b.writable(a)&&b.readable(a),b.transform=a=>b.duplex(a)&&"function"==typeof a._transform,a.exports=b},45033:function(a,b,c){!function(a,b){"use strict";function d(a,b){if(!a)throw Error(b||"Assertion failed")}function e(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}function f(a,b,c){if(f.isBN(a))return a;this.negative=0,this.words=null,this.length=0,this.red=null,null!==a&&(("le"===b||"be"===b)&&(c=b,b=10),this._init(a||0,b||10,c||"be"))}"object"==typeof a?a.exports=f:b.BN=f,f.BN=f,f.wordSize=26;try{j=c(48764).Buffer}catch(g){}function h(a,b,c){for(var d=0,e=Math.min(a.length,c),f=b;f<e;f++){var g=a.charCodeAt(f)-48;d<<=4,g>=49&&g<=54?d|=g-49+10:g>=17&&g<=22?d|=g-17+10:d|=15&g}return d}function i(a,b,c,d){for(var e=0,f=Math.min(a.length,c),g=b;g<f;g++){var h=a.charCodeAt(g)-48;e*=d,h>=49?e+=h-49+10:h>=17?e+=h-17+10:e+=h}return e}f.isBN=function(a){return a instanceof f||null!==a&&"object"==typeof a&&a.constructor.wordSize===f.wordSize&&Array.isArray(a.words)},f.max=function(a,b){return a.cmp(b)>0?a:b},f.min=function(a,b){return 0>a.cmp(b)?a:b},f.prototype._init=function(a,b,c){if("number"==typeof a)return this._initNumber(a,b,c);if("object"==typeof a)return this._initArray(a,b,c);"hex"===b&&(b=16),d(b===(0|b)&&b>=2&&b<=36);var e=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&e++,16===b?this._parseHex(a,e):this._parseBase(a,b,e),"-"===a[0]&&(this.negative=1),this.strip(),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initNumber=function(a,b,c){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(d(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initArray=function(a,b,c){if(d("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=Array(this.length);for(var e,f,g=0;g<this.length;g++)this.words[g]=0;var h=0;if("be"===c)for(g=a.length-1,e=0;g>=0;g-=3)f=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[e]|=f<<h&67108863,this.words[e+1]=f>>>26-h&67108863,(h+=24)>=26&&(h-=26,e++);else if("le"===c)for(g=0,e=0;g<a.length;g+=3)f=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[e]|=f<<h&67108863,this.words[e+1]=f>>>26-h&67108863,(h+=24)>=26&&(h-=26,e++);return this.strip()},f.prototype._parseHex=function(a,b){this.length=Math.ceil((a.length-b)/6),this.words=Array(this.length);for(var c,d,e=0;e<this.length;e++)this.words[e]=0;var f=0;for(e=a.length-6,c=0;e>=b;e-=6)d=h(a,e,e+6),this.words[c]|=d<<f&67108863,this.words[c+1]|=d>>>26-f&4194303,(f+=24)>=26&&(f-=26,c++);e+6!==b&&(d=h(a,b,e+6),this.words[c]|=d<<f&67108863,this.words[c+1]|=d>>>26-f&4194303),this.strip()},f.prototype._parseBase=function(a,b,c){this.words=[0],this.length=1;for(var d=0,e=1;e<=67108863;e*=b)d++;d--,e=e/b|0;for(var f=a.length-c,g=f%d,h=Math.min(f,f-g)+c,j=0,k=c;k<h;k+=d)j=i(a,k,k+d,b),this.imuln(e),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(0!==g){var l=1;for(j=i(a,k,a.length,b),k=0;k<g;k++)l*=b;this.imuln(l),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}},f.prototype.copy=function(a){a.words=Array(this.length);for(var b=0;b<this.length;b++)a.words[b]=this.words[b];a.length=this.length,a.negative=this.negative,a.red=this.red},f.prototype.clone=function(){var a=new f(null);return this.copy(a),a},f.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},f.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var j,k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function n(a,b,c){c.negative=b.negative^a.negative;var d=a.length+b.length|0;c.length=d,d=d-1|0;var e=0|a.words[0],f=0|b.words[0],g=e*f,h=67108863&g,i=g/67108864|0;c.words[0]=h;for(var j=1;j<d;j++){for(var k=i>>>26,l=67108863&i,m=Math.min(j,b.length-1),n=Math.max(0,j-a.length+1);n<=m;n++){var o=j-n|0;k+=(g=(e=0|a.words[o])*(f=0|b.words[n])+l)/67108864|0,l=67108863&g}c.words[j]=0|l,i=0|k}return 0!==i?c.words[j]=0|i:c.length--,c.strip()}f.prototype.toString=function(a,b){if(b=0|b||1,16===(a=a||10)||"hex"===a){c="";for(var c,e=0,f=0,g=0;g<this.length;g++){var h=this.words[g],i=((h<<e|f)&16777215).toString(16);c=0!=(f=h>>>24-e&16777215)||g!==this.length-1?k[6-i.length]+i+c:i+c,(e+=2)>=26&&(e-=26,g--)}for(0!==f&&(c=f.toString(16)+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}if(a===(0|a)&&a>=2&&a<=36){var j=l[a],n=m[a];c="";var o=this.clone();for(o.negative=0;!o.isZero();){var p=o.modn(n).toString(a);c=(o=o.idivn(n)).isZero()?p+c:k[j-p.length]+p+c}for(this.isZero()&&(c="0"+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}d(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(a,b){return d(void 0!==j),this.toArrayLike(j,a,b)},f.prototype.toArray=function(a,b){return this.toArrayLike(Array,a,b)},f.prototype.toArrayLike=function(a,b,c){var e,f,g=this.byteLength(),h=c||Math.max(1,g);d(g<=h,"byte array longer than desired length"),d(h>0,"Requested array length <= 0"),this.strip();var i=new a(h),j=this.clone();if("le"===b){for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[f]=e;for(;f<h;f++)i[f]=0}else{for(f=0;f<h-g;f++)i[f]=0;for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[h-f-1]=e}return i},Math.clz32?f.prototype._countBits=function(a){return 32-Math.clz32(a)}:f.prototype._countBits=function(a){var b=a,c=0;return b>=4096&&(c+=13,b>>>=13),b>=64&&(c+=7,b>>>=7),b>=8&&(c+=4,b>>>=4),b>=2&&(c+=2,b>>>=2),c+b},f.prototype._zeroBits=function(a){if(0===a)return 26;var b=a,c=0;return(8191&b)==0&&(c+=13,b>>>=13),(127&b)==0&&(c+=7,b>>>=7),(15&b)==0&&(c+=4,b>>>=4),(3&b)==0&&(c+=2,b>>>=2),(1&b)==0&&c++,c},f.prototype.bitLength=function(){var a=this.words[this.length-1],b=this._countBits(a);return(this.length-1)*26+b},f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,b=0;b<this.length;b++){var c=this._zeroBits(this.words[b]);if(a+=c,26!==c)break}return a},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},f.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return 0!==this.negative},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var b=0;b<a.length;b++)this.words[b]=this.words[b]|a.words[b];return this.strip()},f.prototype.ior=function(a){return d((this.negative|a.negative)==0),this.iuor(a)},f.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},f.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},f.prototype.iuand=function(a){var b;b=this.length>a.length?a:this;for(var c=0;c<b.length;c++)this.words[c]=this.words[c]&a.words[c];return this.length=b.length,this.strip()},f.prototype.iand=function(a){return d((this.negative|a.negative)==0),this.iuand(a)},f.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},f.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},f.prototype.iuxor=function(a){this.length>a.length?(b=this,c=a):(b=a,c=this);for(var b,c,d=0;d<c.length;d++)this.words[d]=b.words[d]^c.words[d];if(this!==b)for(;d<b.length;d++)this.words[d]=b.words[d];return this.length=b.length,this.strip()},f.prototype.ixor=function(a){return d((this.negative|a.negative)==0),this.iuxor(a)},f.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},f.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},f.prototype.inotn=function(a){d("number"==typeof a&&a>=0);var b=0|Math.ceil(a/26),c=a%26;this._expand(b),c>0&&b--;for(var e=0;e<b;e++)this.words[e]=67108863& ~this.words[e];return c>0&&(this.words[e]=~this.words[e]&67108863>>26-c),this.strip()},f.prototype.notn=function(a){return this.clone().inotn(a)},f.prototype.setn=function(a,b){d("number"==typeof a&&a>=0);var c=a/26|0,e=a%26;return this._expand(c+1),b?this.words[c]=this.words[c]|1<<e:this.words[c]=this.words[c]& ~(1<<e),this.strip()},f.prototype.iadd=function(a){if(0!==this.negative&&0===a.negative)return this.negative=0,b=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,b=this.isub(a),a.negative=1,b._normSign();this.length>a.length?(c=this,d=a):(c=a,d=this);for(var b,c,d,e=0,f=0;f<d.length;f++)b=(0|c.words[f])+(0|d.words[f])+e,this.words[f]=67108863&b,e=b>>>26;for(;0!==e&&f<c.length;f++)b=(0|c.words[f])+e,this.words[f]=67108863&b,e=b>>>26;if(this.length=c.length,0!==e)this.words[this.length]=e,this.length++;else if(c!==this)for(;f<c.length;f++)this.words[f]=c.words[f];return this},f.prototype.add=function(a){var b;return 0!==a.negative&&0===this.negative?(a.negative=0,b=this.sub(a),a.negative^=1,b):0===a.negative&&0!==this.negative?(this.negative=0,b=a.sub(this),this.negative=1,b):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},f.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var b,c,d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var e=this.cmp(a);if(0===e)return this.negative=0,this.length=1,this.words[0]=0,this;e>0?(b=this,c=a):(b=a,c=this);for(var f=0,g=0;g<c.length;g++)f=(d=(0|b.words[g])-(0|c.words[g])+f)>>26,this.words[g]=67108863&d;for(;0!==f&&g<b.length;g++)f=(d=(0|b.words[g])+f)>>26,this.words[g]=67108863&d;if(0===f&&g<b.length&&b!==this)for(;g<b.length;g++)this.words[g]=b.words[g];return this.length=Math.max(this.length,g),b!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(a){return this.clone().isub(a)};var o=function(a,b,c){var d,e,f,g=a.words,h=b.words,i=c.words,j=0,k=0|g[0],l=8191&k,m=k>>>13,n=0|g[1],o=8191&n,p=n>>>13,q=0|g[2],r=8191&q,s=q>>>13,t=0|g[3],u=8191&t,v=t>>>13,w=0|g[4],x=8191&w,y=w>>>13,z=0|g[5],A=8191&z,B=z>>>13,C=0|g[6],D=8191&C,E=C>>>13,F=0|g[7],G=8191&F,H=F>>>13,I=0|g[8],J=8191&I,K=I>>>13,L=0|g[9],M=8191&L,N=L>>>13,O=0|h[0],P=8191&O,Q=O>>>13,R=0|h[1],S=8191&R,T=R>>>13,U=0|h[2],V=8191&U,W=U>>>13,X=0|h[3],Y=8191&X,Z=X>>>13,$=0|h[4],_=8191&$,aa=$>>>13,ab=0|h[5],ac=8191&ab,ad=ab>>>13,ae=0|h[6],af=8191&ae,ag=ae>>>13,ah=0|h[7],ai=8191&ah,aj=ah>>>13,ak=0|h[8],al=8191&ak,am=ak>>>13,an=0|h[9],ao=8191&an,ap=an>>>13;c.negative=a.negative^b.negative,c.length=19,d=Math.imul(l,P),e=Math.imul(l,Q),e=e+Math.imul(m,P)|0,f=Math.imul(m,Q);var aq=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aq>>>26)|0,aq&=67108863,d=Math.imul(o,P),e=Math.imul(o,Q),e=e+Math.imul(p,P)|0,f=Math.imul(p,Q),d=d+Math.imul(l,S)|0,e=e+Math.imul(l,T)|0,e=e+Math.imul(m,S)|0,f=f+Math.imul(m,T)|0;var ar=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ar>>>26)|0,ar&=67108863,d=Math.imul(r,P),e=Math.imul(r,Q),e=e+Math.imul(s,P)|0,f=Math.imul(s,Q),d=d+Math.imul(o,S)|0,e=e+Math.imul(o,T)|0,e=e+Math.imul(p,S)|0,f=f+Math.imul(p,T)|0,d=d+Math.imul(l,V)|0,e=e+Math.imul(l,W)|0,e=e+Math.imul(m,V)|0,f=f+Math.imul(m,W)|0;var as=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(as>>>26)|0,as&=67108863,d=Math.imul(u,P),e=Math.imul(u,Q),e=e+Math.imul(v,P)|0,f=Math.imul(v,Q),d=d+Math.imul(r,S)|0,e=e+Math.imul(r,T)|0,e=e+Math.imul(s,S)|0,f=f+Math.imul(s,T)|0,d=d+Math.imul(o,V)|0,e=e+Math.imul(o,W)|0,e=e+Math.imul(p,V)|0,f=f+Math.imul(p,W)|0,d=d+Math.imul(l,Y)|0,e=e+Math.imul(l,Z)|0,e=e+Math.imul(m,Y)|0,f=f+Math.imul(m,Z)|0;var at=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(x,P),e=Math.imul(x,Q),e=e+Math.imul(y,P)|0,f=Math.imul(y,Q),d=d+Math.imul(u,S)|0,e=e+Math.imul(u,T)|0,e=e+Math.imul(v,S)|0,f=f+Math.imul(v,T)|0,d=d+Math.imul(r,V)|0,e=e+Math.imul(r,W)|0,e=e+Math.imul(s,V)|0,f=f+Math.imul(s,W)|0,d=d+Math.imul(o,Y)|0,e=e+Math.imul(o,Z)|0,e=e+Math.imul(p,Y)|0,f=f+Math.imul(p,Z)|0,d=d+Math.imul(l,_)|0,e=e+Math.imul(l,aa)|0,e=e+Math.imul(m,_)|0,f=f+Math.imul(m,aa)|0;var au=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(au>>>26)|0,au&=67108863,d=Math.imul(A,P),e=Math.imul(A,Q),e=e+Math.imul(B,P)|0,f=Math.imul(B,Q),d=d+Math.imul(x,S)|0,e=e+Math.imul(x,T)|0,e=e+Math.imul(y,S)|0,f=f+Math.imul(y,T)|0,d=d+Math.imul(u,V)|0,e=e+Math.imul(u,W)|0,e=e+Math.imul(v,V)|0,f=f+Math.imul(v,W)|0,d=d+Math.imul(r,Y)|0,e=e+Math.imul(r,Z)|0,e=e+Math.imul(s,Y)|0,f=f+Math.imul(s,Z)|0,d=d+Math.imul(o,_)|0,e=e+Math.imul(o,aa)|0,e=e+Math.imul(p,_)|0,f=f+Math.imul(p,aa)|0,d=d+Math.imul(l,ac)|0,e=e+Math.imul(l,ad)|0,e=e+Math.imul(m,ac)|0,f=f+Math.imul(m,ad)|0;var av=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(av>>>26)|0,av&=67108863,d=Math.imul(D,P),e=Math.imul(D,Q),e=e+Math.imul(E,P)|0,f=Math.imul(E,Q),d=d+Math.imul(A,S)|0,e=e+Math.imul(A,T)|0,e=e+Math.imul(B,S)|0,f=f+Math.imul(B,T)|0,d=d+Math.imul(x,V)|0,e=e+Math.imul(x,W)|0,e=e+Math.imul(y,V)|0,f=f+Math.imul(y,W)|0,d=d+Math.imul(u,Y)|0,e=e+Math.imul(u,Z)|0,e=e+Math.imul(v,Y)|0,f=f+Math.imul(v,Z)|0,d=d+Math.imul(r,_)|0,e=e+Math.imul(r,aa)|0,e=e+Math.imul(s,_)|0,f=f+Math.imul(s,aa)|0,d=d+Math.imul(o,ac)|0,e=e+Math.imul(o,ad)|0,e=e+Math.imul(p,ac)|0,f=f+Math.imul(p,ad)|0,d=d+Math.imul(l,af)|0,e=e+Math.imul(l,ag)|0,e=e+Math.imul(m,af)|0,f=f+Math.imul(m,ag)|0;var aw=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aw>>>26)|0,aw&=67108863,d=Math.imul(G,P),e=Math.imul(G,Q),e=e+Math.imul(H,P)|0,f=Math.imul(H,Q),d=d+Math.imul(D,S)|0,e=e+Math.imul(D,T)|0,e=e+Math.imul(E,S)|0,f=f+Math.imul(E,T)|0,d=d+Math.imul(A,V)|0,e=e+Math.imul(A,W)|0,e=e+Math.imul(B,V)|0,f=f+Math.imul(B,W)|0,d=d+Math.imul(x,Y)|0,e=e+Math.imul(x,Z)|0,e=e+Math.imul(y,Y)|0,f=f+Math.imul(y,Z)|0,d=d+Math.imul(u,_)|0,e=e+Math.imul(u,aa)|0,e=e+Math.imul(v,_)|0,f=f+Math.imul(v,aa)|0,d=d+Math.imul(r,ac)|0,e=e+Math.imul(r,ad)|0,e=e+Math.imul(s,ac)|0,f=f+Math.imul(s,ad)|0,d=d+Math.imul(o,af)|0,e=e+Math.imul(o,ag)|0,e=e+Math.imul(p,af)|0,f=f+Math.imul(p,ag)|0,d=d+Math.imul(l,ai)|0,e=e+Math.imul(l,aj)|0,e=e+Math.imul(m,ai)|0,f=f+Math.imul(m,aj)|0;var ax=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ax>>>26)|0,ax&=67108863,d=Math.imul(J,P),e=Math.imul(J,Q),e=e+Math.imul(K,P)|0,f=Math.imul(K,Q),d=d+Math.imul(G,S)|0,e=e+Math.imul(G,T)|0,e=e+Math.imul(H,S)|0,f=f+Math.imul(H,T)|0,d=d+Math.imul(D,V)|0,e=e+Math.imul(D,W)|0,e=e+Math.imul(E,V)|0,f=f+Math.imul(E,W)|0,d=d+Math.imul(A,Y)|0,e=e+Math.imul(A,Z)|0,e=e+Math.imul(B,Y)|0,f=f+Math.imul(B,Z)|0,d=d+Math.imul(x,_)|0,e=e+Math.imul(x,aa)|0,e=e+Math.imul(y,_)|0,f=f+Math.imul(y,aa)|0,d=d+Math.imul(u,ac)|0,e=e+Math.imul(u,ad)|0,e=e+Math.imul(v,ac)|0,f=f+Math.imul(v,ad)|0,d=d+Math.imul(r,af)|0,e=e+Math.imul(r,ag)|0,e=e+Math.imul(s,af)|0,f=f+Math.imul(s,ag)|0,d=d+Math.imul(o,ai)|0,e=e+Math.imul(o,aj)|0,e=e+Math.imul(p,ai)|0,f=f+Math.imul(p,aj)|0,d=d+Math.imul(l,al)|0,e=e+Math.imul(l,am)|0,e=e+Math.imul(m,al)|0,f=f+Math.imul(m,am)|0;var ay=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ay>>>26)|0,ay&=67108863,d=Math.imul(M,P),e=Math.imul(M,Q),e=e+Math.imul(N,P)|0,f=Math.imul(N,Q),d=d+Math.imul(J,S)|0,e=e+Math.imul(J,T)|0,e=e+Math.imul(K,S)|0,f=f+Math.imul(K,T)|0,d=d+Math.imul(G,V)|0,e=e+Math.imul(G,W)|0,e=e+Math.imul(H,V)|0,f=f+Math.imul(H,W)|0,d=d+Math.imul(D,Y)|0,e=e+Math.imul(D,Z)|0,e=e+Math.imul(E,Y)|0,f=f+Math.imul(E,Z)|0,d=d+Math.imul(A,_)|0,e=e+Math.imul(A,aa)|0,e=e+Math.imul(B,_)|0,f=f+Math.imul(B,aa)|0,d=d+Math.imul(x,ac)|0,e=e+Math.imul(x,ad)|0,e=e+Math.imul(y,ac)|0,f=f+Math.imul(y,ad)|0,d=d+Math.imul(u,af)|0,e=e+Math.imul(u,ag)|0,e=e+Math.imul(v,af)|0,f=f+Math.imul(v,ag)|0,d=d+Math.imul(r,ai)|0,e=e+Math.imul(r,aj)|0,e=e+Math.imul(s,ai)|0,f=f+Math.imul(s,aj)|0,d=d+Math.imul(o,al)|0,e=e+Math.imul(o,am)|0,e=e+Math.imul(p,al)|0,f=f+Math.imul(p,am)|0,d=d+Math.imul(l,ao)|0,e=e+Math.imul(l,ap)|0,e=e+Math.imul(m,ao)|0,f=f+Math.imul(m,ap)|0;var az=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(az>>>26)|0,az&=67108863,d=Math.imul(M,S),e=Math.imul(M,T),e=e+Math.imul(N,S)|0,f=Math.imul(N,T),d=d+Math.imul(J,V)|0,e=e+Math.imul(J,W)|0,e=e+Math.imul(K,V)|0,f=f+Math.imul(K,W)|0,d=d+Math.imul(G,Y)|0,e=e+Math.imul(G,Z)|0,e=e+Math.imul(H,Y)|0,f=f+Math.imul(H,Z)|0,d=d+Math.imul(D,_)|0,e=e+Math.imul(D,aa)|0,e=e+Math.imul(E,_)|0,f=f+Math.imul(E,aa)|0,d=d+Math.imul(A,ac)|0,e=e+Math.imul(A,ad)|0,e=e+Math.imul(B,ac)|0,f=f+Math.imul(B,ad)|0,d=d+Math.imul(x,af)|0,e=e+Math.imul(x,ag)|0,e=e+Math.imul(y,af)|0,f=f+Math.imul(y,ag)|0,d=d+Math.imul(u,ai)|0,e=e+Math.imul(u,aj)|0,e=e+Math.imul(v,ai)|0,f=f+Math.imul(v,aj)|0,d=d+Math.imul(r,al)|0,e=e+Math.imul(r,am)|0,e=e+Math.imul(s,al)|0,f=f+Math.imul(s,am)|0,d=d+Math.imul(o,ao)|0,e=e+Math.imul(o,ap)|0,e=e+Math.imul(p,ao)|0,f=f+Math.imul(p,ap)|0;var aA=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aA>>>26)|0,aA&=67108863,d=Math.imul(M,V),e=Math.imul(M,W),e=e+Math.imul(N,V)|0,f=Math.imul(N,W),d=d+Math.imul(J,Y)|0,e=e+Math.imul(J,Z)|0,e=e+Math.imul(K,Y)|0,f=f+Math.imul(K,Z)|0,d=d+Math.imul(G,_)|0,e=e+Math.imul(G,aa)|0,e=e+Math.imul(H,_)|0,f=f+Math.imul(H,aa)|0,d=d+Math.imul(D,ac)|0,e=e+Math.imul(D,ad)|0,e=e+Math.imul(E,ac)|0,f=f+Math.imul(E,ad)|0,d=d+Math.imul(A,af)|0,e=e+Math.imul(A,ag)|0,e=e+Math.imul(B,af)|0,f=f+Math.imul(B,ag)|0,d=d+Math.imul(x,ai)|0,e=e+Math.imul(x,aj)|0,e=e+Math.imul(y,ai)|0,f=f+Math.imul(y,aj)|0,d=d+Math.imul(u,al)|0,e=e+Math.imul(u,am)|0,e=e+Math.imul(v,al)|0,f=f+Math.imul(v,am)|0,d=d+Math.imul(r,ao)|0,e=e+Math.imul(r,ap)|0,e=e+Math.imul(s,ao)|0,f=f+Math.imul(s,ap)|0;var aB=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aB>>>26)|0,aB&=67108863,d=Math.imul(M,Y),e=Math.imul(M,Z),e=e+Math.imul(N,Y)|0,f=Math.imul(N,Z),d=d+Math.imul(J,_)|0,e=e+Math.imul(J,aa)|0,e=e+Math.imul(K,_)|0,f=f+Math.imul(K,aa)|0,d=d+Math.imul(G,ac)|0,e=e+Math.imul(G,ad)|0,e=e+Math.imul(H,ac)|0,f=f+Math.imul(H,ad)|0,d=d+Math.imul(D,af)|0,e=e+Math.imul(D,ag)|0,e=e+Math.imul(E,af)|0,f=f+Math.imul(E,ag)|0,d=d+Math.imul(A,ai)|0,e=e+Math.imul(A,aj)|0,e=e+Math.imul(B,ai)|0,f=f+Math.imul(B,aj)|0,d=d+Math.imul(x,al)|0,e=e+Math.imul(x,am)|0,e=e+Math.imul(y,al)|0,f=f+Math.imul(y,am)|0,d=d+Math.imul(u,ao)|0,e=e+Math.imul(u,ap)|0,e=e+Math.imul(v,ao)|0,f=f+Math.imul(v,ap)|0;var aC=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aC>>>26)|0,aC&=67108863,d=Math.imul(M,_),e=Math.imul(M,aa),e=e+Math.imul(N,_)|0,f=Math.imul(N,aa),d=d+Math.imul(J,ac)|0,e=e+Math.imul(J,ad)|0,e=e+Math.imul(K,ac)|0,f=f+Math.imul(K,ad)|0,d=d+Math.imul(G,af)|0,e=e+Math.imul(G,ag)|0,e=e+Math.imul(H,af)|0,f=f+Math.imul(H,ag)|0,d=d+Math.imul(D,ai)|0,e=e+Math.imul(D,aj)|0,e=e+Math.imul(E,ai)|0,f=f+Math.imul(E,aj)|0,d=d+Math.imul(A,al)|0,e=e+Math.imul(A,am)|0,e=e+Math.imul(B,al)|0,f=f+Math.imul(B,am)|0,d=d+Math.imul(x,ao)|0,e=e+Math.imul(x,ap)|0,e=e+Math.imul(y,ao)|0,f=f+Math.imul(y,ap)|0;var aD=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aD>>>26)|0,aD&=67108863,d=Math.imul(M,ac),e=Math.imul(M,ad),e=e+Math.imul(N,ac)|0,f=Math.imul(N,ad),d=d+Math.imul(J,af)|0,e=e+Math.imul(J,ag)|0,e=e+Math.imul(K,af)|0,f=f+Math.imul(K,ag)|0,d=d+Math.imul(G,ai)|0,e=e+Math.imul(G,aj)|0,e=e+Math.imul(H,ai)|0,f=f+Math.imul(H,aj)|0,d=d+Math.imul(D,al)|0,e=e+Math.imul(D,am)|0,e=e+Math.imul(E,al)|0,f=f+Math.imul(E,am)|0,d=d+Math.imul(A,ao)|0,e=e+Math.imul(A,ap)|0,e=e+Math.imul(B,ao)|0,f=f+Math.imul(B,ap)|0;var aE=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aE>>>26)|0,aE&=67108863,d=Math.imul(M,af),e=Math.imul(M,ag),e=e+Math.imul(N,af)|0,f=Math.imul(N,ag),d=d+Math.imul(J,ai)|0,e=e+Math.imul(J,aj)|0,e=e+Math.imul(K,ai)|0,f=f+Math.imul(K,aj)|0,d=d+Math.imul(G,al)|0,e=e+Math.imul(G,am)|0,e=e+Math.imul(H,al)|0,f=f+Math.imul(H,am)|0,d=d+Math.imul(D,ao)|0,e=e+Math.imul(D,ap)|0,e=e+Math.imul(E,ao)|0,f=f+Math.imul(E,ap)|0;var aF=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aF>>>26)|0,aF&=67108863,d=Math.imul(M,ai),e=Math.imul(M,aj),e=e+Math.imul(N,ai)|0,f=Math.imul(N,aj),d=d+Math.imul(J,al)|0,e=e+Math.imul(J,am)|0,e=e+Math.imul(K,al)|0,f=f+Math.imul(K,am)|0,d=d+Math.imul(G,ao)|0,e=e+Math.imul(G,ap)|0,e=e+Math.imul(H,ao)|0,f=f+Math.imul(H,ap)|0;var aG=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aG>>>26)|0,aG&=67108863,d=Math.imul(M,al),e=Math.imul(M,am),e=e+Math.imul(N,al)|0,f=Math.imul(N,am),d=d+Math.imul(J,ao)|0,e=e+Math.imul(J,ap)|0,e=e+Math.imul(K,ao)|0,f=f+Math.imul(K,ap)|0;var aH=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(aH>>>26)|0,aH&=67108863,d=Math.imul(M,ao),e=Math.imul(M,ap),e=e+Math.imul(N,ao)|0,f=Math.imul(N,ap);var aI=(j+d|0)+((8191&e)<<13)|0;return j=(f+(e>>>13)|0)+(aI>>>26)|0,aI&=67108863,i[0]=aq,i[1]=ar,i[2]=as,i[3]=at,i[4]=au,i[5]=av,i[6]=aw,i[7]=ax,i[8]=ay,i[9]=az,i[10]=aA,i[11]=aB,i[12]=aC,i[13]=aD,i[14]=aE,i[15]=aF,i[16]=aG,i[17]=aH,i[18]=aI,0!==j&&(i[19]=j,c.length++),c};function p(a,b,c){return new q().mulp(a,b,c)}function q(a,b){this.x=a,this.y=b}Math.imul||(o=n),f.prototype.mulTo=function(a,b){var c,d=this.length+a.length;return 10===this.length&&10===a.length?o(this,a,b):d<63?n(this,a,b):d<1024?function(a,b,c){c.negative=b.negative^a.negative,c.length=a.length+b.length;for(var d=0,e=0,f=0;f<c.length-1;f++){var g=e;e=0;for(var h=67108863&d,i=Math.min(f,b.length-1),j=Math.max(0,f-a.length+1);j<=i;j++){var k,l=f-j,m=(0|a.words[l])*(0|b.words[j]),n=67108863&m;g=g+(m/67108864|0)|0,h=67108863&(n=n+h|0),g=g+(n>>>26)|0,e+=g>>>26,g&=67108863}c.words[f]=h,d=g,g=e}return 0!==d?c.words[f]=d:c.length--,c.strip()}(this,a,b):p(this,a,b)},q.prototype.makeRBT=function(a){for(var b=Array(a),c=f.prototype._countBits(a)-1,d=0;d<a;d++)b[d]=this.revBin(d,c,a);return b},q.prototype.revBin=function(a,b,c){if(0===a||a===c-1)return a;for(var d=0,e=0;e<b;e++)d|=(1&a)<<b-e-1,a>>=1;return d},q.prototype.permute=function(a,b,c,d,e,f){for(var g=0;g<f;g++)d[g]=b[a[g]],e[g]=c[a[g]]},q.prototype.transform=function(a,b,c,d,e,f){this.permute(f,a,b,c,d,e);for(var g=1;g<e;g<<=1)for(var h=g<<1,i=Math.cos(2*Math.PI/h),j=Math.sin(2*Math.PI/h),k=0;k<e;k+=h)for(var l=i,m=j,n=0;n<g;n++){var o=c[k+n],p=d[k+n],q=c[k+n+g],r=d[k+n+g],s=l*q-m*r;r=l*r+m*q,q=s,c[k+n]=o+q,d[k+n]=p+r,c[k+n+g]=o-q,d[k+n+g]=p-r,n!==h&&(s=i*l-j*m,m=i*m+j*l,l=s)}},q.prototype.guessLen13b=function(a,b){var c=1|Math.max(b,a),d=1&c,e=0;for(c=c/2|0;c;c>>>=1)e++;return 1<<e+1+d},q.prototype.conjugate=function(a,b,c){if(!(c<=1))for(var d=0;d<c/2;d++){var e=a[d];a[d]=a[c-d-1],a[c-d-1]=e,e=b[d],b[d]=-b[c-d-1],b[c-d-1]=-e}},q.prototype.normalize13b=function(a,b){for(var c=0,d=0;d<b/2;d++){var e=8192*Math.round(a[2*d+1]/b)+Math.round(a[2*d]/b)+c;a[d]=67108863&e,c=e<67108864?0:e/67108864|0}return a},q.prototype.convert13b=function(a,b,c,e){for(var f=0,g=0;g<b;g++)f+=0|a[g],c[2*g]=8191&f,f>>>=13,c[2*g+1]=8191&f,f>>>=13;for(g=2*b;g<e;++g)c[g]=0;d(0===f),d((-8192&f)==0)},q.prototype.stub=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=0;return b},q.prototype.mulp=function(a,b,c){var d=2*this.guessLen13b(a.length,b.length),e=this.makeRBT(d),f=this.stub(d),g=Array(d),h=Array(d),i=Array(d),j=Array(d),k=Array(d),l=Array(d),m=c.words;m.length=d,this.convert13b(a.words,a.length,g,d),this.convert13b(b.words,b.length,j,d),this.transform(g,f,h,i,d,e),this.transform(j,f,k,l,d,e);for(var n=0;n<d;n++){var o=h[n]*k[n]-i[n]*l[n];i[n]=h[n]*l[n]+i[n]*k[n],h[n]=o}return this.conjugate(h,i,d),this.transform(h,i,m,f,d,e),this.conjugate(m,f,d),this.normalize13b(m,d),c.negative=a.negative^b.negative,c.length=a.length+b.length,c.strip()},f.prototype.mul=function(a){var b=new f(null);return b.words=Array(this.length+a.length),this.mulTo(a,b)},f.prototype.mulf=function(a){var b=new f(null);return b.words=Array(this.length+a.length),p(this,a,b)},f.prototype.imul=function(a){return this.clone().mulTo(a,this)},f.prototype.imuln=function(a){d("number"==typeof a),d(a<67108864);for(var b=0,c=0;c<this.length;c++){var e=(0|this.words[c])*a,f=(67108863&e)+(67108863&b);b>>=26,b+=e/67108864|0,b+=f>>>26,this.words[c]=67108863&f}return 0!==b&&(this.words[c]=b,this.length++),this},f.prototype.muln=function(a){return this.clone().imuln(a)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(a){var b=function(a){for(var b=Array(a.bitLength()),c=0;c<b.length;c++){var d=c/26|0,e=c%26;b[c]=(a.words[d]&1<<e)>>>e}return b}(a);if(0===b.length)return new f(1);for(var c=this,d=0;d<b.length&&0===b[d];d++,c=c.sqr());if(++d<b.length)for(var e=c.sqr();d<b.length;d++,e=e.sqr())0!==b[d]&&(c=c.mul(e));return c},f.prototype.iushln=function(a){d("number"==typeof a&&a>=0);var b,c=a%26,e=(a-c)/26,f=67108863>>>26-c<<26-c;if(0!==c){var g=0;for(b=0;b<this.length;b++){var h=this.words[b]&f,i=(0|this.words[b])-h<<c;this.words[b]=i|g,g=h>>>26-c}g&&(this.words[b]=g,this.length++)}if(0!==e){for(b=this.length-1;b>=0;b--)this.words[b+e]=this.words[b];for(b=0;b<e;b++)this.words[b]=0;this.length+=e}return this.strip()},f.prototype.ishln=function(a){return d(0===this.negative),this.iushln(a)},f.prototype.iushrn=function(a,b,c){d("number"==typeof a&&a>=0),e=b?(b-b%26)/26:0;var e,f=a%26,g=Math.min((a-f)/26,this.length),h=67108863^67108863>>>f<<f,i=c;if(e-=g,e=Math.max(0,e),i){for(var j=0;j<g;j++)i.words[j]=this.words[j];i.length=g}if(0===g);else if(this.length>g)for(this.length-=g,j=0;j<this.length;j++)this.words[j]=this.words[j+g];else this.words[0]=0,this.length=1;var k=0;for(j=this.length-1;j>=0&&(0!==k||j>=e);j--){var l=0|this.words[j];this.words[j]=k<<26-f|l>>>f,k=l&h}return i&&0!==k&&(i.words[i.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(a,b,c){return d(0===this.negative),this.iushrn(a,b,c)},f.prototype.shln=function(a){return this.clone().ishln(a)},f.prototype.ushln=function(a){return this.clone().iushln(a)},f.prototype.shrn=function(a){return this.clone().ishrn(a)},f.prototype.ushrn=function(a){return this.clone().iushrn(a)},f.prototype.testn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;return!(this.length<=c)&&!!(this.words[c]&1<<b)},f.prototype.imaskn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;if(d(0===this.negative,"imaskn works only with positive numbers"),this.length<=c)return this;if(0!==b&&c++,this.length=Math.min(c,this.length),0!==b){var e=67108863^67108863>>>b<<b;this.words[this.length-1]&=e}return this.strip()},f.prototype.maskn=function(a){return this.clone().imaskn(a)},f.prototype.iaddn=function(a){return(d("number"==typeof a),d(a<67108864),a<0)?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},f.prototype._iaddn=function(a){this.words[0]+=a;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},f.prototype.isubn=function(a){if(d("number"==typeof a),d(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},f.prototype.addn=function(a){return this.clone().iaddn(a)},f.prototype.subn=function(a){return this.clone().isubn(a)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(a,b,c){var e,f,g=a.length+c;this._expand(g);var h=0;for(e=0;e<a.length;e++){f=(0|this.words[e+c])+h;var i=(0|a.words[e])*b;f-=67108863&i,h=(f>>26)-(i/67108864|0),this.words[e+c]=67108863&f}for(;e<this.length-c;e++)h=(f=(0|this.words[e+c])+h)>>26,this.words[e+c]=67108863&f;if(0===h)return this.strip();for(d(-1===h),h=0,e=0;e<this.length;e++)h=(f=-(0|this.words[e])+h)>>26,this.words[e]=67108863&f;return this.negative=1,this.strip()},f.prototype._wordDiv=function(a,b){var c,d=this.length-a.length,e=this.clone(),g=a,h=0|g.words[g.length-1];0!=(d=26-this._countBits(h))&&(g=g.ushln(d),e.iushln(d),h=0|g.words[g.length-1]);var i=e.length-g.length;if("mod"!==b){(c=new f(null)).length=i+1,c.words=Array(c.length);for(var j=0;j<c.length;j++)c.words[j]=0}var k=e.clone()._ishlnsubmul(g,1,i);0===k.negative&&(e=k,c&&(c.words[i]=1));for(var l=i-1;l>=0;l--){var m=(0|e.words[g.length+l])*67108864+(0|e.words[g.length+l-1]);for(m=Math.min(m/h|0,67108863),e._ishlnsubmul(g,m,l);0!==e.negative;)m--,e.negative=0,e._ishlnsubmul(g,1,l),e.isZero()||(e.negative^=1);c&&(c.words[l]=m)}return c&&c.strip(),e.strip(),"div"!==b&&0!==d&&e.iushrn(d),{div:c||null,mod:e}},f.prototype.divmod=function(a,b,c){var e,g,h;return(d(!a.isZero()),this.isZero())?{div:new f(0),mod:new f(0)}:0!==this.negative&&0===a.negative?(h=this.neg().divmod(a,b),"mod"!==b&&(e=h.div.neg()),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.iadd(a)),{div:e,mod:g}):0===this.negative&&0!==a.negative?(h=this.divmod(a.neg(),b),"mod"!==b&&(e=h.div.neg()),{div:e,mod:h.mod}):(this.negative&a.negative)!=0?(h=this.neg().divmod(a.neg(),b),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.isub(a)),{div:h.div,mod:g}):a.length>this.length||0>this.cmp(a)?{div:new f(0),mod:this}:1===a.length?"div"===b?{div:this.divn(a.words[0]),mod:null}:"mod"===b?{div:null,mod:new f(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new f(this.modn(a.words[0]))}:this._wordDiv(a,b)},f.prototype.div=function(a){return this.divmod(a,"div",!1).div},f.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},f.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},f.prototype.divRound=function(a){var b=this.divmod(a);if(b.mod.isZero())return b.div;var c=0!==b.div.negative?b.mod.isub(a):b.mod,d=a.ushrn(1),e=a.andln(1),f=c.cmp(d);return f<0||1===e&&0===f?b.div:0!==b.div.negative?b.div.isubn(1):b.div.iaddn(1)},f.prototype.modn=function(a){d(a<=67108863);for(var b=67108864%a,c=0,e=this.length-1;e>=0;e--)c=(b*c+(0|this.words[e]))%a;return c},f.prototype.idivn=function(a){d(a<=67108863);for(var b=0,c=this.length-1;c>=0;c--){var e=(0|this.words[c])+67108864*b;this.words[c]=e/a|0,b=e%a}return this.strip()},f.prototype.divn=function(a){return this.clone().idivn(a)},f.prototype.egcd=function(a){d(0===a.negative),d(!a.isZero());var b=this,c=a.clone();b=0!==b.negative?b.umod(a):b.clone();for(var e=new f(1),g=new f(0),h=new f(0),i=new f(1),j=0;b.isEven()&&c.isEven();)b.iushrn(1),c.iushrn(1),++j;for(var k=c.clone(),l=b.clone();!b.isZero();){for(var m=0,n=1;(b.words[0]&n)==0&&m<26;++m,n<<=1);if(m>0)for(b.iushrn(m);m-- >0;)(e.isOdd()||g.isOdd())&&(e.iadd(k),g.isub(l)),e.iushrn(1),g.iushrn(1);for(var o=0,p=1;(c.words[0]&p)==0&&o<26;++o,p<<=1);if(o>0)for(c.iushrn(o);o-- >0;)(h.isOdd()||i.isOdd())&&(h.iadd(k),i.isub(l)),h.iushrn(1),i.iushrn(1);b.cmp(c)>=0?(b.isub(c),e.isub(h),g.isub(i)):(c.isub(b),h.isub(e),i.isub(g))}return{a:h,b:i,gcd:c.iushln(j)}},f.prototype._invmp=function(a){d(0===a.negative),d(!a.isZero());var b,c=this,e=a.clone();c=0!==c.negative?c.umod(a):c.clone();for(var g=new f(1),h=new f(0),i=e.clone();c.cmpn(1)>0&&e.cmpn(1)>0;){for(var j=0,k=1;(c.words[0]&k)==0&&j<26;++j,k<<=1);if(j>0)for(c.iushrn(j);j-- >0;)g.isOdd()&&g.iadd(i),g.iushrn(1);for(var l=0,m=1;(e.words[0]&m)==0&&l<26;++l,m<<=1);if(l>0)for(e.iushrn(l);l-- >0;)h.isOdd()&&h.iadd(i),h.iushrn(1);c.cmp(e)>=0?(c.isub(e),g.isub(h)):(e.isub(c),h.isub(g))}return 0>(b=0===c.cmpn(1)?g:h).cmpn(0)&&b.iadd(a),b},f.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var b=this.clone(),c=a.clone();b.negative=0,c.negative=0;for(var d=0;b.isEven()&&c.isEven();d++)b.iushrn(1),c.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;c.isEven();)c.iushrn(1);var e=b.cmp(c);if(e<0){var f=b;b=c,c=f}else if(0===e||0===c.cmpn(1))break;b.isub(c)}return c.iushln(d)},f.prototype.invm=function(a){return this.egcd(a).a.umod(a)},f.prototype.isEven=function(){return(1&this.words[0])==0},f.prototype.isOdd=function(){return(1&this.words[0])==1},f.prototype.andln=function(a){return this.words[0]&a},f.prototype.bincn=function(a){d("number"==typeof a);var b=a%26,c=(a-b)/26,e=1<<b;if(this.length<=c)return this._expand(c+1),this.words[c]|=e,this;for(var f=e,g=c;0!==f&&g<this.length;g++){var h=0|this.words[g];h+=f,f=h>>>26,h&=67108863,this.words[g]=h}return 0!==f&&(this.words[g]=f,this.length++),this},f.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},f.prototype.cmpn=function(a){var b,c=a<0;if(0!==this.negative&&!c)return -1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)b=1;else{c&&(a=-a),d(a<=67108863,"Number is too big");var e=0|this.words[0];b=e===a?0:e<a?-1:1}return 0!==this.negative?0| -b:b},f.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return -1;if(0===this.negative&&0!==a.negative)return 1;var b=this.ucmp(a);return 0!==this.negative?0| -b:b},f.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return -1;for(var b=0,c=this.length-1;c>=0;c--){var d=0|this.words[c],e=0|a.words[c];if(d!==e){d<e?b=-1:d>e&&(b=1);break}}return b},f.prototype.gtn=function(a){return 1===this.cmpn(a)},f.prototype.gt=function(a){return 1===this.cmp(a)},f.prototype.gten=function(a){return this.cmpn(a)>=0},f.prototype.gte=function(a){return this.cmp(a)>=0},f.prototype.ltn=function(a){return -1===this.cmpn(a)},f.prototype.lt=function(a){return -1===this.cmp(a)},f.prototype.lten=function(a){return 0>=this.cmpn(a)},f.prototype.lte=function(a){return 0>=this.cmp(a)},f.prototype.eqn=function(a){return 0===this.cmpn(a)},f.prototype.eq=function(a){return 0===this.cmp(a)},f.red=function(a){return new x(a)},f.prototype.toRed=function(a){return d(!this.red,"Already a number in reduction context"),d(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},f.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(a){return this.red=a,this},f.prototype.forceRed=function(a){return d(!this.red,"Already a number in reduction context"),this._forceRed(a)},f.prototype.redAdd=function(a){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},f.prototype.redIAdd=function(a){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},f.prototype.redSub=function(a){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},f.prototype.redISub=function(a){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},f.prototype.redShl=function(a){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},f.prototype.redMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},f.prototype.redIMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},f.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(a){return d(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var r={k256:null,p224:null,p192:null,p25519:null};function s(a,b){this.name=a,this.p=new f(b,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function t(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function u(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(a){if("string"==typeof a){var b=f._prime(a);this.m=b.p,this.prime=b}else d(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null}function y(a){x.call(this,a),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s.prototype._tmp=function(){var a=new f(null);return a.words=Array(Math.ceil(this.n/13)),a},s.prototype.ireduce=function(a){var b,c=a;do this.split(c,this.tmp),b=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength();while(b>this.n);var d=b<this.n?-1:c.ucmp(this.p);return 0===d?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip(),c},s.prototype.split=function(a,b){a.iushrn(this.n,0,b)},s.prototype.imulK=function(a){return a.imul(this.k)},e(t,s),t.prototype.split=function(a,b){for(var c=Math.min(a.length,9),d=0;d<c;d++)b.words[d]=a.words[d];if(b.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var e=a.words[9];for(d=10,b.words[b.length++]=4194303&e;d<a.length;d++){var f=0|a.words[d];a.words[d-10]=(4194303&f)<<4|e>>>22,e=f}e>>>=22,a.words[d-10]=e,0===e&&a.length>10?a.length-=10:a.length-=9},t.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var b=0,c=0;c<a.length;c++){var d=0|a.words[c];b+=977*d,a.words[c]=67108863&b,b=64*d+(b/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},e(u,s),e(v,s),e(w,s),w.prototype.imulK=function(a){for(var b=0,c=0;c<a.length;c++){var d=(0|a.words[c])*19+b,e=67108863&d;d>>>=26,a.words[c]=e,b=d}return 0!==b&&(a.words[a.length++]=b),a},f._prime=function(a){var b;if(r[a])return r[a];if("k256"===a)b=new t;else if("p224"===a)b=new u;else if("p192"===a)b=new v;else if("p25519"===a)b=new w;else throw Error("Unknown prime "+a);return r[a]=b,b},x.prototype._verify1=function(a){d(0===a.negative,"red works only with positives"),d(a.red,"red works only with red numbers")},x.prototype._verify2=function(a,b){d((a.negative|b.negative)==0,"red works only with positives"),d(a.red&&a.red===b.red,"red works only with red numbers")},x.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},x.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},x.prototype.add=function(a,b){this._verify2(a,b);var c=a.add(b);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},x.prototype.iadd=function(a,b){this._verify2(a,b);var c=a.iadd(b);return c.cmp(this.m)>=0&&c.isub(this.m),c},x.prototype.sub=function(a,b){this._verify2(a,b);var c=a.sub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c._forceRed(this)},x.prototype.isub=function(a,b){this._verify2(a,b);var c=a.isub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c},x.prototype.shl=function(a,b){return this._verify1(a),this.imod(a.ushln(b))},x.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},x.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},x.prototype.isqr=function(a){return this.imul(a,a.clone())},x.prototype.sqr=function(a){return this.mul(a,a)},x.prototype.sqrt=function(a){if(a.isZero())return a.clone();var b=this.m.andln(3);if(d(b%2==1),3===b){var c=this.m.add(new f(1)).iushrn(2);return this.pow(a,c)}for(var e=this.m.subn(1),g=0;!e.isZero()&&0===e.andln(1);)g++,e.iushrn(1);d(!e.isZero());var h=new f(1).toRed(this),i=h.redNeg(),j=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new f(2*k*k).toRed(this);0!==this.pow(k,j).cmp(i);)k.redIAdd(i);for(var l=this.pow(k,e),m=this.pow(a,e.addn(1).iushrn(1)),n=this.pow(a,e),o=g;0!==n.cmp(h);){for(var p=n,q=0;0!==p.cmp(h);q++)p=p.redSqr();d(q<o);var r=this.pow(l,new f(1).iushln(o-q-1));m=m.redMul(r),l=r.redSqr(),n=n.redMul(l),o=q}return m},x.prototype.invm=function(a){var b=a._invmp(this.m);return 0!==b.negative?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},x.prototype.pow=function(a,b){if(b.isZero())return new f(1);if(0===b.cmpn(1))return a.clone();var c=4,d=Array(1<<c);d[0]=new f(1).toRed(this),d[1]=a;for(var e=2;e<d.length;e++)d[e]=this.mul(d[e-1],a);var g=d[0],h=0,i=0,j=b.bitLength()%26;for(0===j&&(j=26),e=b.length-1;e>=0;e--){for(var k=b.words[e],l=j-1;l>=0;l--){var m=k>>l&1;if(g!==d[0]&&(g=this.sqr(g)),0===m&&0===h){i=0;continue}h<<=1,h|=m,(++i===c||0===e&&0===l)&&(g=this.mul(g,d[h]),i=0,h=0)}j=26}return g},x.prototype.convertTo=function(a){var b=a.umod(this.m);return b===a?b.clone():b},x.prototype.convertFrom=function(a){var b=a.clone();return b.red=null,b},f.mont=function(a){return new y(a)},e(y,x),y.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},y.prototype.convertFrom=function(a){var b=this.imod(a.mul(this.rinv));return b.red=null,b},y.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var c=a.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):0>e.cmpn(0)&&(f=e.iadd(this.m)),f._forceRed(this)},y.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new f(0)._forceRed(this);var c=a.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),g=e;return e.cmp(this.m)>=0?g=e.isub(this.m):0>e.cmpn(0)&&(g=e.iadd(this.m)),g._forceRed(this)},y.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(a=c.nmd(a),this)},83206:function(a,b,c){var d=c(45033),e=c(49604);a.exports=function(a){if("string"==typeof a||"number"==typeof a){var b=new d(1),c=String(a).toLowerCase().trim(),f="0x"===c.substr(0,2)||"-0x"===c.substr(0,3),g=e(c);if("-"===g.substr(0,1)&&(g=e(g.slice(1)),b=new d(-1,10)),!(g=""===g?"0":g).match(/^-?[0-9]+$/)&&g.match(/^[0-9A-Fa-f]+$/)||g.match(/^[a-fA-F]+$/)|| !0===f&&g.match(/^[0-9A-Fa-f]+$/))return new d(g,16).mul(b);if((g.match(/^-?[0-9]+$/)||""===g)&& !1===f)return new d(g,10).mul(b)}else if("object"==typeof a&&a.toString&&!a.pop&&!a.push&&a.toString(10).match(/^-?[0-9]+$/)&&(a.mul||a.dividedToIntegerBy))return new d(a.toString(10),10);throw Error("[number-to-bn] while converting number "+JSON.stringify(a)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},43455:function(a){!/*!
 * v2.1.4-104-gc868b3a
 * 
 */ function(b,c){a.exports=c()}("undefined"!=typeof self?self:this,function(){return function(a){var b={};function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:d})},c.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=7)}([function(a,b,c){"use strict";c.d(b,"j",function(){return e}),c.d(b,"d",function(){return f}),c.d(b,"c",function(){return g}),c.d(b,"h",function(){return h}),c.d(b,"b",function(){return i}),c.d(b,"k",function(){return j}),c.d(b,"e",function(){return k}),c.d(b,"g",function(){return l}),c.d(b,"i",function(){return m}),c.d(b,"a",function(){return n}),c.d(b,"f",function(){return o});var d=c(1),e=j(function(a,b){var c=b.length;return j(function(d){for(var e=0;e<d.length;e++)b[c+e]=d[e];return b.length=c+d.length,a.apply(this,b)})});function f(a,b){return function(){return a.call(this,b.apply(this,arguments))}}function g(a){return function(b){return b[a]}}j(function(a){var b=Object(d.c)(a);function c(a,b){return[i(a,b)]}return j(function(a){return Object(d.f)(c,a,b)[0]})});var h=j(function(a){return j(function(b){for(var c,d=0;d<g("length")(a);d++)if(c=i(b,a[d]))return c})});function i(a,b){return b.apply(void 0,a)}function j(a){var b=a.length-1,c=Array.prototype.slice;if(0===b)return function(){return a.call(this,c.call(arguments))};if(1===b)return function(){return a.call(this,arguments[0],c.call(arguments,1))};var d=Array(a.length);return function(){for(var e=0;e<b;e++)d[e]=arguments[e];return d[b]=c.call(arguments,b),a.apply(this,d)}}function k(a){return function(b,c){return a(c,b)}}function l(a,b){return function(c){return a(c)&&b(c)}}function m(){}function n(){return!0}function o(a){return function(){return a}}},function(a,b,c){"use strict";c.d(b,"d",function(){return e}),c.d(b,"g",function(){return f}),c.d(b,"l",function(){return g}),c.d(b,"c",function(){return h}),c.d(b,"h",function(){return i}),c.d(b,"i",function(){return j}),c.d(b,"j",function(){return k}),c.d(b,"f",function(){return l}),c.d(b,"m",function(){return m}),c.d(b,"a",function(){return n}),c.d(b,"b",function(){return o}),c.d(b,"k",function(){return p}),c.d(b,"e",function(){return q});var d=c(0);function e(a,b){return[a,b]}var f=Object(d.c)(0),g=Object(d.c)(1);function h(a){return p(a.reduce(Object(d.e)(e),null))}var i=Object(d.k)(h);function j(a){return l(function(a,b){return a.unshift(b),a},[],a)}function k(a,b){return b?e(a(f(b)),k(a,g(b))):null}function l(a,b,c){return c?a(l(a,b,g(c)),f(c)):b}function m(a,b,c){return h(a,c||d.i);function h(a,c){return a?b(f(a))?(c(f(a)),g(a)):e(f(a),h(g(a),c)):null}}function n(a,b){return!b||a(f(b))&&n(a,g(b))}function o(a,b){a&&(f(a).apply(null,b),o(g(a),b))}function p(a){function b(a,c){return a?b(g(a),e(f(a),c)):c}return b(a,null)}function q(a,b){return b&&(a(f(b))?f(b):q(a,g(b)))}},function(a,b,c){"use strict";c.d(b,"c",function(){return f}),c.d(b,"e",function(){return g}),c.d(b,"d",function(){return h}),c.d(b,"a",function(){return i}),c.d(b,"b",function(){return j});var d=c(1),e=c(0);function f(a,b){return b&&b.constructor===a}var g=Object(e.c)("length"),h=Object(e.j)(f,String);function i(a){return void 0!==a}function j(a,b){return b instanceof Object&&Object(d.a)(function(a){return a in b},a)}},function(a,b,c){"use strict";c.d(b,"f",function(){return e}),c.d(b,"d",function(){return f}),c.d(b,"g",function(){return g}),c.d(b,"e",function(){return h}),c.d(b,"b",function(){return i}),c.d(b,"h",function(){return j}),c.d(b,"i",function(){return k}),c.d(b,"c",function(){return l}),c.d(b,"m",function(){return m}),c.d(b,"n",function(){return n}),c.d(b,"a",function(){return o}),c.d(b,"j",function(){return p}),c.d(b,"l",function(){return q}),c.d(b,"k",function(){return r}),c.d(b,"o",function(){return s});var d=1,e=d++,f=d++,g=d++,h=d++,i="fail",j=d++,k=d++,l="start",m="data",n="end",o=d++,p=d++,q=d++,r=d++;function s(a,b,c){try{var d=JSON.parse(b)}catch(e){}return{statusCode:a,body:b,jsonBody:d,thrown:c}}},function(a,b,c){"use strict";c.d(b,"b",function(){return e}),c.d(b,"a",function(){return f}),c.d(b,"c",function(){return g});var d=c(0);function e(a,b){return{key:a,node:b}}var f=Object(d.c)("key"),g=Object(d.c)("node")},function(a,b,c){"use strict";c.d(b,"a",function(){return i});var d=c(1),e=c(0),f=c(2),g=c(8),h=c(9);function i(a){var b=Object(d.h)("resume","pause","pipe"),c=Object(e.j)(f.b,b);return a?c(a)||Object(f.d)(a)?Object(g.a)(h.a,a):Object(g.a)(h.a,a.url,a.method,a.body,a.headers,a.withCredentials,a.cached):Object(h.a)()}i.drop=function(){return i.drop}},function(a,b,c){"use strict";c.d(b,"b",function(){return i}),c.d(b,"a",function(){return h});var d=c(3),e=c(4),f=c(2),g=c(1),h={};function i(a){var b=a(d.f).emit,c=a(d.d).emit,i=a(d.i).emit,j=a(d.h).emit;function k(a,b,c){Object(e.c)(Object(g.g)(a))[b]=c}function l(a,c,d){a&&k(a,c,d);var f=Object(g.d)(Object(e.b)(c,d),a);return b(f),f}var m={};return m[d.l]=function(a,b){if(!a)return i(b),l(a,h,b);var c,d,j,m=(c=a,d=b,j=Object(e.c)(Object(g.g)(c)),Object(f.c)(Array,j)?l(c,Object(f.e)(j),d):c),n=Object(g.l)(m),o=Object(e.a)(Object(g.g)(m));return k(n,o,b),Object(g.d)(Object(e.b)(o,b),n)},m[d.k]=function(a){return c(a),Object(g.l)(a)||j(Object(e.c)(Object(g.g)(a)))},m[d.j]=l,m}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5);b.default=d.a},function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c(2);function e(a,b,c,e,f,g,h){var i,j;return f=f?JSON.parse(JSON.stringify(f)):{},e?(Object(d.d)(e)||(e=JSON.stringify(e),f["Content-Type"]=f["Content-Type"]||"application/json"),f["Content-Length"]=f["Content-Length"]||e.length):e=null,a(c||"GET",(i=b,!1===(j=h)&&(-1===i.indexOf("?")?i+="?":i+="&",i+="_="+new Date().getTime()),i),e,f,g||!1)}},function(a,b,c){"use strict";c.d(b,"a",function(){return l});var d=c(10),e=c(12),f=c(6),g=c(13),h=c(14),i=c(16),j=c(17),k=c(18);function l(a,b,c,l,m){var n=Object(d.a)();return b&&Object(k.b)(n,Object(k.a)(),a,b,c,l,m),Object(j.a)(n),Object(e.a)(n,Object(f.b)(n)),Object(g.a)(n,h.a),Object(i.a)(n,b)}},function(a,b,c){"use strict";c.d(b,"a",function(){return f});var d=c(11),e=c(0);function f(){var a={},b=f("newListener"),c=f("removeListener");function f(e){return a[e]=Object(d.a)(e,b,c),a[e]}function g(b){return a[b]||f(b)}return["emit","on","un"].forEach(function(a){g[a]=Object(e.k)(function(b,c){Object(e.b)(c,g(b)[a])})}),g}},function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c(1),e=c(2),f=c(0);function g(a,b,c){var g,h;function i(a){return function(b){return b.id===a}}return{on:function(c,e){var f={listener:c,id:e||c};return b&&b.emit(a,c,f.id),g=Object(d.d)(f,g),h=Object(d.d)(c,h),this},emit:function(){Object(d.b)(h,arguments)},un:function(b){var e;g=Object(d.m)(g,i(b),function(a){e=a}),e&&(h=Object(d.m)(h,function(a){return a===e.listener}),c&&c.emit(a,e.listener,e.id))},listeners:function(){return h},hasListener:function(a){var b=a?i(a):f.a;return Object(e.a)(Object(d.e)(b,g))}}}},function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c(4),e=c(3),f=c(1);function g(a,b){var c,g={};function h(a){return function(b){c=a(c,b)}}for(var i in b)a(i).on(h(b[i]),g);a(e.g).on(function(a){var b,e=Object(f.g)(c),g=Object(d.a)(e),h=Object(f.l)(c);h&&(Object(d.c)(Object(f.g)(h))[g]=a)}),a(e.e).on(function(){var a,b=Object(f.g)(c),e=Object(d.a)(b),g=Object(f.l)(c);g&&delete(a=Object(d.c)(Object(f.g)(g)))[e]}),a(e.a).on(function(){for(var c in b)a(c).un(g)})}},function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c(3),e=c(1),f=c(4);function g(a,b){var c={node:a(d.d),path:a(d.f)};a("newListener").on(function(d){var g=/(node|path):(.*)/.exec(d);if(g){var h,i,j,k,l=c[g[1]];!l.hasListener(d)&&(h=d,i=l,j=b(g[2]),k=a(h).emit,i.on(function(a){var b,c,d,g,h=j(a);!1!==h&&(b=k,c=Object(f.c)(h),d=a,g=Object(e.k)(d),b(c,Object(e.i)(Object(e.l)(Object(e.j)(f.a,g))),Object(e.i)(Object(e.j)(f.c,g))))},h),a("removeListener").on(function(b){b!==h||a(b).listeners()||i.un(h)}))}})}},function(a,b,c){"use strict";c.d(b,"a",function(){return j});var d=c(0),e=c(1),f=c(4),g=c(2),h=c(6),i=c(15),j=Object(i.a)(function(a,b,c,i,j){var k=Object(d.d)(f.a,e.g),l=Object(d.d)(f.c,e.g);function m(a,b){return b[1]?Object(d.g)(a,e.g):a}function n(a){return a===d.a?d.a:Object(d.g)(function(a){return k(a)!==h.a},Object(d.d)(a,e.l))}function o(){return function(a){return k(a)===h.a}}function p(a,b,c,d,f){var h=a(c);if(h){var i,j,k,l=(i=b,j=d,k=h,Object(e.f)(function(a,b){return b(a,k)},j,i));return f(c.substr(Object(g.e)(h[0])),l)}}function q(a,b){return Object(d.j)(p,a,b)}var r=Object(d.h)(q(a,Object(e.h)(m,function(a,b){var c=b[3];if(!c)return a;var f=Object(d.j)(g.b,Object(e.c)(c.split(/\W+/))),h=Object(d.d)(f,l);return Object(d.g)(h,a)},function(a,b){var c=b[2],e=c&&"*"!==c?function(a){return String(k(a))===c}:d.a;return Object(d.g)(e,a)},n)),q(b,Object(e.h)(function(a){if(a===d.a)return d.a;var b=o(),c=n(function(a){return e(a)}),e=Object(d.h)(b,a,c);return e})),q(c,Object(e.h)()),q(i,Object(e.h)(m,o)),q(j,Object(e.h)(function(a){return function(b){var c=a(b);return!0===c?Object(e.g)(b):c}})),function(a){throw Error('"'+a+'" could not be tokenised')});function s(a,b){return b}function t(a,b){return r(a,b,a?t:s)}return function(a){try{return t(a,d.a)}catch(b){throw Error('Could not compile "'+a+'" because '+b.message)}}})},function(a,b,c){"use strict";c.d(b,"a",function(){return p});var d,e,f,g,h,i,j,k,l,m,n,o=c(0),p=(d=Object(o.k)(function(a){var b;return a.unshift(/^/),(b=RegExp(a.map(Object(o.c)("source")).join(""))).exec.bind(b)}),g=d(e=/(\$?)/,/([\w-_]+|\*)/,f=/(?:{([\w ]*?)})?/),h=d(e,/\["([^"]+)"\]/,f),i=d(e,/\[(\d+|\*)\]/,f),j=d(e,/()/,/{([\w ]*?)}/),k=d(/\.\./),l=d(/\./),m=d(e,/!/),n=d(/$/),function(a){return a(Object(o.h)(g,h,i,j),k,l,m,n)})},function(a,b,c){"use strict";c.d(b,"a",function(){return h});var d=c(3),e=c(0),f=c(2),g=c(5);function h(a,b){var c,h=/^(node|path):./,i=a(d.h),j=a(d.e).emit,k=a(d.g).emit,l=Object(e.k)(function(b,d){if(c[b])Object(e.b)(d,c[b]);else{var f=a(b),g=d[0];h.test(b)?n(f,p(g)):f.on(g)}return c}),m=function(b,d,e){if("done"===b)i.un(d);else if("node"===b||"path"===b)a.un(b+":"+d,e);else{var f=d;a(b).un(f)}return c};function n(a,b,d){d=d||b;var f=o(b);return a.on(function(){var b=!1;c.forget=function(){b=!0},Object(e.b)(arguments,f),delete c.forget,b&&a.un(d)},d),c}function o(a){return function(){try{return a.apply(c,arguments)}catch(b){setTimeout(function(){throw Error(b.message)})}}}function p(a){return function(){var b=a.apply(this,arguments);Object(f.a)(b)&&(b===g.a.drop?j():k(b))}}function q(b,c,d){var e,f,g;e="node"===b?p(d):d,n((f=b,a(f+":"+(g=c))),e,d)}function r(a,b,d){return Object(f.d)(b)?q(a,b,d):function(a,b){for(var c in b)q(a,c,b[c])}(a,b),c}return a(d.i).on(function(a){c.root=Object(e.f)(a)}),a(d.c).on(function(a,b){c.header=function(a){return a?b[a]:b}}),c={on:l,addListener:l,removeListener:m,emit:a.emit,node:Object(e.j)(r,"node"),path:Object(e.j)(r,"path"),done:Object(e.j)(n,i),start:Object(e.j)(function(b,d){return a(b).on(o(d),d),c},d.c),fail:a(d.b).on,abort:a(d.a).emit,header:e.i,root:e.i,source:b}}},function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c(3);function e(a){var b,c,e,f,g=a(d.j).emit,h=a(d.l).emit,i=a(d.k).emit,j=a(d.b).emit,k=/[\\"\n]/g,l=0,m=l++,n=l++,o=l++,p=l++,q=l++,r=l++,s=l++,t=l++,u=l++,v=l++,w=l++,x=l++,y=l++,z=l++,A=l++,B=l++,C=l++,D=l++,E=l++,F=l++,G=l,H=65536,I="",J=!1,K=!1,L=m,M=[],N=null,O=0,P=0,Q=0,R=0,S=1;function T(a){void 0!==f&&(h(f),i(),f=void 0),b=Error(a+"\nLn: "+S+"\nCol: "+R+"\nChr: "+c),j(Object(d.o)(void 0,void 0,b))}function U(a){return"\r"===a||"\n"===a||" "===a||"	"===a}a(d.m).on(function(a){if(!b){if(K)return T("Cannot write after close");var d,j=0;for(c=a[0];c&&(j>0&&(e=c),c=a[j++]);)switch(Q++,"\n"===c?(S++,R=0):R++,L){case m:if("{"===c)L=o;else if("["===c)L=q;else if(!U(c))return T("Non-whitespace before {[.");continue;case t:case o:if(U(c))continue;if(L===t)M.push(u);else{if("}"===c){h({}),i(),L=M.pop()||n;continue}M.push(p)}if('"'!==c)return T('Malformed object key should start with " ');L=s;continue;case u:case p:if(U(c))continue;if(":"===c)L===p?(M.push(p),void 0!==f&&(h({}),g(f),f=void 0),P++):void 0!==f&&(g(f),f=void 0),L=n;else if("}"===c)void 0!==f&&(h(f),i(),f=void 0),i(),P--,L=M.pop()||n;else{if(","!==c)return T("Bad object");L===p&&M.push(p),void 0!==f&&(h(f),i(),f=void 0),L=t}continue;case q:case n:if(U(c))continue;if(L===q){if(h([]),P++,L=n,"]"===c){i(),P--,L=M.pop()||n;continue}M.push(r)}if('"'===c)L=s;else if("{"===c)L=o;else if("["===c)L=q;else if("t"===c)L=v;else if("f"===c)L=y;else if("n"===c)L=C;else if("-"===c)I+=c;else if("0"===c)I+=c,L=G;else{if(-1==="123456789".indexOf(c))return T("Bad value");I+=c,L=G}continue;case r:if(","===c)M.push(r),void 0!==f&&(h(f),i(),f=void 0),L=n;else if("]"===c)void 0!==f&&(h(f),i(),f=void 0),i(),P--,L=M.pop()||n;else if(!U(c))return T("Bad array");continue;case s:void 0===f&&(f="");var l=j-1;STRING_BIGLOOP:for(;;){for(;O>0;)if(N+=c,c=a.charAt(j++),4===O?(f+=String.fromCharCode(parseInt(N,16)),O=0,l=j-1):O++,!c)break STRING_BIGLOOP;if('"'===c&&!J){L=M.pop()||n,f+=a.substring(l,j-1);break}if("\\"===c&&!J&&(J=!0,f+=a.substring(l,j-1),c=a.charAt(j++),!c))break;if(J){if(J=!1,"n"===c?f+="\n":"r"===c?f+="\r":"t"===c?f+="	":"f"===c?f+="\f":"b"===c?f+="\b":"u"===c?(O=1,N=""):f+=c,c=a.charAt(j++),l=j-1,c)continue;break}k.lastIndex=j;var V=k.exec(a);if(!V){j=a.length+1,f+=a.substring(l,j-1);break}if(j=V.index+1,!(c=a.charAt(V.index))){f+=a.substring(l,j-1);break}}continue;case v:if(!c)continue;if("r"!==c)return T("Invalid true started with t"+c);L=w;continue;case w:if(!c)continue;if("u"!==c)return T("Invalid true started with tr"+c);L=x;continue;case x:if(!c)continue;if("e"!==c)return T("Invalid true started with tru"+c);h(!0),i(),L=M.pop()||n;continue;case y:if(!c)continue;if("a"!==c)return T("Invalid false started with f"+c);L=z;continue;case z:if(!c)continue;if("l"!==c)return T("Invalid false started with fa"+c);L=A;continue;case A:if(!c)continue;if("s"!==c)return T("Invalid false started with fal"+c);L=B;continue;case B:if(!c)continue;if("e"!==c)return T("Invalid false started with fals"+c);h(!1),i(),L=M.pop()||n;continue;case C:if(!c)continue;if("u"!==c)return T("Invalid null started with n"+c);L=D;continue;case D:if(!c)continue;if("l"!==c)return T("Invalid null started with nu"+c);L=E;continue;case E:if(!c)continue;if("l"!==c)return T("Invalid null started with nul"+c);h(null),i(),L=M.pop()||n;continue;case F:if("."!==c)return T("Leading zero not followed by .");I+=c,L=G;continue;case G:if(-1!=="0123456789".indexOf(c))I+=c;else if("."===c){if(-1!==I.indexOf("."))return T("Invalid number has two dots");I+=c}else if("e"===c||"E"===c){if(-1!==I.indexOf("e")|| -1!==I.indexOf("E"))return T("Invalid number has two exponential");I+=c}else if("+"===c||"-"===c){if(!("e"===e||"E"===e))return T("Invalid symbol in number");I+=c}else I&&(h(parseFloat(I)),i(),I=""),j--,L=M.pop()||n;continue;default:return T("Unknown state: "+L)}Q>=H&&(d=0,void 0!==f&&f.length>65536&&(T("Max buffer length exceeded: textNode"),d=Math.max(d,f.length)),I.length>65536&&(T("Max buffer length exceeded: numberNode"),d=Math.max(d,I.length)),H=65536-d+Q)}}),a(d.n).on(function(){if(L===m){h({}),i(),K=!0;return}(L!==n||0!==P)&&T("Unexpected end"),void 0!==f&&(h(f),i(),f=void 0),K=!0})}},function(a,b,c){"use strict";c.d(b,"a",function(){return i}),c.d(b,"b",function(){return j});var d=c(19),e=c(3),f=c(2),g=c(20),h=c(0);function i(){return new XMLHttpRequest}function j(a,b,c,i,j,k,l){var m=a(e.m).emit,n=a(e.b).emit,o=0,p=!0;function q(){if("2"===String(b.status)[0]){var a=b.responseText,c=(" "+a.substr(o)).substr(1);c&&m(c),o=Object(f.e)(a)}}function r(b){try{p&&a(e.c).emit(b.status,Object(g.a)(b.getAllResponseHeaders())),p=!1}catch(c){}}a(e.a).on(function(){b.onreadystatechange=null,b.abort()}),"onprogress"in b&&(b.onprogress=q),b.onreadystatechange=function(){switch(b.readyState){case 2:case 3:return r(b);case 4:r(b),"2"===String(b.status)[0]?(q(),a(e.n).emit()):n(Object(e.o)(b.status,b.responseText))}};try{for(var s in b.open(c,i,!0),k)b.setRequestHeader(s,k[s]);Object(d.a)(window.location,Object(d.b)(i))||b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.withCredentials=l,b.send(j)}catch(t){window.setTimeout(Object(h.j)(n,Object(e.o)(void 0,void 0,t)),0)}}},function(a,b,c){"use strict";function d(a,b){function c(b){var c;return String(b.port||({"http:":80,"https:":443})[c=b.protocol||a.protocol])}return!!(b.protocol&&b.protocol!==a.protocol||b.host&&b.host!==a.host||b.host&&c(b)!==c(a))}function e(a){var b=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(a)||[];return{protocol:b[1]||"",host:b[2]||"",port:b[3]||""}}c.d(b,"a",function(){return d}),c.d(b,"b",function(){return e})},function(a,b,c){"use strict";function d(a){var b={};return a&&a.split("\r\n").forEach(function(a){var c=a.indexOf(": ");b[a.substring(0,c)]=a.substring(c+2)}),b}c.d(b,"a",function(){return d})}]).default})},88212:function(a,b,c){"use strict";var d=c(34155);void 0!==d&&d.version&&0!==d.version.indexOf("v0.")&&(0!==d.version.indexOf("v1.")||0===d.version.indexOf("v1.8."))?a.exports=d:a.exports={nextTick:function(a,b,c,e){if("function"!=typeof a)throw TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return d.nextTick(a);case 2:return d.nextTick(function(){a.call(null,b)});case 3:return d.nextTick(function(){a.call(null,b,c)});case 4:return d.nextTick(function(){a.call(null,b,c,e)});default:for(f=Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return d.nextTick(function(){a.apply(null,f)})}}}},35940:function(a){var b={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==b.call(a)}},45867:function(a,b,c){"use strict";var d=c(88212),e=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};a.exports=l;var f=Object.create(c(16497));f.inherits=c(35717);var g=c(44278),h=c(10759);f.inherits(l,g);for(var i=e(h.prototype),j=0;j<i.length;j++){var k=i[j];l.prototype[k]||(l.prototype[k]=h.prototype[k])}function l(a){if(!(this instanceof l))return new l(a);g.call(this,a),h.call(this,a),a&& !1===a.readable&&(this.readable=!1),a&& !1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&& !1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||d.nextTick(n,this)}function n(a){a.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&& void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&& void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),l.prototype._destroy=function(a,b){this.push(null),this.end(),d.nextTick(b,a)}},3431:function(a,b,c){"use strict";a.exports=f;var d=c(60062),e=Object.create(c(16497));function f(a){if(!(this instanceof f))return new f(a);d.call(this,a)}e.inherits=c(35717),e.inherits(f,d),f.prototype._transform=function(a,b,c){c(null,a)}},44278:function(a,b,c){"use strict";var d,e,f=c(34155),g=c(88212);a.exports=t;var h=c(35940);t.ReadableState=s,c(17187).EventEmitter;var i=function(a,b){return a.listeners(b).length},j=c(84104),k=c(64591).Buffer,l=c.g.Uint8Array||function(){},m=Object.create(c(16497));m.inherits=c(35717);var n=c(66882),o=void 0;o=n&&n.debuglog?n.debuglog("stream"):function(){};var p=c(93912),q=c(55513);m.inherits(t,j);var r=["error","close","destroy","pause","resume"];function s(a,b){d=d||c(45867),a=a||{};var f=b instanceof d;this.objectMode=!!a.objectMode,f&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var g=a.highWaterMark,h=a.readableHighWaterMark,i=this.objectMode?16:16384;g||0===g?this.highWaterMark=g:f&&(h||0===h)?this.highWaterMark=h:this.highWaterMark=i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,a.encoding&&(e||(e=c(47989).s),this.decoder=new e(a.encoding),this.encoding=a.encoding)}function t(a){if(d=d||c(45867),!(this instanceof t))return new t(a);this._readableState=new s(a,this),this.readable=!0,a&&("function"==typeof a.read&&(this._read=a.read),"function"==typeof a.destroy&&(this._destroy=a.destroy)),j.call(this)}function u(a,b,c,d,e){var f,g,h=a._readableState;return null===b?(h.reading=!1,z(a,h)):(e||(g=w(h,b)),g)?a.emit("error",g):h.objectMode||b&&b.length>0?("string"!=typeof b&&!h.objectMode&&Object.getPrototypeOf(b)!==k.prototype&&(b=(f=b,k.from(f))),d?h.endEmitted?a.emit("error",Error("stream.unshift() after end event")):v(a,h,b,!0):h.ended?a.emit("error",Error("stream.push() after EOF")):(h.reading=!1,h.decoder&&!c?(b=h.decoder.write(b),h.objectMode||0!==b.length?v(a,h,b,!1):C(a,h)):v(a,h,b,!1))):d||(h.reading=!1),x(h)}function v(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&A(a)),C(a,b)}function w(a,b){var c,d;return d=b,!k.isBuffer(d)&&!(d instanceof l)&&"string"!=typeof b&& void 0!==b&&!a.objectMode&&(c=TypeError("Invalid non-string/buffer chunk")),c}function x(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function y(a,b){if(a<=0||0===b.length&&b.ended)return 0;if(b.objectMode)return 1;if(a!=a)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(a>b.highWaterMark){var c;b.highWaterMark=((c=a)>=8388608?c=8388608:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++),c)}return a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0)}function z(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,A(a)}}function A(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(o("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?g.nextTick(B,a):B(a))}function B(a){o("emit readable"),a.emit("readable"),G(a)}function C(a,b){b.readingMore||(b.readingMore=!0,g.nextTick(D,a,b))}function D(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(o("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}Object.defineProperty(t.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),t.prototype.destroy=q.destroy,t.prototype._undestroy=q.undestroy,t.prototype._destroy=function(a,b){this.push(null),b(a)},t.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&((b=b||d.defaultEncoding)!==d.encoding&&(a=k.from(a,b),b=""),c=!0),u(this,a,b,!1,c)},t.prototype.unshift=function(a){return u(this,a,null,!0,!1)},t.prototype.isPaused=function(){return!1===this._readableState.flowing},t.prototype.setEncoding=function(a){return e||(e=c(47989).s),this._readableState.decoder=new e(a),this._readableState.encoding=a,this};function E(a){o("readable nexttick read 0"),a.read(0)}function F(a,b){b.reading||(o("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),G(a),b.flowing&&!b.reading&&a.read(0)}function G(a){var b=a._readableState;for(o("flow",b.flowing);b.flowing&&null!==a.read(););}function H(a,b){var c;return 0===b.length?null:(b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=I(a,b.buffer,b.decoder),c)}function I(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?J(a,b):K(a,b),d}function J(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0==(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function K(a,b){var c=k.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0==(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function L(a){var b=a._readableState;if(b.length>0)throw Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,g.nextTick(M,b,a))}function M(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function N(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return -1}t.prototype.read=function(a){o("read",a),a=parseInt(a,10);var b,c=this._readableState,d=a;if(0!==a&&(c.emittedReadable=!1),0===a&&c.needReadable&&(c.length>=c.highWaterMark||c.ended))return o("read: emitReadable",c.length,c.ended),0===c.length&&c.ended?L(this):A(this),null;if(0===(a=y(a,c))&&c.ended)return 0===c.length&&L(this),null;var e=c.needReadable;return o("need readable",e),(0===c.length||c.length-a<c.highWaterMark)&&o("length less than watermark",e=!0),c.ended||c.reading?o("reading or ended",e=!1):e&&(o("do read"),c.reading=!0,c.sync=!0,0===c.length&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,c.reading||(a=y(d,c))),null===(b=a>0?H(a,c):null)?(c.needReadable=!0,a=0):c.length-=a,0===c.length&&(c.ended||(c.needReadable=!0),d!==a&&c.ended&&L(this)),null!==b&&this.emit("data",b),b},t.prototype._read=function(a){this.emit("error",Error("_read() is not implemented"))},t.prototype.pipe=function(a,b){var c,d=this,e=this._readableState;switch(e.pipesCount){case 0:e.pipes=a;break;case 1:e.pipes=[e.pipes,a];break;default:e.pipes.push(a)}e.pipesCount+=1,o("pipe count=%d opts=%j",e.pipesCount,b);var j=b&& !1===b.end||a===f.stdout||a===f.stderr?v:l;function k(a,b){o("onunpipe"),a===d&&b&& !1===b.hasUnpiped&&(b.hasUnpiped=!0,p())}function l(){o("onend"),a.end()}e.endEmitted?g.nextTick(j):d.once("end",j),a.on("unpipe",k);var m=(c=d,function(){var a=c._readableState;o("pipeOnDrain",a.awaitDrain),a.awaitDrain&&a.awaitDrain--,0===a.awaitDrain&&i(c,"data")&&(a.flowing=!0,G(c))});a.on("drain",m);var n=!1;function p(){o("cleanup"),a.removeListener("close",t),a.removeListener("finish",u),a.removeListener("drain",m),a.removeListener("error",s),a.removeListener("unpipe",k),d.removeListener("end",l),d.removeListener("end",v),d.removeListener("data",r),n=!0,e.awaitDrain&&(!a._writableState||a._writableState.needDrain)&&m()}var q=!1;function r(b){o("ondata"),q=!1,!1!==a.write(b)||q||((1===e.pipesCount&&e.pipes===a||e.pipesCount>1&& -1!==N(e.pipes,a))&&!n&&(o("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,q=!0),d.pause())}function s(b){o("onerror",b),v(),a.removeListener("error",s),0===i(a,"error")&&a.emit("error",b)}function t(){a.removeListener("finish",u),v()}function u(){o("onfinish"),a.removeListener("close",t),v()}function v(){o("unpipe"),d.unpipe(a)}return d.on("data",r),function(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?h(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}(a,"error",s),a.once("close",t),a.once("finish",u),a.emit("pipe",d),e.flowing||(o("pipe resume"),d.resume()),a},t.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes||(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c)),this;if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}var g=N(b.pipes,a);return -1===g||(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c)),this},t.prototype.on=function(a,b){var c=j.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&A(this):g.nextTick(E,this))}return c},t.prototype.addListener=t.prototype.on,t.prototype.resume=function(){var a,b,c=this._readableState;return c.flowing||(o("resume"),c.flowing=!0,a=this,(b=c).resumeScheduled||(b.resumeScheduled=!0,g.nextTick(F,a,b))),this},t.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this},t.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;for(var e in a.on("end",function(){if(o("wrapped end"),c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)}),a.on("data",function(e){if(o("wrapped data"),c.decoder&&(e=c.decoder.write(e)),!c.objectMode||null!=e)(c.objectMode||e&&e.length)&&(b.push(e)||(d=!0,a.pause()))}),a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<r.length;f++)a.on(r[f],this.emit.bind(this,r[f]));return this._read=function(b){o("wrapped _read",b),d&&(d=!1,a.resume())},this},Object.defineProperty(t.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),t._fromList=H},60062:function(a,b,c){"use strict";a.exports=g;var d=c(45867),e=Object.create(c(16497));function f(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,null!=b&&this.push(b),d(a);var e=this._readableState;e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}function g(a){if(!(this instanceof g))return new g(a);d.call(this,a),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",h)}function h(){var a=this;"function"==typeof this._flush?this._flush(function(b,c){i(a,b,c)}):i(this,null,null)}function i(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw Error("Calling transform done when still transforming");return a.push(null)}e.inherits=c(35717),e.inherits(g,d),g.prototype.push=function(a,b){return this._transformState.needTransform=!1,d.prototype.push.call(this,a,b)},g.prototype._transform=function(a,b,c){throw Error("_transform() is not implemented")},g.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},g.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},g.prototype._destroy=function(a,b){var c=this;d.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},10759:function(a,b,c){"use strict";var d,e,f=c(88212);function g(a){var b=this;this.next=null,this.entry=null,this.finish=function(){B(b,a)}}a.exports=q;var h=f.nextTick;q.WritableState=p;var i=Object.create(c(16497));i.inherits=c(35717);var j={deprecate:c(94927)},k=c(84104),l=c(64591).Buffer,m=c.g.Uint8Array||function(){},n=c(55513);function o(){}function p(a,b){d=d||c(45867),a=a||{};var e=b instanceof d;this.objectMode=!!a.objectMode,e&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var f=a.highWaterMark,h=a.writableHighWaterMark,i=this.objectMode?16:16384;f||0===f?this.highWaterMark=f:e&&(h||0===h)?this.highWaterMark=h:this.highWaterMark=i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=!1===a.decodeStrings;this.decodeStrings=!j,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){t(b,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this)}function q(a){if(d=d||c(45867),!e.call(q,this)&&!(this instanceof d))return new q(a);this._writableState=new p(a,this),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final)),k.call(this)}function r(a,b,c,d,e,f){if(!c){var g,h,i,j=(g=b,h=d,i=e,g.objectMode|| !1===g.decodeStrings||"string"!=typeof h||(h=l.from(h,i)),h);d!==j&&(c=!0,e="buffer",d=j)}var k=b.objectMode?1:d.length;b.length+=k;var m=b.length<b.highWaterMark;if(m||(b.needDrain=!0),b.writing||b.corked){var n=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},n?n.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else s(a,b,!1,k,d,e,f);return m}function s(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function t(a,b){var c,d,e,g,i,j,k=a._writableState,l=k.sync,m=k.writecb;if((j=k).writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0,b)c=a,d=k,e=l,g=b,i=m,--d.pendingcb,e?(f.nextTick(i,g),f.nextTick(z,c,d),c._writableState.errorEmitted=!0,c.emit("error",g)):(i(g),c._writableState.errorEmitted=!0,c.emit("error",g),z(c,d));else{var n=x(k);n||k.corked||k.bufferProcessing||!k.bufferedRequest||w(a,k),l?h(u,a,k,n,m):u(a,k,n,m)}}function u(a,b,c,d){c||v(a,b),b.pendingcb--,d(),z(a,b)}function v(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function w(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=Array(b.bufferedRequestCount),e=b.corkedRequestsFree;e.entry=c;for(var f=0,h=!0;c;)d[f]=c,c.isBuf||(h=!1),c=c.next,f+=1;d.allBuffers=h,s(a,b,!0,b.length,d,"",e.finish),b.pendingcb++,b.lastBufferedRequest=null,e.next?(b.corkedRequestsFree=e.next,e.next=null):b.corkedRequestsFree=new g(b),b.bufferedRequestCount=0}else{for(;c;){var i=c.chunk,j=c.encoding,k=c.callback,l=b.objectMode?1:i.length;if(s(a,b,!1,l,i,j,k),c=c.next,b.bufferedRequestCount--,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequest=c,b.bufferProcessing=!1}function x(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function y(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),z(a,b)})}function z(a,b){var c,d,e=x(b);return e&&(c=a,(d=b).prefinished||d.finalCalled||("function"==typeof c._final?(d.pendingcb++,d.finalCalled=!0,f.nextTick(y,c,d)):(d.prefinished=!0,c.emit("prefinish"))),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),e}function A(a,b,c){b.ending=!0,z(a,b),c&&(b.finished?f.nextTick(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function B(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}i.inherits(q,k),p.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(p.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(e=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(a){return!!e.call(this,a)||this===q&&a&&a._writableState instanceof p}})):e=function(a){return a instanceof this},q.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},q.prototype.write=function(a,b,c){var d,e,g,h,i,j,k,n,p,q,s,t=this._writableState,u=!1,v=!t.objectMode&&(s=a,l.isBuffer(s)||s instanceof m);return v&&!l.isBuffer(a)&&(a=(d=a,l.from(d))),("function"==typeof b&&(c=b,b=null),v?b="buffer":b||(b=t.defaultEncoding),"function"!=typeof c&&(c=o),t.ended)?(e=this,g=c,h=Error("write after end"),e.emit("error",h),f.nextTick(g,h)):(v||(i=this,j=t,k=a,n=c,p=!0,q=!1,null===k?q=TypeError("May not write null values to stream"):"string"==typeof k|| void 0===k||j.objectMode||(q=TypeError("Invalid non-string/buffer chunk")),q&&(i.emit("error",q),f.nextTick(n,q),p=!1),p))&&(t.pendingcb++,u=r(this,t,v,a,b,c)),u},q.prototype.cork=function(){var a=this._writableState;a.corked++},q.prototype.uncork=function(){var a=this._writableState;!a.corked||(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||w(this,a))},q.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())> -1))throw TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(a,b,c){c(Error("_write() is not implemented"))},q.prototype._writev=null,q.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!=a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||A(this,d,c)},Object.defineProperty(q.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),q.prototype.destroy=n.destroy,q.prototype._undestroy=n.undestroy,q.prototype._destroy=function(a,b){this.end(),b(a)}},93912:function(a,b,c){"use strict";var d=c(64591).Buffer,e=c(50522);function f(a,b,c){a.copy(b,c)}a.exports=function(){function a(){(function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return d.alloc(0);if(1===this.length)return this.head.data;for(var b=d.allocUnsafe(a>>>0),c=this.head,e=0;c;)f(c.data,b,e),e+=c.data.length,c=c.next;return b},a}(),e&&e.inspect&&e.inspect.custom&&(a.exports.prototype[e.inspect.custom]=function(){var a=e.inspect({length:this.length});return this.constructor.name+" "+a})},55513:function(a,b,c){"use strict";var d=c(88212);function e(a,b){a.emit("error",b)}a.exports={destroy:function(a,b){var c=this,f=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return f||g?(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||d.nextTick(e,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?(d.nextTick(e,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},84104:function(a,b,c){a.exports=c(17187).EventEmitter},96801:function(a,b,c){(b=a.exports=c(44278)).Stream=b,b.Readable=b,b.Writable=c(10759),b.Duplex=c(45867),b.Transform=c(60062),b.PassThrough=c(3431)},64591:function(a,b,c){var d=c(48764),e=d.Buffer;function f(a,b){for(var c in a)b[c]=a[c]}function g(a,b,c){return e(a,b,c)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?a.exports=d:(f(d,b),b.Buffer=g),f(e,g),g.from=function(a,b,c){if("number"==typeof a)throw TypeError("Argument must not be a number");return e(a,b,c)},g.alloc=function(a,b,c){if("number"!=typeof a)throw TypeError("Argument must be a number");var d=e(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},g.allocUnsafe=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return e(a)},g.allocUnsafeSlow=function(a){if("number"!=typeof a)throw TypeError("Argument must be a number");return d.SlowBuffer(a)}},47989:function(a,b,c){"use strict";var d=c(64591).Buffer,e=d.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(a){var b;switch(this.encoding=function(a){var b=function(a){var b;if(!a)return"utf8";for(;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}(a);if("string"!=typeof b&&(d.isEncoding===e||!e(a)))throw Error("Unknown encoding: "+a);return b||a}(a),this.encoding){case"utf16le":this.text=i,this.end=j,b=4;break;case"utf8":this.fillLast=h,b=4;break;case"base64":this.text=k,this.end=l,b=3;break;default:this.write=m,this.end=n;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function h(a){var b=this.lastTotal-this.lastNeed,c=function(a,b,c){if((192&b[0])!=128)return a.lastNeed=0,"�";if(a.lastNeed>1&&b.length>1){if((192&b[1])!=128)return a.lastNeed=1,"�";if(a.lastNeed>2&&b.length>2&&(192&b[2])!=128)return a.lastNeed=2,"�"}}(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(a.copy(this.lastChar,b,0,a.length),this.lastNeed-=a.length)}function i(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function j(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function k(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(a){return a.toString(this.encoding)}function n(a){return a&&a.length?this.write(a):""}b.s=f,f.prototype.write=function(a){var b,c;if(0===a.length)return"";if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=function(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�":b},f.prototype.text=function(a,b){var c=function(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c|| -2===e?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c|| -2===e?0:(e=g(b[d]))>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0}(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)},f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},14650:function(a,b,c){var d=c(34155),e=c(96801).Transform,f=c(89539).inherits,g=c(47529);function h(a){e.call(this,a),this._destroyed=!1}function i(a,b,c){c(null,a)}function j(a){return function(b,c,d){return"function"==typeof b&&(d=c,c=b,b={}),"function"!=typeof c&&(c=i),"function"!=typeof d&&(d=null),a(b,c,d)}}f(h,e),h.prototype.destroy=function(a){if(!this._destroyed){this._destroyed=!0;var b=this;d.nextTick(function(){a&&b.emit("error",a),b.emit("close")})}},a.exports=j(function(a,b,c){var d=new h(a);return d._transform=b,c&&(d._flush=c),d}),a.exports.ctor=j(function(a,b,c){function d(b){if(!(this instanceof d))return new d(b);this.options=g(a,b),h.call(this,this.options)}return f(d,h),d.prototype._transform=b,c&&(d.prototype._flush=c),d}),a.exports.obj=j(function(a,b,c){var d=new h(g({objectMode:!0,highWaterMark:16},a));return d._transform=b,c&&(d._flush=c),d})},57458:function(a,b){!function(a){var b,c,d,e=String.fromCharCode;function f(a){for(var b,c,d=[],e=0,f=a.length;e<f;)(b=a.charCodeAt(e++))>=55296&&b<=56319&&e<f?(64512&(c=a.charCodeAt(e++)))==56320?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--):d.push(b);return d}function g(a){if(a>=55296&&a<=57343)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value")}function h(a,b){return e(a>>b&63|128)}function i(a){if((4294967168&a)==0)return e(a);var b="";return(4294965248&a)==0?b=e(a>>6&31|192):(4294901760&a)==0?(g(a),b=e(a>>12&15|224),b+=h(a,6)):(4292870144&a)==0&&(b=e(a>>18&7|240),b+=h(a,12),b+=h(a,6)),b+=e(63&a|128)}function j(){if(d>=c)throw Error("Invalid byte index");var a=255&b[d];if(d++,(192&a)==128)return 63&a;throw Error("Invalid continuation byte")}function k(){var a,e,f,h,i;if(d>c)throw Error("Invalid byte index");if(d==c)return!1;if(a=255&b[d],d++,(128&a)==0)return a;if((224&a)==192){if(e=j(),(i=(31&a)<<6|e)>=128)return i;throw Error("Invalid continuation byte")}if((240&a)==224){if(e=j(),f=j(),i=(15&a)<<12|e<<6|f,i>=2048)return g(i),i;throw Error("Invalid continuation byte")}if((248&a)==240&&(e=j(),f=j(),h=j(),i=(7&a)<<18|e<<12|f<<6|h,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}a.version="3.0.0",a.encode=function(a){for(var b,c=f(a),d=c.length,e=-1,g="";++e<d;)g+=i(c[e]);return g},a.decode=function(a){c=(b=f(a)).length,d=0;for(var g,h=[];!1!==(g=k());)h.push(g);return function(a){for(var b,c=a.length,d=-1,f="";++d<c;)(b=a[d])>65535&&(b-=65536,f+=e(b>>>10&1023|55296),b=56320|1023&b),f+=e(b);return f}(h)}}(b)},54928:function(a){"use strict";a.exports={ErrorResponse:function(a){var b=a&&a.error&&a.error.message?a.error.message:JSON.stringify(a),c=a.error&&a.error.data?a.error.data:null,d=Error("Returned error: "+b);return d.data=c,d},InvalidNumberOfParams:function(a,b,c){return Error('Invalid number of parameters for "'+c+'". Got '+a+" expected "+b+"!")},InvalidConnection:function(a,b){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+a+".",b)},InvalidProvider:function(){return Error("Provider not set or invalid")},InvalidResponse:function(a){var b=a&&a.error&&a.error.message?a.error.message:"Invalid JSON RPC response: "+JSON.stringify(a);return Error(b)},ConnectionTimeout:function(a){return Error("CONNECTION TIMEOUT: timeout of "+a+" ms achived")},ConnectionNotOpenError:function(a){return this.ConnectionError("connection not open on send()",a)},ConnectionCloseError:function(a){return"object"==typeof a&&a.code&&a.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+a.code+"` and the following reason string `"+a.reason+"`",a):Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(a,b){let c=Error(a);return b&&(c.code=b.code,c.reason=b.reason),c},RevertInstructionError:function(a,b){var c=Error("Your request got reverted with the following reason string: "+a);return c.reason=a,c.signature=b,c},TransactionRevertInstructionError:function(a,b,c){var d=Error("Transaction has been reverted by the EVM:\n"+JSON.stringify(c,null,2));return d.reason=a,d.signature=b,d.receipt=c,d},TransactionError:function(a,b){var c=Error(a);return c.receipt=b,c},NoContractAddressFoundError:function(a){return this.TransactionError("The transaction receipt didn't contain a contract address.",a)},ContractCodeNotStoredError:function(a){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",a)},TransactionRevertedWithoutReasonError:function(a){return this.TransactionError("Transaction has been reverted by the EVM:\n"+JSON.stringify(a,null,2),a)},TransactionOutOfGasError:function(a){return this.TransactionError("Transaction ran out of gas. Please provide more gas:\n"+JSON.stringify(a,null,2),a)},ResolverMethodMissingError:function(a,b){return Error("The resolver at "+a+'does not implement requested method: "'+b+'".')},ContractMissingABIError:function(){return Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(a){return Error('Event "'+a+"\" doesn't exist in this contract.")},ContractReservedEventError:function(a){return Error('The event "'+a+"\" is a reserved event name, you can't use it.")},ContractMissingDeployDataError:function(){return Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return Error('No "from" address specified in neither the given options, nor the default options.')}}},76267:function(a,b,c){"use strict";var d=c(18269),e=c(34751),f=function(a){return a.map(d.numberToHex)},g=function(a){return a.address=d.toChecksumAddress(a.address),a.nonce=d.hexToNumberString(a.nonce),a.balance=d.hexToNumberString(a.balance),a},h=function(a){return d.toBN(a).toString(10)},i=function(a){return this&&null==a?j(this.defaultBlock):j(a)},j=function(a){var b;if(void 0!==a)return"latest"===(b=a)||"pending"===b||"earliest"===b?a:"genesis"===a?"0x0":d.isHexStrict(a)?"string"==typeof a?a.toLowerCase():a:d.numberToHex(a)},k=function(a){if(a.to&&(a.to=v(a.to)),a.data&&a.input)throw Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!a.data&&a.input&&(a.data=a.input,delete a.input),a.data&&!a.data.startsWith("0x")&&(a.data="0x"+a.data),a.data&&!d.isHex(a.data))throw Error("The data field must be HEX encoded data.");return(a.gas||a.gasLimit)&&(a.gas=a.gas||a.gasLimit),(a.maxPriorityFeePerGas||a.maxFeePerGas)&&delete a.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(b){return void 0!==a[b]}).forEach(function(b){a[b]=d.numberToHex(a[b])}),a},l=function(a){var b=(a=k(a)).from||(this?this.defaultAccount:null);return b&&(a.from=v(b)),a},m=function(a){if("number"!=typeof(a=k(a)).from&&!(a.from&&"object"==typeof a.from)){if(a.from=a.from||(this?this.defaultAccount:null),!a.from&&"number"!=typeof a.from)throw Error('The send transactions "from" field must be defined!');a.from=v(a.from)}return a},n=function(a){return d.isHexStrict(a)?a:d.utf8ToHex(a)},o=function(a){return null!==a.blockNumber&&(a.blockNumber=d.hexToNumber(a.blockNumber)),null!==a.transactionIndex&&(a.transactionIndex=d.hexToNumber(a.transactionIndex)),a.nonce=d.hexToNumber(a.nonce),a.gas=d.hexToNumber(a.gas),a.gasPrice&&(a.gasPrice=h(a.gasPrice)),a.maxFeePerGas&&(a.maxFeePerGas=h(a.maxFeePerGas)),a.maxPriorityFeePerGas&&(a.maxPriorityFeePerGas=h(a.maxPriorityFeePerGas)),a.type&&(a.type=d.hexToNumber(a.type)),a.value=h(a.value),a.to&&d.isAddress(a.to)?a.to=d.toChecksumAddress(a.to):a.to=null,a.from&&(a.from=d.toChecksumAddress(a.from)),a},p=function(a){if("object"!=typeof a)throw Error("Received receipt is invalid: "+a);return!this.hexFormat&&(null!==a.blockNumber&&(a.blockNumber=d.hexToNumber(a.blockNumber)),null!==a.transactionIndex&&(a.transactionIndex=d.hexToNumber(a.transactionIndex)),a.cumulativeGasUsed=d.hexToNumber(a.cumulativeGasUsed),a.gasUsed=d.hexToNumber(a.gasUsed),a.effectiveGasPrice&&(a.effectiveGasPrice=d.hexToNumber(a.effectiveGasPrice))),Array.isArray(a.logs)&&(a.logs=a.logs.map(s)),a.contractAddress&&(a.contractAddress=d.toChecksumAddress(a.contractAddress)),void 0!==a.status&&null!==a.status&&(a.status=Boolean(parseInt(a.status))),a},q=function(a){return a.gasLimit=d.hexToNumber(a.gasLimit),a.gasUsed=d.hexToNumber(a.gasUsed),a.size=d.hexToNumber(a.size),a.timestamp=d.hexToNumber(a.timestamp),null!==a.number&&(a.number=d.hexToNumber(a.number)),a.difficulty&&(a.difficulty=h(a.difficulty)),a.totalDifficulty&&(a.totalDifficulty=h(a.totalDifficulty)),Array.isArray(a.transactions)&&a.transactions.forEach(function(a){if("string"!=typeof a)return o(a)}),a.miner&&(a.miner=d.toChecksumAddress(a.miner)),a.baseFeePerGas&&(a.baseFeePerGas=d.hexToNumber(a.baseFeePerGas)),a},r=function(a){var b=function(a){return null==a?null:0===(a=String(a)).indexOf("0x")?a:d.fromUtf8(a)};return void 0===a&&(a={}),void 0===a.fromBlock&&(a={...a,fromBlock:"latest"}),(a.fromBlock||0===a.fromBlock)&&(a.fromBlock=j(a.fromBlock)),(a.toBlock||0===a.toBlock)&&(a.toBlock=j(a.toBlock)),a.topics=a.topics||[],a.topics=a.topics.map(function(a){return Array.isArray(a)?a.map(b):b(a)}),b=null,a.address&&(a.address=Array.isArray(a.address)?a.address.map(function(a){return v(a)}):v(a.address)),a},s=function(a){if("string"==typeof a.blockHash&&"string"==typeof a.transactionHash&&"string"==typeof a.logIndex){var b=d.sha3(a.blockHash.replace("0x","")+a.transactionHash.replace("0x","")+a.logIndex.replace("0x",""));a.id="log_"+b.replace("0x","").slice(0,8)}else a.id||(a.id=null);return null!==a.blockNumber&&(a.blockNumber=d.hexToNumber(a.blockNumber)),null!==a.transactionIndex&&(a.transactionIndex=d.hexToNumber(a.transactionIndex)),null!==a.logIndex&&(a.logIndex=d.hexToNumber(a.logIndex)),a.address&&(a.address=d.toChecksumAddress(a.address)),a},t=function(a){return a.ttl&&(a.ttl=d.numberToHex(a.ttl)),a.workToProve&&(a.workToProve=d.numberToHex(a.workToProve)),a.priority&&(a.priority=d.numberToHex(a.priority)),Array.isArray(a.topics)||(a.topics=a.topics?[a.topics]:[]),a.topics=a.topics.map(function(a){return 0===a.indexOf("0x")?a:d.fromUtf8(a)}),a},u=function(a){return a.expiry=d.hexToNumber(a.expiry),a.sent=d.hexToNumber(a.sent),a.ttl=d.hexToNumber(a.ttl),a.workProved=d.hexToNumber(a.workProved),a.topics||(a.topics=[]),a.topics=a.topics.map(function(a){return d.toUtf8(a)}),a},v=function(a){var b=new e(a);if(b.isValid()&&b.isDirect())return b.toAddress().toLowerCase();if(d.isAddress(a))return"0x"+a.toLowerCase().replace("0x","");throw Error(`Provided address ${a} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},w=function(a){return a.startingBlock=d.hexToNumber(a.startingBlock),a.currentBlock=d.hexToNumber(a.currentBlock),a.highestBlock=d.hexToNumber(a.highestBlock),a.knownStates&&(a.knownStates=d.hexToNumber(a.knownStates),a.pulledStates=d.hexToNumber(a.pulledStates)),a};a.exports={inputDefaultBlockNumberFormatter:i,inputBlockNumberFormatter:j,inputCallFormatter:l,inputTransactionFormatter:m,inputAddressFormatter:v,inputPostFormatter:t,inputLogFormatter:r,inputSignFormatter:n,inputStorageKeysFormatter:f,outputProofFormatter:g,outputBigNumberFormatter:h,outputTransactionFormatter:o,outputTransactionReceiptFormatter:p,outputBlockFormatter:q,outputLogFormatter:s,outputPostFormatter:u,outputSyncingFormatter:w}},84390:function(a,b,c){"use strict";var d=c(54928),e=c(76267);a.exports={errors:d,formatters:e}},93952:function(a,b,c){"use strict";var d=c(84390).errors,e=c(84390).formatters,f=c(18269),g=c(4017),h=c(96602).subscriptions,i=c(98233),j=function(a){if(!a.call||!a.name)throw Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=a.name,this.call=a.call,this.params=a.params||0,this.inputFormatter=a.inputFormatter,this.outputFormatter=a.outputFormatter,this.transformPayload=a.transformPayload,this.extraFormatters=a.extraFormatters,this.abiCoder=a.abiCoder,this.requestManager=a.requestManager,this.accounts=a.accounts,this.defaultBlock=a.defaultBlock||"latest",this.defaultAccount=a.defaultAccount||null,this.transactionBlockTimeout=a.transactionBlockTimeout||50,this.transactionConfirmationBlocks=a.transactionConfirmationBlocks||24,this.transactionPollingTimeout=a.transactionPollingTimeout||750,this.transactionPollingInterval=a.transactionPollingInterval||1e3,this.blockHeaderTimeout=a.blockHeaderTimeout||10,this.defaultCommon=a.defaultCommon,this.defaultChain=a.defaultChain,this.defaultHardfork=a.defaultHardfork,this.handleRevert=a.handleRevert};j.prototype.setRequestManager=function(a,b){this.requestManager=a,b&&(this.accounts=b)},j.prototype.createFunction=function(a,b){var c=this.buildCall();return Object.defineProperty(c,"call",{configurable:!0,writable:!0,value:this.call}),this.setRequestManager(a||this.requestManager,b||this.accounts),c},j.prototype.attachToObject=function(a){var b=this.buildCall();Object.defineProperty(b,"call",{configurable:!0,writable:!0,value:this.call});var c=this.name.split(".");c.length>1?(a[c[0]]=a[c[0]]||{},a[c[0]][c[1]]=b):a[c[0]]=b},j.prototype.getCall=function(a){return"function"==typeof this.call?this.call(a):this.call},j.prototype.extractCallback=function(a){if("function"==typeof a[a.length-1])return a.pop()},j.prototype.validateArgs=function(a){if(a.length!==this.params)throw d.InvalidNumberOfParams(a.length,this.params,this.name)},j.prototype.formatInput=function(a){var b=this;return this.inputFormatter?this.inputFormatter.map(function(c,d){return c?c.call(b,a[d]):a[d]}):a},j.prototype.formatOutput=function(a){var b=this;return Array.isArray(a)?a.map(function(a){return b.outputFormatter&&a?b.outputFormatter(a):a}):this.outputFormatter&&a?this.outputFormatter(a):a},j.prototype.toPayload=function(a){var b=this.getCall(a),c=this.extractCallback(a),d=this.formatInput(a);this.validateArgs(d);var e={method:b,params:d,callback:c};return this.transformPayload&&(e=this.transformPayload(e)),e},j.prototype._confirmTransaction=function(a,b,c){var k=this,l=!1,m=!0,n=0,o=0,p=null,q=null,r=null,s="",t=c.params[0]&&"object"==typeof c.params[0]&&c.params[0].gas?c.params[0].gas:null,u=!!c.params[0]&&"object"==typeof c.params[0]&&c.params[0].data&&c.params[0].from&&!c.params[0].to,v=u&&c.params[0].data.length>2,w=[new j({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[e.inputBlockNumberFormatter,function(a){return!!a}],outputFormatter:e.outputBlockFormatter}),new j({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:e.outputTransactionReceiptFormatter}),new j({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[e.inputAddressFormatter,e.inputDefaultBlockNumberFormatter]}),new j({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:e.outputTransactionFormatter}),new h({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:e.outputBlockFormatter}}})],x={};w.forEach(a=>{a.attachToObject(x),a.requestManager=k.requestManager});var y=function(h,j,w,y,z){if(!w)return z||(z={unsubscribe:function(){clearInterval(p),clearTimeout(q)}}),(h?g.resolve(h):x.getTransactionReceipt(b)).catch(function(b){z.unsubscribe(),l=!0,f._fireError({message:"Failed to check for transaction receipt:",data:b},a.eventEmitter,a.reject)}).then(async function(b){if(!b||!b.blockHash)throw Error("Receipt missing or blockHash null");if(k.extraFormatters&&k.extraFormatters.receiptFormatter&&(b=k.extraFormatters.receiptFormatter(b)),a.eventEmitter.listeners("confirmation").length>0){var c;if(void 0===h||0!==o){var d=await x.getBlockByNumber("latest"),e=d?d.hash:null;j?r?(c=await x.getBlockByNumber(r.number+1))&&(r=c,a.eventEmitter.emit("confirmation",o,b,e)):(r=c=await x.getBlockByNumber(b.blockNumber),a.eventEmitter.emit("confirmation",o,b,e)):a.eventEmitter.emit("confirmation",o,b,e)}(j&&c||!j)&&o++,m=!1,o===k.transactionConfirmationBlocks+1&&(z.unsubscribe(),a.eventEmitter.removeAllListeners())}return b}).then(async function(b){if(u&&!l){var c;if(!b.contractAddress){m&&(z.unsubscribe(),l=!0),f._fireError(d.NoContractAddressFoundError(b),a.eventEmitter,a.reject,null,b);return}try{c=await x.getCode(b.contractAddress)}catch(e){}if(!c)return;!0===b.status&&v||c.length>2?(a.eventEmitter.emit("receipt",b),k.extraFormatters&&k.extraFormatters.contractDeployFormatter?a.resolve(k.extraFormatters.contractDeployFormatter(b)):a.resolve(b),m&&a.eventEmitter.removeAllListeners()):f._fireError(d.ContractCodeNotStoredError(b),a.eventEmitter,a.reject,null,b),m&&z.unsubscribe(),l=!0}return b}).then(async function(b){if(!u&&!l){if(b.outOfGas||t&&t===b.gasUsed|| !0!==b.status&&"0x1"!==b.status&& void 0!==b.status){if(s=JSON.stringify(b,null,2),!1===b.status||"0x0"===b.status)try{var g=null;if(k.handleRevert&&("eth_sendTransaction"===k.call||"eth_sendRawTransaction"===k.call)){var h=c.params[0];if("eth_sendRawTransaction"===k.call){var j=c.params[0],n=i.parse(j);h=e.inputTransactionFormatter({data:n.data,to:n.to,from:n.from,gas:n.gasLimit.toHexString(),gasPrice:n.gasPrice?n.gasPrice.toHexString():void 0,value:n.value.toHexString()})}if(g=await k.getRevertReason(h,b.blockNumber))f._fireError(d.TransactionRevertInstructionError(g.reason,g.signature,b),a.eventEmitter,a.reject,null,b);else throw!1}else throw!1}catch(o){f._fireError(d.TransactionRevertedWithoutReasonError(b),a.eventEmitter,a.reject,null,b)}else f._fireError(d.TransactionOutOfGasError(b),a.eventEmitter,a.reject,null,b)}else a.eventEmitter.emit("receipt",b),a.resolve(b),m&&a.eventEmitter.removeAllListeners();m&&z.unsubscribe(),l=!0}}).catch(function(){n++,j?n-1>=k.transactionPollingTimeout&&(z.unsubscribe(),l=!0,f._fireError(d.TransactionError("Transaction was not mined within "+k.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),a.eventEmitter,a.reject)):n-1>=k.transactionBlockTimeout&&(z.unsubscribe(),l=!0,f._fireError(d.TransactionError("Transaction was not mined within "+k.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),a.eventEmitter,a.reject))});z.unsubscribe(),l=!0,f._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:w},a.eventEmitter,a.reject)},z=(function(a){let b=!1,c=()=>{p=setInterval(y.bind(null,a,!0),k.transactionPollingInterval)};if(!this.requestManager.provider.on)return c();x.subscribe("newBlockHeaders",function(d,e,f){if(b=!0,d||!e)return c();y(a,!1,d,e,f)}),q=setTimeout(()=>{b||c()},1e3*this.blockHeaderTimeout)}).bind(this);x.getTransactionReceipt(b).then(function(b){b&&b.blockHash?(a.eventEmitter.listeners("confirmation").length>0&&z(b),y(b,!1)):l||z()}).catch(function(){l||z()})};var k=function(a,b){var c=null;return"number"==typeof a?b.wallet[a]:a&&"object"==typeof a&&a.address&&a.privateKey?a:b.wallet[a.toLowerCase()]};j.prototype.buildCall=function(){var a=this,b="eth_sendTransaction"===a.call||"eth_sendRawTransaction"===a.call,c="eth_call"===a.call,e=function(){let e=Array.prototype.slice.call(arguments);var h=g(!b),i=a.toPayload(e);a.hexFormat=!1,"eth_getTransactionReceipt"===a.call&&(a.hexFormat=i.params.length<e.length&&"hex"===e[e.length-1]);var l,m,n=function(e,g){if(a.handleRevert&&c&&a.abiCoder){var j;if(!e&&a.isRevertReasonString(g)?j=g.substring(10):e&&e.data&&(j=e.data.substring(10)),j){var k=a.abiCoder.decodeParameter("string","0x"+j),l="Error(String)";f._fireError(d.RevertInstructionError(k,l),h.eventEmitter,h.reject,i.callback,{reason:k,signature:l});return}}try{g=a.formatOutput(g)}catch(m){e=m}if(g instanceof Error&&(e=g),e)return e.error&&(e=e.error),f._fireError(e,h.eventEmitter,h.reject,i.callback);i.callback&&i.callback(null,g),b?(h.eventEmitter.emit("transactionHash",g),a._confirmTransaction(h,g,i)):e||h.resolve(g)},o=function(b){var c={...i,method:"eth_sendRawTransaction",params:[b.rawTransaction]};a.requestManager.send(c,n)},p=function(a,b){if(b&&b.accounts&&b.accounts.wallet&&b.accounts.wallet.length){var c;if("eth_sendTransaction"===a.method){var d=a.params[0];if((c=k(d&&"object"==typeof d?d.from:null,b.accounts))&&c.privateKey){var d=JSON.parse(JSON.stringify(d));delete d.from,b.defaultChain&&!d.chain&&(d.chain=b.defaultChain),b.defaultHardfork&&!d.hardfork&&(d.hardfork=b.defaultHardfork),b.defaultCommon&&!d.common&&(d.common=b.defaultCommon),b.accounts.signTransaction(d,c.privateKey).then(o).catch(function(a){if("function"==typeof h.eventEmitter.listeners&&h.eventEmitter.listeners("error").length){try{h.eventEmitter.emit("error",a)}catch(b){}h.eventEmitter.removeAllListeners(),h.eventEmitter.catch(function(){})}h.reject(a)});return}}else if("eth_sign"===a.method){var e=a.params[1];if((c=k(a.params[0],b.accounts))&&c.privateKey){var f=b.accounts.sign(e,c.privateKey);a.callback&&a.callback(null,f.signature),h.resolve(f.signature);return}}}return b.requestManager.send(a,n)};return b&&i.params[0]&&"object"==typeof i.params[0]&& void 0===i.params[0].gasPrice&&(void 0===i.params[0].maxPriorityFeePerGas|| void 0===i.params[0].maxFeePerGas)?(l=a,m=i.params[0],new Promise((a,b)=>{try{var c=new j({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(a){return a?f.toHex(a):"latest"},function(){return!1}]}).createFunction(l.requestManager),d=new j({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(l.requestManager);Promise.all([c(),d()]).then(b=>{let[c,d]=b;if(("0x2"===m.type|| void 0===m.type)&&c&&c.baseFeePerGas){let e,g;m.gasPrice?(e=m.gasPrice,g=m.gasPrice,delete m.gasPrice):(e=m.maxPriorityFeePerGas||"0x9502F900",g=m.maxFeePerGas||f.toHex(f.toBN(c.baseFeePerGas).mul(f.toBN(2)).add(f.toBN(e)))),a({maxFeePerGas:g,maxPriorityFeePerGas:e})}else{if(m.maxPriorityFeePerGas||m.maxFeePerGas)throw Error("Network doesn't support eip-1559");a({gasPrice:d})}})}catch(e){b(e)}})).then(c=>{void 0!==c.gasPrice?i.params[0].gasPrice=c.gasPrice:void 0!==c.maxPriorityFeePerGas&& void 0!==c.maxFeePerGas&&(i.params[0].maxPriorityFeePerGas=c.maxPriorityFeePerGas,i.params[0].maxFeePerGas=c.maxFeePerGas),b&&setTimeout(()=>{h.eventEmitter.emit("sending",i)},0),p(i,a)}):(b&&setTimeout(()=>{h.eventEmitter.emit("sending",i)},0),p(i,a)),b&&setTimeout(()=>{h.eventEmitter.emit("sent",i)},0),h.eventEmitter};return e.method=a,e.request=this.request.bind(this),e},j.prototype.getRevertReason=function(a,b){var c=this;return new Promise(function(d,e){new j({name:"call",call:"eth_call",params:2,abiCoder:c.abiCoder,handleRevert:!0}).createFunction(c.requestManager)(a,f.numberToHex(b)).then(function(){d(!1)}).catch(function(a){a.reason?d({reason:a.reason,signature:a.signature}):e(a)})})},j.prototype.isRevertReasonString=function(a){return"string"==typeof a&&(a.length-2)/2%32==4&&"0x08c379a0"===a.substring(0,10)},j.prototype.request=function(){var a=this.toPayload(Array.prototype.slice.call(arguments));return a.format=this.formatOutput.bind(this),a},a.exports=j},4017:function(a,b,c){"use strict";var d=c(26729),e=function(a){var b,c,e=new Promise(function(){b=arguments[0],c=arguments[1]});if(a)return{resolve:b,reject:c,eventEmitter:e};var f=new d;return e._events=f._events,e.emit=f.emit,e.on=f.on,e.once=f.once,e.off=f.off,e.listeners=f.listeners,e.addListener=f.addListener,e.removeListener=f.removeListener,e.removeAllListeners=f.removeAllListeners,{resolve:b,reject:c,eventEmitter:e}};e.resolve=function(a){var b=e(!0);return b.resolve(a),b.eventEmitter},a.exports=e},98991:function(a,b,c){"use strict";var d=c(28911),e=c(84390).errors,f=function(a){this.requestManager=a,this.requests=[]};f.prototype.add=function(a){this.requests.push(a)},f.prototype.execute=function(){var a=this.requests,b=this._sortResponses.bind(this);this.requestManager.sendBatch(a,function(c,f){f=b(f),a.map(function(a,b){return f[b]||{}}).forEach(function(b,c){if(a[c].callback){if(b&&b.error)return a[c].callback(e.ErrorResponse(b));if(!d.isValidResponse(b))return a[c].callback(e.InvalidResponse(b));try{a[c].callback(null,a[c].format?a[c].format(b.result):b.result)}catch(f){a[c].callback(f)}}})})},f.prototype._sortResponses=function(a){return(a||[]).sort((a,b)=>a.id-b.id)},a.exports=f},72319:function(a){"use strict";var b=null,c="object"==typeof globalThis?globalThis:void 0;if(!c)try{c=Function("return this")()}catch(d){c=self}void 0!==c.ethereum?b=c.ethereum:void 0!==c.web3&&c.web3.currentProvider&&(c.web3.currentProvider.sendAsync&&(c.web3.currentProvider.send=c.web3.currentProvider.sendAsync,delete c.web3.currentProvider.sendAsync),!c.web3.currentProvider.on&&c.web3.currentProvider.connection&&"ipcProviderWrapper"===c.web3.currentProvider.connection.constructor.name&&(c.web3.currentProvider.on=function(a,b){if("function"!=typeof b)throw Error("The second parameter callback must be a function.");"data"===a?this.connection.on("data",function(a){var c="";a=a.toString();try{c=JSON.parse(a)}catch(d){return b(Error("Couldn't parse response data"+a))}c.id|| -1===c.method.indexOf("_subscription")||b(null,c)}):this.connection.on(a,b)}),b=c.web3.currentProvider),a.exports=b},24983:function(a,b,c){"use strict";let{callbackify:d}=c(89539);var e=c(84390).errors,f=c(28911),g=c(98991),h=c(72319),i=function a(b,c){this.provider=null,this.providers=a.providers,this.setProvider(b,c),this.subscriptions=new Map};i.givenProvider=h,i.providers={WebsocketProvider:c(69556),HttpProvider:c(34351),IpcProvider:c(73097)},i.prototype.setProvider=function(a,b){var c=this;if(a&&"string"==typeof a&&this.providers){if(/^http(s)?:\/\//i.test(a))a=new this.providers.HttpProvider(a);else if(/^ws(s)?:\/\//i.test(a))a=new this.providers.WebsocketProvider(a);else if(a&&"object"==typeof b&&"function"==typeof b.connect)a=new this.providers.IpcProvider(a,b);else if(a)throw Error("Can't autodetect provider for \""+a+'"')}if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=a||null,this.provider&&this.provider.on){"function"==typeof a.request?this.provider.on("message",function(a){if(a&&"eth_subscription"===a.type&&a.data){let b=a.data;b.subscription&&c.subscriptions.has(b.subscription)&&c.subscriptions.get(b.subscription).callback(null,b.result)}}):this.provider.on("data",function(a,b){(a=a||b).method&&a.params&&a.params.subscription&&c.subscriptions.has(a.params.subscription)&&c.subscriptions.get(a.params.subscription).callback(null,a.params.result)}),this.provider.on("connect",function(){c.subscriptions.forEach(function(a){a.subscription.resubscribe()})}),this.provider.on("error",function a(a){c.subscriptions.forEach(function(b){b.callback(a)})});let d=function(a){(!c._isCleanCloseEvent(a)||c._isIpcCloseError(a))&&(c.subscriptions.forEach(function(b){b.callback(e.ConnectionCloseError(a)),c.subscriptions.delete(b.subscription.id)}),c.provider&&c.provider.emit&&c.provider.emit("error",e.ConnectionCloseError(a))),c.provider&&c.provider.emit&&c.provider.emit("end",a)};this.provider.on("disconnect",d)}},i.prototype.send=function(a,b){if(b=b||function(){},!this.provider)return b(e.InvalidProvider());let{method:c,params:g}=a,h=f.toPayload(c,g),i=this._jsonrpcResultCallback(b,h);if(this.provider.request){let j=d(this.provider.request.bind(this.provider)),k={method:c,params:g};j(k,b)}else if(this.provider.sendAsync)this.provider.sendAsync(h,i);else if(this.provider.send)this.provider.send(h,i);else throw Error("Provider does not have a request or send method to use.")},i.prototype.sendBatch=function(a,b){if(!this.provider)return b(e.InvalidProvider());var c=f.toBatchPayload(a);this.provider[this.provider.sendAsync?"sendAsync":"send"](c,function(a,c){return a?b(a):Array.isArray(c)?void b(null,c):b(e.InvalidResponse(c))})},i.prototype.addSubscription=function(a,b){if(this.provider.on)this.subscriptions.set(a.id,{callback:b,subscription:a});else throw Error("The provider doesn't support subscriptions: "+this.provider.constructor.name)},i.prototype.removeSubscription=function(a,b){if(this.subscriptions.has(a)){var c=this.subscriptions.get(a).subscription.options.type;this.subscriptions.delete(a),this.send({method:c+"_unsubscribe",params:[a]},b);return}"function"==typeof b&&b(null)},i.prototype.clearSubscriptions=function(a){try{var b=this;return this.subscriptions.size>0&&this.subscriptions.forEach(function(c,d){a&&"syncing"===c.name||b.removeSubscription(d)}),this.provider.reset&&this.provider.reset(),!0}catch(c){throw Error(`Error while clearing subscriptions: ${c}`)}},i.prototype._isCleanCloseEvent=function(a){return"object"==typeof a&&([1e3].includes(a.code)|| !0===a.wasClean)},i.prototype._isIpcCloseError=function(a){return"boolean"==typeof a&&a},i.prototype._jsonrpcResultCallback=function(a,b){return function(c,d){return d&&d.id&&b.id!==d.id?a(Error(`Wrong response id ${d.id} (expected: ${b.id}) in ${JSON.stringify(b)}`)):c?a(c):d&&d.error?a(e.ErrorResponse(d)):f.isValidResponse(d)?void a(null,d.result):a(e.InvalidResponse(d))}},a.exports={Manager:i,BatchManager:g}},28911:function(a){"use strict";var b={messageId:0};b.toPayload=function(a,c){if(!a)throw Error('JSONRPC method should be specified for params: "'+JSON.stringify(c)+'"!');return b.messageId++,{jsonrpc:"2.0",id:b.messageId,method:a,params:c||[]}},b.isValidResponse=function(a){return Array.isArray(a)?a.every(b):b(a);function b(a){return!!a&&!a.error&&"2.0"===a.jsonrpc&&("number"==typeof a.id||"string"==typeof a.id)&& void 0!==a.result}},b.toBatchPayload=function(a){return a.map(function(a){return b.toPayload(a.method,a.params)})},a.exports=b},96602:function(a,b,c){"use strict";var d=c(45826),e=function(a){this.name=a.name,this.type=a.type,this.subscriptions=a.subscriptions||{},this.requestManager=null};e.prototype.setRequestManager=function(a){this.requestManager=a},e.prototype.attachToObject=function(a){var b=this.buildCall(),c=this.name.split(".");c.length>1?(a[c[0]]=a[c[0]]||{},a[c[0]][c[1]]=b):a[c[0]]=b},e.prototype.buildCall=function(){var a=this;return function(){a.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var b=new d({subscription:a.subscriptions[arguments[0]]||{},requestManager:a.requestManager,type:a.type});return b.subscribe.apply(b,arguments)}},a.exports={subscriptions:e,subscription:d}},45826:function(a,b,c){"use strict";var d=c(84390).errors,e=c(26729),f=c(84390).formatters;function g(a){return a}function h(a){e.call(this),this.id=null,this.callback=g,this.arguments=null,this.lastBlock=null,this.options={subscription:a.subscription,type:a.type,requestManager:a.requestManager}}h.prototype=Object.create(e.prototype),h.prototype.constructor=h,h.prototype._extractCallback=function(a){if("function"==typeof a[a.length-1])return a.pop()},h.prototype._validateArgs=function(a){var b=this.options.subscription;if(b||(b={}),b.params||(b.params=0),a.length!==b.params)throw d.InvalidNumberOfParams(a.length,b.params,b.subscriptionName)},h.prototype._formatInput=function(a){var b=this.options.subscription;return b&&b.inputFormatter?b.inputFormatter.map(function(b,c){return b?b(a[c]):a[c]}):a},h.prototype._formatOutput=function(a){var b=this.options.subscription;return b&&b.outputFormatter&&a?b.outputFormatter(a):a},h.prototype._toPayload=function(a){var b=[];if(this.callback=this._extractCallback(a)||g,!this.subscriptionMethod&&(this.subscriptionMethod=a.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(a),this._validateArgs(this.arguments),a=[]),b.push(this.subscriptionMethod),b=b.concat(this.arguments),a.length)throw Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:b}},h.prototype.unsubscribe=function(a){this.options.requestManager.removeSubscription(this.id,a),this.id=null,this.lastBlock=null,this.removeAllListeners()},h.prototype.subscribe=function(){var a=this,b=Array.prototype.slice.call(arguments),c=this._toPayload(b);if(!c)return this;if(!this.options.requestManager.provider)return setTimeout(function(){var b=Error("No provider set.");a.callback(b,null,a),a.emit("error",b)},0),this;if(!this.options.requestManager.provider.on)return setTimeout(function(){var b=Error("The current provider doesn't support subscriptions: "+a.options.requestManager.provider.constructor.name);a.callback(b,null,a),a.emit("error",b)},0),this;if(this.lastBlock&&this.options.params&&"object"==typeof this.options.params&&(c.params[1]=this.options.params,c.params[1].fromBlock=f.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=c.params[1],"logs"===c.params[0]&&c.params[1]&&"object"==typeof c.params[1]&&c.params[1].hasOwnProperty("fromBlock")&&isFinite(c.params[1].fromBlock)){var d=Object.assign({},c.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[d]},function(b,c){b?setTimeout(function(){a.callback(b,null,a),a.emit("error",b)},0):c.forEach(function(b){var c=a._formatOutput(b);a.callback(null,c,a),a.emit("data",c)})})}return"object"==typeof c.params[1]&&delete c.params[1].fromBlock,this.options.requestManager.send(c,function(b,d){!b&&d?(a.id=d,a.method=c.params[0],a.options.requestManager.addSubscription(a,function(b,c){b?(a.callback(b,!1,a),a.emit("error",b)):(Array.isArray(c)||(c=[c]),c.forEach(function(b){var c=a._formatOutput(b);if(a.lastBlock=c&&"object"==typeof c?c.blockNumber:null,"function"==typeof a.options.subscription.subscriptionHandler)return a.options.subscription.subscriptionHandler.call(a,c);a.emit("data",c),a.callback(null,c,a)}))}),a.emit("connected",d)):setTimeout(function(){a.callback(b,!1,a),a.emit("error",b)},0)}),this},h.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)},a.exports=h},37327:function(a,b,c){"use strict";var d=c(84390).formatters,e=c(93952),f=c(18269),g=function(a){var b=function(b){var c;return b.property?(a[b.property]||(a[b.property]={}),c=a[b.property]):c=a,b.methods&&b.methods.forEach(function(b){b instanceof e||(b=new e(b)),b.attachToObject(c),b.setRequestManager(a._requestManager)}),a};return b.formatters=d,b.utils=f,b.Method=e,b};a.exports=g},92928:function(a,b,c){let d=c(24983),e=c(37327),f=(a,b)=>{if(b=Array.prototype.slice.call(b),!a)throw Error('You need to instantiate using the "new" keyword.');Object.defineProperty(a,"currentProvider",{get:()=>a._provider,set:b=>a.setProvider(b),enumerable:!0,configurable:!0}),b[0]&&b[0]._requestManager?a._requestManager=b[0]._requestManager:a._requestManager=new d.Manager(b[0],b[1]),a.givenProvider=d.Manager.givenProvider,a.providers=d.Manager.providers,a._provider=a._requestManager.provider,a.setProvider||(a.setProvider=(b,c)=>(a._requestManager.setProvider(b,c),a._provider=a._requestManager.provider,!0)),a.setRequestManager=b=>{a._requestManager=b,a._provider=b.provider},a.BatchRequest=d.BatchManager.bind(null,a._requestManager),a.extend=e(a)},g=a=>{a.givenProvider=d.Manager.givenProvider,a.providers=d.Manager.providers};a.exports={packageInit:f,addProviders:g}},93338:function(a,b,c){var d=c(48764).Buffer,e=c(18269),f=c(55189).RQ,g=c(55189)._R,h=new f(function(a,b){return!a.match(/^u?int/)||Array.isArray(b)||b&&"object"==typeof b&&"BN"===b.constructor.name?b:b.toString()});function i(){}var j=function(){};j.prototype.encodeFunctionSignature=function(a){return("function"==typeof a||"object"==typeof a&&a)&&(a=e._jsonInterfaceMethodToString(a)),e.sha3(a).slice(0,10)},j.prototype.encodeEventSignature=function(a){return("function"==typeof a||"object"==typeof a&&a)&&(a=e._jsonInterfaceMethodToString(a)),e.sha3(a)},j.prototype.encodeParameter=function(a,b){return this.encodeParameters([a],[b])},j.prototype.encodeParameters=function(a,b){var c=this;return a=c.mapTypes(a),b=b.map(function(b,d){let e=a[d];if("object"==typeof e&&e.type&&(e=e.type),b=c.formatParam(e,b),"string"==typeof e&&e.includes("tuple")){let f=h._getCoder(g.from(e)),i=(a,b)=>{if("array"===a.name){if(!a.type.match(/\[(\d+)\]/))return b.map(b=>i(h._getCoder(g.from(a.type.replace("[]",""))),b));let d=parseInt(a.type.match(/\[(\d+)\]/)[1]);if(b.length!==d)throw Error("Array length does not matches with the given input");return b.map(b=>i(h._getCoder(g.from(a.type.replace(/\[\d+\]/,""))),b))}a.coders.forEach((a,d)=>{"tuple"===a.name?i(a,b[d]):b[d]=c.formatParam(a.name,b[d])})};i(f,b)}return b}),h.encode(a,b)},j.prototype.mapTypes=function(a){var b=this,c=[];return a.forEach(function(a){if("object"==typeof a&&"function"===a.type&&(a=Object.assign({},a,{type:"bytes24"})),b.isSimplifiedStructFormat(a)){var d=Object.keys(a)[0];c.push(Object.assign(b.mapStructNameAndType(d),{components:b.mapStructToCoderFormat(a[d])}));return}c.push(a)}),c},j.prototype.isSimplifiedStructFormat=function(a){return"object"==typeof a&& void 0===a.components&& void 0===a.name},j.prototype.mapStructNameAndType=function(a){var b="tuple";return a.indexOf("[]")> -1&&(b="tuple[]",a=a.slice(0,-2)),{type:b,name:a}},j.prototype.mapStructToCoderFormat=function(a){var b=this,c=[];return Object.keys(a).forEach(function(d){if("object"==typeof a[d]){c.push(Object.assign(b.mapStructNameAndType(d),{components:b.mapStructToCoderFormat(a[d])}));return}c.push({name:d,type:a[d]})}),c},j.prototype.formatParam=function(a,b){let c=RegExp(/^bytes([0-9]*)$/),f=RegExp(/^bytes([0-9]*)\[\]$/),g=RegExp(/^(u?int)([0-9]*)$/),h=RegExp(/^(u?int)([0-9]*)\[\]$/);if(e.isBN(b)||e.isBigNumber(b))return b.toString(10);if(a.match(f)||a.match(h))return b.map(b=>this.formatParam(a.replace("[]",""),b));let i=a.match(g);if(i){let j=parseInt(i[2]||"256");j/8<b.length&&(b=e.leftPad(b,j))}if(i=a.match(c)){d.isBuffer(b)&&(b=e.toHex(b));let k=parseInt(i[1]);if(k){let l=2*k;"0x"===b.substring(0,2)&&(l+=2),b.length<l&&(b=e.rightPad(b,2*k))}b.length%2==1&&(b="0x0"+b.substring(2))}return b},j.prototype.encodeFunctionCall=function(a,b){return this.encodeFunctionSignature(a)+this.encodeParameters(a.inputs,b).replace("0x","")},j.prototype.decodeParameter=function(a,b){return this.decodeParameters([a],b)[0]},j.prototype.decodeParameters=function(a,b){return this.decodeParametersWith(a,b,!1)},j.prototype.decodeParametersWith=function(a,b,c){if(a.length>0&&(!b||"0x"===b||"0X"===b))throw Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var d=h.decode(this.mapTypes(a),"0x"+b.replace(/0x/i,""),c),e=new i;return e.__length__=0,a.forEach(function(a,b){var c=d[e.__length__];let f="object"==typeof a&&a.type&&"string"===a.type;c="0x"!==c||f||"string"==typeof a&&"string"===a?c:null,e[b]=c,("function"==typeof a||a&&"object"==typeof a)&&a.name&&(e[a.name]=c),e.__length__++}),e},j.prototype.decodeLog=function(a,b,c){var d=this;c=Array.isArray(c)?c:[c],b=b||"";var e=[],f=[],g=0;a.forEach(function(a,b){a.indexed?(f[b]=["bool","int","uint","address","fixed","ufixed"].find(function(b){return -1!==a.type.indexOf(b)})?d.decodeParameter(a.type,c[g]):c[g],g++):e[b]=a});var h=b,j=h?this.decodeParametersWith(e,h,!0):[],k=new i;return k.__length__=0,a.forEach(function(a,b){k[b]="string"===a.type?"":null,void 0!==j[b]&&(k[b]=j[b]),void 0!==f[b]&&(k[b]=f[b]),a.name&&(k[a.name]=k[b]),k.__length__++}),k};var k=new j;a.exports=k},31692:function(a,b,c){"use strict";var d=c(92928),e=c(93952),f=c(18269),g=c(96602).subscription,h=c(84390).formatters,i=c(84390).errors,j=c(4017),k=c(93338),l=function a(b,c,e){var g=this,j=Array.prototype.slice.call(arguments);if(!(this instanceof a))throw Error('Please use the "new" keyword to instantiate a web3.eth.Contract() object!');if(this.setProvider=function(){d.packageInit(g,arguments),g.clearSubscriptions=g._requestManager.clearSubscriptions},d.packageInit(this,[this.constructor]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!b||!Array.isArray(b))throw i.ContractMissingABIError();this.options={};var l=j[j.length-1];l&&"object"==typeof l&&!Array.isArray(l)&&(e=l,this.options={...this.options,...this._getOrSetDefaultOptions(e)},c&&"object"==typeof c&&(c=null)),Object.defineProperty(this.options,"address",{set:function(a){a&&(g._address=f.toChecksumAddress(h.inputAddressFormatter(a)))},get:function(){return g._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(a){return g.methods={},g.events={},g._jsonInterface=a.map(function(a){var b,c;if(a.constant="view"===a.stateMutability||"pure"===a.stateMutability||a.constant,a.payable="payable"===a.stateMutability||a.payable,a.name&&(c=f._jsonInterfaceMethodToString(a)),"function"===a.type){if(a.signature=k.encodeFunctionSignature(c),b=g._createTxObject.bind({method:a,parent:g}),g.methods[a.name]){var d=g._createTxObject.bind({method:a,parent:g,nextMethod:g.methods[a.name]});g.methods[a.name]=d}else g.methods[a.name]=b;g.methods[a.signature]=b,g.methods[c]=b}else if("event"===a.type){a.signature=k.encodeEventSignature(c);var e=g._on.bind(g,a.signature);g.events[a.name]&&"bound "!==g.events[a.name].name||(g.events[a.name]=e),g.events[a.signature]=e,g.events[c]=e}return a}),g.events.allEvents=g._on.bind(g,"allevents"),g._jsonInterface},get:function(){return g._jsonInterface},enumerable:!0});var m=this.constructor.defaultAccount,n=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return!1===g.options.handleRevert|| !0===g.options.handleRevert?g.options.handleRevert:this.constructor.handleRevert},set:function(a){g.options.handleRevert=a},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return g.options.common||this.constructor.defaultCommon},set:function(a){g.options.common=a},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return g.options.hardfork||this.constructor.defaultHardfork},set:function(a){g.options.hardfork=a},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return g.options.chain||this.constructor.defaultChain},set:function(a){g.options.chain=a},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return 0===g.options.transactionPollingTimeout?g.options.transactionPollingTimeout:g.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(a){g.options.transactionPollingTimeout=a},enumerable:!0}),Object.defineProperty(this,"transactionPollingInterval",{get:function(){return 0===g.options.transactionPollingInterval?g.options.transactionPollingInterval:g.options.transactionPollingInterval||this.constructor.transactionPollingInterval},set:function(a){g.options.transactionPollingInterval=a},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return 0===g.options.transactionConfirmationBlocks?g.options.transactionConfirmationBlocks:g.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(a){g.options.transactionConfirmationBlocks=a},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return 0===g.options.transactionBlockTimeout?g.options.transactionBlockTimeout:g.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(a){g.options.transactionBlockTimeout=a},enumerable:!0}),Object.defineProperty(this,"blockHeaderTimeout",{get:function(){return 0===g.options.blockHeaderTimeout?g.options.blockHeaderTimeout:g.options.blockHeaderTimeout||this.constructor.blockHeaderTimeout},set:function(a){g.options.blockHeaderTimeout=a},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return m},set:function(a){return a&&(m=f.toChecksumAddress(h.inputAddressFormatter(a))),a},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return n},set:function(a){return n=a,a},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=c,this.options.jsonInterface=b};l.setProvider=function(a,b){d.packageInit(this,[a]),this._ethAccounts=b},l.prototype._getCallback=function(a){if(a&&a[a.length-1]&&"function"==typeof a[a.length-1])return a.pop()},l.prototype._checkListener=function(a,b){if(b===a)throw i.ContractReservedEventError(a)},l.prototype._getOrSetDefaultOptions=function(a){var b=a.gasPrice?String(a.gasPrice):null,c=a.from?f.toChecksumAddress(h.inputAddressFormatter(a.from)):null;return a.data=a.data||this.options.data,a.from=c||this.options.from,a.gasPrice=b||this.options.gasPrice,a.gas=a.gas||a.gasLimit||this.options.gas,delete a.gasLimit,a},l.prototype._encodeEventABI=function(a,b){var c=(b=b||{}).filter||{},d={};if(["fromBlock","toBlock"].filter(function(a){return void 0!==b[a]}).forEach(function(a){d[a]=h.inputBlockNumberFormatter(b[a])}),Array.isArray(b.topics))d.topics=b.topics;else{if(d.topics=[],a&&!a.anonymous&&"ALLEVENTS"!==a.name&&d.topics.push(a.signature),"ALLEVENTS"!==a.name){var e=a.inputs.filter(function(a){return!0===a.indexed}).map(function(a){var b=c[a.name];return b?Array.isArray(b)?b.map(function(b){return k.encodeParameter(a.type,b)}):k.encodeParameter(a.type,b):null});d.topics=d.topics.concat(e)}d.topics.length||delete d.topics}return this.options.address&&(d.address=this.options.address.toLowerCase()),d},l.prototype._decodeEventABI=function(a){var b=this;a.data=a.data||"",a.topics=a.topics||[];var c=h.outputLogFormatter(a);if("ALLEVENTS"===b.name&&(b=b.jsonInterface.find(function(b){return b.signature===a.topics[0]})||{anonymous:!0}),b.inputs=b.inputs||[],!b.anonymous){let d=0;b.inputs.forEach(a=>a.indexed?d++:null),d>0&&a.topics.length!==d+1&&(b={anonymous:!0,inputs:[]})}var e=b.anonymous?a.topics:a.topics.slice(1);return c.returnValues=k.decodeLog(b.inputs,a.data,e),delete c.returnValues.__length__,c.event=b.name,c.signature=b.anonymous||!a.topics[0]?null:a.topics[0],c.raw={data:c.data,topics:c.topics},delete c.data,delete c.topics,c},l.prototype._encodeMethodABI=function(){var a=this._method.signature,b=this.arguments||[],c=!1,d=this._parent.options.jsonInterface.filter(function(b){return"constructor"===a&&b.type===a||(b.signature===a||b.signature===a.replace("0x","")||b.name===a)&&"function"===b.type}).map(function(a){var d=Array.isArray(a.inputs)?a.inputs.length:0;if(d!==b.length)throw Error("The number of arguments is not matching the methods required number. You need to pass "+d+" arguments.");return"function"===a.type&&(c=a.signature),Array.isArray(a.inputs)?a.inputs:[]}).map(function(a){return k.encodeParameters(a,b).replace("0x","")})[0]||"";if("constructor"===a){if(!this._deployData)throw Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData.startsWith("0x")||(this._deployData="0x"+this._deployData),this._deployData+d}var e=c?c+d:d;if(!e)throw Error("Couldn't find a matching contract method named \""+this._method.name+'".');return e},l.prototype._decodeMethodReturn=function(a,b){if(!b)return null;b=b.length>=2?b.slice(2):b;var c=k.decodeParameters(a,b);return 1===c.__length__?c[0]:(delete c.__length__,c)},l.prototype.deploy=function(a,b){if((a=a||{}).arguments=a.arguments||[],!(a=this._getOrSetDefaultOptions(a)).data){if("function"==typeof b)return b(i.ContractMissingDeployDataError());throw i.ContractMissingDeployDataError()}var c=this.options.jsonInterface.find(a=>"constructor"===a.type)||{};return c.signature="constructor",this._createTxObject.apply({method:c,parent:this,deployData:a.data,_ethAccounts:this.constructor._ethAccounts},a.arguments)},l.prototype._generateEventOptions=function(){var a=Array.prototype.slice.call(arguments),b=this._getCallback(a),c="object"===(!!a[a.length-1]&&typeof a[a.length-1])?a.pop():{},d="string"==typeof a[0]?a[0]:"allevents",e="allevents"===d.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(a){return"event"===a.type&&(a.name===d||a.signature==="0x"+d.replace("0x",""))});if(!e)throw i.ContractEventDoesNotExistError(d);if(!f.isAddress(this.options.address))throw i.ContractNoAddressDefinedError();return{params:this._encodeEventABI(e,c),event:e,callback:b}},l.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},l.prototype.once=function(a,b,c){var d=Array.prototype.slice.call(arguments);if(!(c=this._getCallback(d)))throw i.ContractOnceRequiresCallbackError();b&&delete b.fromBlock,this._on(a,b,function(a,b,d){d.unsubscribe(),"function"==typeof c&&c(a,b,d)})},l.prototype._on=function(){var a=this._generateEventOptions.apply(this,arguments);a.params&&a.params.toBlock&&(delete a.params.toBlock,console.warn("Invalid option: toBlock. Use getPastEvents for specific range.")),this._checkListener("newListener",a.event.name),this._checkListener("removeListener",a.event.name);var b=new g({subscription:{params:1,inputFormatter:[h.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(a.event),subscriptionHandler:function(a){a.removed?this.emit("changed",a):this.emit("data",a),"function"==typeof this.callback&&this.callback(null,a,this)}},type:"eth",requestManager:this._requestManager});return b.subscribe("logs",a.params,a.callback||function(){}),b},l.prototype.getPastEvents=function(){var a=this._generateEventOptions.apply(this,arguments),b=new e({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[h.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(a.event)});b.setRequestManager(this._requestManager);var c=b.buildCall();return b=null,c(a.params,a.callback)},l.prototype._createTxObject=function(){var a=Array.prototype.slice.call(arguments),b={};if("function"===this.method.type&&(b.call=this.parent._executeMethod.bind(b,"call"),b.call.request=this.parent._executeMethod.bind(b,"call",!0)),b.send=this.parent._executeMethod.bind(b,"send"),b.send.request=this.parent._executeMethod.bind(b,"send",!0),b.encodeABI=this.parent._encodeMethodABI.bind(b),b.estimateGas=this.parent._executeMethod.bind(b,"estimate"),b.createAccessList=this.parent._executeMethod.bind(b,"createAccessList"),a&&this.method.inputs&&a.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,a);throw i.InvalidNumberOfParams(a.length,this.method.inputs.length,this.method.name)}return b.arguments=a||[],b._method=this.method,b._parent=this.parent,b._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(b._deployData=this.deployData),b},l.prototype._processExecuteArguments=function(a,b){var c={};if(c.type=a.shift(),c.callback=this._parent._getCallback(a),"call"===c.type&& !0!==a[a.length-1]&&("string"==typeof a[a.length-1]||isFinite(a[a.length-1]))&&(c.defaultBlock=a.pop()),c.options="object"===(!!a[a.length-1]&&typeof a[a.length-1])?a.pop():{},c.generateRequest=!0===a[a.length-1]&&a.pop(),c.options=this._parent._getOrSetDefaultOptions(c.options),c.options.data=this.encodeABI(),!this._deployData&&!f.isAddress(this._parent.options.address))throw i.ContractNoAddressDefinedError();return(this._deployData||(c.options.to=this._parent.options.address),c.options.data)?c:f._fireError(Error("Couldn't find a matching contract method, or the number of parameters is wrong."),b.eventEmitter,b.reject,c.callback)},l.prototype._executeMethod=function(){var a=this,b=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),c),c=j("send"!==b.type),d=a.constructor._ethAccounts||a._ethAccounts;if(b.generateRequest){var g={params:[h.inputCallFormatter.call(this._parent,b.options)],callback:b.callback};return"call"===b.type?(g.params.push(h.inputDefaultBlockNumberFormatter.call(this._parent,b.defaultBlock)),g.method="eth_call",g.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):g.method="eth_sendTransaction",g}switch(b.type){case"createAccessList":if(!f.isAddress(b.options.from))return f._fireError(i.ContractNoFromAddressDefinedError(),c.eventEmitter,c.reject,b.callback);return new e({name:"createAccessList",call:"eth_createAccessList",params:2,inputFormatter:[h.inputTransactionFormatter,h.inputDefaultBlockNumberFormatter],requestManager:a._parent._requestManager,accounts:d,defaultAccount:a._parent.defaultAccount,defaultBlock:a._parent.defaultBlock}).createFunction()(b.options,b.callback);case"estimate":return new e({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[h.inputCallFormatter],outputFormatter:f.hexToNumber,requestManager:a._parent._requestManager,accounts:d,defaultAccount:a._parent.defaultAccount,defaultBlock:a._parent.defaultBlock}).createFunction()(b.options,b.callback);case"call":return new e({name:"call",call:"eth_call",params:2,inputFormatter:[h.inputCallFormatter,h.inputDefaultBlockNumberFormatter],outputFormatter:function(b){return a._parent._decodeMethodReturn(a._method.outputs,b)},requestManager:a._parent._requestManager,accounts:d,defaultAccount:a._parent.defaultAccount,defaultBlock:a._parent.defaultBlock,handleRevert:a._parent.handleRevert,abiCoder:k}).createFunction()(b.options,b.defaultBlock,b.callback);case"send":if(!f.isAddress(b.options.from))return f._fireError(i.ContractNoFromAddressDefinedError(),c.eventEmitter,c.reject,b.callback);if("boolean"==typeof this._method.payable&&!this._method.payable&&b.options.value&&b.options.value>0)return f._fireError(Error("Can not send value to non-payable contract method or constructor"),c.eventEmitter,c.reject,b.callback);var l={receiptFormatter:function(b){if(Array.isArray(b.logs)){var c=b.logs.map(b=>a._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:a._parent.options.jsonInterface},b));b.events={};var d=0;c.forEach(function(a){a.event?b.events[a.event]?Array.isArray(b.events[a.event])?b.events[a.event].push(a):b.events[a.event]=[b.events[a.event],a]:b.events[a.event]=a:(b.events[d]=a,d++)}),delete b.logs}return b},contractDeployFormatter:function(b){var c=a._parent.clone();return c.options.address=b.contractAddress,c}};return new e({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[h.inputTransactionFormatter],requestManager:a._parent._requestManager,accounts:a.constructor._ethAccounts||a._ethAccounts,defaultAccount:a._parent.defaultAccount,defaultBlock:a._parent.defaultBlock,transactionBlockTimeout:a._parent.transactionBlockTimeout,transactionConfirmationBlocks:a._parent.transactionConfirmationBlocks,transactionPollingTimeout:a._parent.transactionPollingTimeout,transactionPollingInterval:a._parent.transactionPollingInterval,defaultCommon:a._parent.defaultCommon,defaultChain:a._parent.defaultChain,defaultHardfork:a._parent.defaultHardfork,handleRevert:a._parent.handleRevert,extraFormatters:l,abiCoder:k}).createFunction()(b.options,b.callback);default:throw Error('Method "'+b.type+'" not implemented.')}},a.exports=l},34751:function(a,b,c){"use strict";let d=c(18269),e=c(13550),f=function(a,b){let c=a;for(;c.length<2*b;)c="0"+c;return c},g=function(a){return(a=(a=a.toUpperCase()).slice(4)+a.slice(0,4)).split("").map(function(a){let b=a.charCodeAt(0);return b>=65&&b<=90?b-65+10:a}).join("")},h=function(a){let b=a,c;for(;b.length>2;)b=parseInt(c=b.slice(0,9),10)%97+b.slice(c.length);return parseInt(b,10)%97};class i{constructor(a){this._iban=a}static toAddress(a){if(!(a=new i(a)).isDirect())throw Error("IBAN is indirect and can't be converted");return a.toAddress()}static toIban(a){return i.fromAddress(a).toString()}static fromAddress(a){if(!d.isAddress(a))throw Error("Provided address is not a valid address: "+a);a=a.replace("0x","").replace("0X","");let b=new e(a,16),c=b.toString(36),g=f(c,15);return i.fromBban(g.toUpperCase())}static fromBban(a){let b=h(g("XE00"+a)),c=("0"+(98-b)).slice(-2);return new i("XE"+c+a)}static createIndirect(a){return i.fromBban("ETH"+a.institution+a.identifier)}static isValid(a){let b=new i(a);return b.isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===h(g(this._iban))}isDirect(){return 34===this._iban.length||35===this._iban.length}isIndirect(){return 20===this._iban.length}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){let a=this._iban.slice(4),b=new e(a,36);return d.toChecksumAddress(b.toString(16,20))}return""}toString(){return this._iban}}a.exports=i},34351:function(a,b,c){var d=c(84390).errors,e=c(22321),f=c(78428);c(32277),c(82702).polyfill(),c(63367);var g=function(a,b){b=b||{},this.withCredentials=b.withCredentials,this.timeout=b.timeout||0,this.headers=b.headers,this.agent=b.agent,this.connected=!1;let c=!1!==b.keepAlive;this.host=a||"http://localhost:8545",this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new f.Agent({keepAlive:c}):this.httpAgent=new e.Agent({keepAlive:c}))};g.prototype.send=function(a,b){var c,e={method:"POST",body:JSON.stringify(a)},f={};if("undefined"!=typeof AbortController?c=new AbortController:"undefined"!=typeof window&& void 0!==window.AbortController&&(c=new window.AbortController),void 0!==c&&(e.signal=c.signal),"undefined"==typeof XMLHttpRequest){var g={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent};this.agent&&(g.httpsAgent=this.agent.https,g.httpAgent=this.agent.http),"https"===this.host.substring(0,5)?e.agent=g.httpsAgent:e.agent=g.httpAgent}this.headers&&this.headers.forEach(function(a){f[a.name]=a.value}),f["Content-Type"]||(f["Content-Type"]="application/json"),this.withCredentials?e.credentials="include":e.credentials="omit",e.headers=f,this.timeout>0&& void 0!==c&&(this.timeoutId=setTimeout(function(){c.abort()},this.timeout));var h=function(a){void 0!==this.timeoutId&&clearTimeout(this.timeoutId),a.json().then(function(a){b(null,a)}).catch(function(c){b(d.InvalidResponse(a))})},i=function(a){void 0!==this.timeoutId&&clearTimeout(this.timeoutId),"AbortError"===a.name&&b(d.ConnectionTimeout(this.timeout)),b(d.InvalidConnection(this.host))};fetch(this.host,e).then(h.bind(this)).catch(i.bind(this))},g.prototype.disconnect=function(){},g.prototype.supportsSubscriptions=function(){return!1},a.exports=g},32277:function(){var a;a="undefined"!=typeof self?self:this,function(b){var c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(a){return a&&d.indexOf(Object.prototype.toString.call(a))> -1};function f(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw TypeError("Invalid character in header field name");return a.toLowerCase()}function g(a){return"string"!=typeof a&&(a=String(a)),a}function h(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return c.iterable&&(b[Symbol.iterator]=function(){return b}),b}function i(a){this.map={},a instanceof i?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function j(a){if(a.bodyUsed)return Promise.reject(TypeError("Already read"));a.bodyUsed=!0}function k(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function l(a){var b=new FileReader,c=k(b);return b.readAsArrayBuffer(a),c}function m(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function n(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a){if("string"==typeof a)this._bodyText=a;else if(c.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(c.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else{var b;c.arrayBuffer&&c.blob&&(b=a)&&DataView.prototype.isPrototypeOf(b)?(this._bodyArrayBuffer=m(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||e(a))?this._bodyArrayBuffer=m(a):this._bodyText=a=Object.prototype.toString.call(a)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var a=j(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var a,b,c,d=j(this);if(d)return d;if(this._bodyBlob)return a=this._bodyBlob,b=new FileReader,c=k(b),b.readAsText(a),c;if(this._bodyArrayBuffer)return Promise.resolve(function(a){for(var b=new Uint8Array(a),c=Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},c.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}i.prototype.append=function(a,b){a=f(a),b=g(b);var c=this.map[a];this.map[a]=c?c+", "+b:b},i.prototype.delete=function(a){delete this.map[f(a)]},i.prototype.get=function(a){return a=f(a),this.has(a)?this.map[a]:null},i.prototype.has=function(a){return this.map.hasOwnProperty(f(a))},i.prototype.set=function(a,b){this.map[f(a)]=g(b)},i.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},i.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),h(a)},i.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),h(a)},i.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),h(a)},c.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(a,b){var c,d,e=(b=b||{}).body;if(a instanceof p){if(a.bodyUsed)throw TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new i(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,e||null==a._bodyInit||(e=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new i(b.headers)),this.method=(d=(c=b.method||this.method||"GET").toUpperCase(),o.indexOf(d)> -1?d:c),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(e)}function q(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function r(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new i(b.headers),this.url=b.url||"",this._initBody(a)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},n.call(p.prototype),n.call(r.prototype),r.prototype.clone=function(){return new r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},r.error=function(){var a=new r(null,{status:0,statusText:""});return a.type="error",a};var s=[301,302,303,307,308];r.redirect=function(a,b){if(-1===s.indexOf(b))throw RangeError("Invalid status code");return new r(null,{status:b,headers:{location:a}})},b.DOMException=a.DOMException;try{new b.DOMException}catch(t){b.DOMException=function(a,b){this.message=a,this.name=b;var c=Error(a);this.stack=c.stack},b.DOMException.prototype=Object.create(Error.prototype),b.DOMException.prototype.constructor=b.DOMException}function u(a,d){return new Promise(function(e,f){var g=new p(a,d);if(g.signal&&g.signal.aborted)return f(new b.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function j(){h.abort()}h.onload=function(){var a,b,c={status:h.status,statusText:h.statusText,headers:(a=h.getAllResponseHeaders()||"",b=new i,a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b)};c.url="responseURL"in h?h.responseURL:c.headers.get("X-Request-URL");var d="response"in h?h.response:h.responseText;e(new r(d,c))},h.onerror=function(){f(TypeError("Network request failed"))},h.ontimeout=function(){f(TypeError("Network request failed"))},h.onabort=function(){f(new b.DOMException("Aborted","AbortError"))},h.open(g.method,g.url,!0),"include"===g.credentials?h.withCredentials=!0:"omit"===g.credentials&&(h.withCredentials=!1),"responseType"in h&&c.blob&&(h.responseType="blob"),g.headers.forEach(function(a,b){h.setRequestHeader(b,a)}),g.signal&&(g.signal.addEventListener("abort",j),h.onreadystatechange=function(){4===h.readyState&&g.signal.removeEventListener("abort",j)}),h.send(void 0===g._bodyInit?null:g._bodyInit)})}u.polyfill=!0,a.fetch||(a.fetch=u,a.Headers=i,a.Request=p,a.Response=r),b.Headers=i,b.Request=p,b.Response=r,b.fetch=u,Object.defineProperty(b,"__esModule",{value:!0})}({})},73097:function(a,b,c){"use strict";var d=c(84390).errors,e=c(43455),f=function(a,b){var c=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=a,this.connected=!1,this.connection=b.connect({path:this.path}),this.addDefaultEvents();var d=function(a){var b=null;Array.isArray(a)?a.forEach(function(a){c.responseCallbacks[a.id]&&(b=a.id)}):b=a.id,b|| -1===a.method.indexOf("_subscription")?c.responseCallbacks[b]&&(c.responseCallbacks[b](null,a),delete c.responseCallbacks[b]):c.notificationCallbacks.forEach(function(b){"function"==typeof b&&b(a)})};"Socket"===b.constructor.name?e(this.connection).done(d):this.connection.on("data",function(a){c._parseResponse(a.toString()).forEach(d)})};f.prototype.addDefaultEvents=function(){var a=this;this.connection.on("connect",function(){a.connected=!0}),this.connection.on("close",function(){a.connected=!1}),this.connection.on("error",function(){a._timeout()}),this.connection.on("end",function(){a._timeout()}),this.connection.on("timeout",function(){a._timeout()})},f.prototype._parseResponse=function(a){var b=this,c=[];return a.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(a){b.lastChunk&&(a=b.lastChunk+a);var e=null;try{e=JSON.parse(a)}catch(f){b.lastChunk=a,clearTimeout(b.lastChunkTimeout),b.lastChunkTimeout=setTimeout(function(){throw b._timeout(),d.InvalidResponse(a)},15e3);return}clearTimeout(b.lastChunkTimeout),b.lastChunk=null,e&&c.push(e)}),c},f.prototype._addResponseCallback=function(a,b){var c=a.id||a[0].id,d=a.method||a[0].method;this.responseCallbacks[c]=b,this.responseCallbacks[c].method=d},f.prototype._timeout=function(){for(var a in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(a)&&(this.responseCallbacks[a](d.InvalidConnection("on IPC")),delete this.responseCallbacks[a])},f.prototype.reconnect=function(){this.connection.connect({path:this.path})},f.prototype.send=function(a,b){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(a)),this._addResponseCallback(a,b)},f.prototype.on=function(a,b){if("function"!=typeof b)throw Error("The second parameter callback must be a function.");"data"===a?this.notificationCallbacks.push(b):this.connection.on(a,b)},f.prototype.once=function(a,b){if("function"!=typeof b)throw Error("The second parameter callback must be a function.");this.connection.once(a,b)},f.prototype.removeListener=function(a,b){var c=this;"data"===a?this.notificationCallbacks.forEach(function(a,d){a===b&&c.notificationCallbacks.splice(d,1)}):this.connection.removeListener(a,b)},f.prototype.removeAllListeners=function(a){"data"===a?this.notificationCallbacks=[]:this.connection.removeAllListeners(a)},f.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},f.prototype.supportsSubscriptions=function(){return!0},a.exports=f},91057:function(a,b,c){var d=c(34155),e=c(48764).Buffer,f="[object process]"===Object.prototype.toString.call(void 0!==d?d:0),g="undefined"!=typeof navigator&&"ReactNative"===navigator.product,h=null,i=null;if(f||g){h=function(a){return e.from(a).toString("base64")};var j=c(11987);if(j.URL){var k=j.URL;i=function(a){return new k(a)}}else i=c(11987).parse}else h=btoa.bind("object"==typeof globalThis?globalThis:self),i=function(a){return new URL(a)};a.exports={parseURL:i,btoa:h}},69556:function(a,b,c){"use strict";var d=c(26729),e=c(91057),f=c(84390).errors,g=c(45840).w3cwebsocket,h=function(a,b){d.call(this),b=b||{},this.url=a,this._customTimeout=b.timeout||15e3,this.headers=b.headers||{},this.protocol=b.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},b.reconnect),this.clientConfig=b.clientConfig||void 0,this.requestOptions=b.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1;var c=e.parseURL(a);c.username&&c.password&&(this.headers.authorization="Basic "+e.btoa(c.username+":"+c.password)),c.auth&&(this.headers.authorization="Basic "+e.btoa(c.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.prototype.connect=function(){this.connection=new g(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()},h.prototype._onMessage=function(a){var b=this;this._parseResponse("string"==typeof a.data?a.data:"").forEach(function(a){if(a.method&& -1!==a.method.indexOf("_subscription")){b.emit(b.DATA,a);return}var c=a.id;Array.isArray(a)&&(c=a[0].id),b.responseQueue.has(c)&&(void 0!==b.responseQueue.get(c).callback&&b.responseQueue.get(c).callback(!1,a),b.responseQueue.delete(c))})},h.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var a=this;this.requestQueue.forEach(function(b,c){a.send(b.payload,b.callback),a.requestQueue.delete(c)})}},h.prototype._onClose=function(a){var b=this;if(this.reconnectOptions.auto&&(![1e3,1001].includes(a.code)|| !1===a.wasClean)){this.reconnect();return}this.emit(this.CLOSE,a),this.requestQueue.size>0&&this.requestQueue.forEach(function(c,d){c.callback(f.ConnectionNotOpenError(a)),b.requestQueue.delete(d)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(c,d){c.callback(f.InvalidConnection("on WS",a)),b.responseQueue.delete(d)}),this._removeSocketListeners(),this.removeAllListeners()},h.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this))},h.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose)},h.prototype._parseResponse=function(a){var b=this,c=[];return a.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(a){b.lastChunk&&(a=b.lastChunk+a);var d=null;try{d=JSON.parse(a)}catch(e){b.lastChunk=a,clearTimeout(b.lastChunkTimeout),b.lastChunkTimeout=setTimeout(function(){if(b.reconnectOptions.auto&&b.reconnectOptions.onTimeout){b.reconnect();return}b.emit(b.ERROR,f.ConnectionTimeout(b._customTimeout)),b.requestQueue.size>0&&b.requestQueue.forEach(function(a,c){a.callback(f.ConnectionTimeout(b._customTimeout)),b.requestQueue.delete(c)})},b._customTimeout);return}clearTimeout(b.lastChunkTimeout),b.lastChunk=null,d&&c.push(d)}),c},h.prototype.send=function(a,b){var c=a.id,d={payload:a,callback:b};if(Array.isArray(a)&&(c=a[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting){this.requestQueue.set(c,d);return}if(this.connection.readyState!==this.connection.OPEN){this.requestQueue.delete(c),this.emit(this.ERROR,f.ConnectionNotOpenError()),d.callback(f.ConnectionNotOpenError());return}this.responseQueue.set(c,d),this.requestQueue.delete(c);try{this.connection.send(JSON.stringify(d.payload))}catch(e){d.callback(e),this.responseQueue.delete(c)}},h.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()},h.prototype.disconnect=function(a,b){this._removeSocketListeners(),this.connection.close(a||1e3,b)},h.prototype.supportsSubscriptions=function(){return!0},h.prototype.reconnect=function(){var a=this;if(this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach(function(b,c){b.callback(f.PendingRequestsOnReconnectingError()),a.responseQueue.delete(c)}),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts){setTimeout(function(){a.reconnectAttempts++,a._removeSocketListeners(),a.emit(a.RECONNECT,a.reconnectAttempts),a.connect()},this.reconnectOptions.delay);return}this.emit(this.ERROR,f.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach(function(b,c){b.callback(f.MaxAttemptsReachedOnReconnectingError()),a.requestQueue.delete(c)})},a.exports=h},18269:function(a,b,c){var d=c(94278),e=c(90329),f=c(28668),g=c(61798),h=c(13550),i=function(a,b,c,d,e){return!a||"object"!=typeof a||a instanceof Error||!a.data||((a.data&&"object"==typeof a.data||Array.isArray(a.data))&&(a.data=JSON.stringify(a.data,null,2)),a=a.message+"\n"+a.data),"string"==typeof a&&(a=Error(a)),"function"==typeof d&&d(a,e),"function"==typeof c&&((b&&"function"==typeof b.listeners&&b.listeners("error").length||"function"==typeof d)&&b.catch(function(){}),setTimeout(function(){c(a)},1)),b&&"function"==typeof b.emit&&setTimeout(function(){b.emit("error",a,e),b.removeAllListeners()},1),b},j=function(a){return a&&"object"==typeof a&&a.name&& -1!==a.name.indexOf("(")?a.name:a.name+"("+k(!1,a.inputs).join(",")+")"},k=function(a,b){var c=[];return b.forEach(function(b){if("object"==typeof b.components){if("tuple"!==b.type.substring(0,5))throw Error("components found but type is not tuple; report on GitHub");var d="",e=b.type.indexOf("[");e>=0&&(d=b.type.substring(e));var f=k(a,b.components);Array.isArray(f)&&a?c.push("tuple("+f.join(",")+")"+d):a?c.push("("+f+")"):c.push("("+f.join(",")+")"+d)}else c.push(b.type)}),c},l=function(a){return"0x"+g(a).toString("hex")},m=function(a){if(!e.isHexStrict(a))throw Error("The parameter must be a valid HEX string.");var b="",c=0,d=a.length;for("0x"===a.substring(0,2)&&(c=2);c<d;c+=2){var f=parseInt(a.slice(c,c+2),16);b+=String.fromCharCode(f)}return b},n=function(a){if(!a)return"0x00";for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c).toString(16);b+=d.length<2?"0"+d:d}return"0x"+b},o=function(a){if(a=a?a.toLowerCase():"ether",!d.unitMap[a])throw Error('This unit "'+a+"\" doesn't exist, please use the one of the following units"+JSON.stringify(d.unitMap,null,2));return a},p=function(a,b){if(b=o(b),!e.isBN(a)&&"string"!=typeof a)throw Error("Please pass numbers as strings or BN objects to avoid precision errors.");return e.isBN(a)?d.fromWei(a,b):d.fromWei(a,b).toString(10)},q=function(a,b){if(b=o(b),!e.isBN(a)&&"string"!=typeof a)throw Error("Please pass numbers as strings or BN objects to avoid precision errors.");return e.isBN(a)?d.toWei(a,b):d.toWei(a,b).toString(10)},r=function(a){if(void 0===a)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(a))throw Error('Given address "'+a+'" is not a valid Ethereum address.');a=a.toLowerCase().replace(/^0x/i,"");for(var b=e.sha3(a).replace(/^0x/i,""),c="0x",d=0;d<a.length;d++)parseInt(b[d],16)>7?c+=a[d].toUpperCase():c+=a[d];return c},s=function(a,b){if(a==b||("genesis"==a||"earliest"==a||0==a)&&("genesis"==b||"earliest"==b||0==b))return 0;if("genesis"==a||"earliest"==a)return -1;{if("genesis"==b||"earliest"==b)return 1;if("latest"==a)return"pending"==b?-1:1;if("latest"===b)return"pending"==a?1:-1;if("pending"==a)return 1;if("pending"==b)return -1;let c=new h(a),d=new h(b);return c.lt(d)?-1:c.eq(d)?0:1}};a.exports={_fireError:i,_jsonInterfaceMethodToString:j,_flattenTypes:k,randomHex:l,BN:e.BN,isBN:e.isBN,isBigNumber:e.isBigNumber,isHex:e.isHex,isHexStrict:e.isHexStrict,sha3:e.sha3,sha3Raw:e.sha3Raw,keccak256:e.sha3,soliditySha3:f.soliditySha3,soliditySha3Raw:f.soliditySha3Raw,encodePacked:f.encodePacked,isAddress:e.isAddress,checkAddressChecksum:e.checkAddressChecksum,toChecksumAddress:r,toHex:e.toHex,toBN:e.toBN,bytesToHex:e.bytesToHex,hexToBytes:e.hexToBytes,hexToNumberString:e.hexToNumberString,hexToNumber:e.hexToNumber,toDecimal:e.hexToNumber,numberToHex:e.numberToHex,fromDecimal:e.numberToHex,hexToUtf8:e.hexToUtf8,hexToString:e.hexToUtf8,toUtf8:e.hexToUtf8,stripHexPrefix:e.stripHexPrefix,utf8ToHex:e.utf8ToHex,stringToHex:e.utf8ToHex,fromUtf8:e.utf8ToHex,hexToAscii:m,toAscii:m,asciiToHex:n,fromAscii:n,unitMap:d.unitMap,toWei:q,fromWei:p,padLeft:e.leftPad,leftPad:e.leftPad,padRight:e.rightPad,rightPad:e.rightPad,toTwosComplement:e.toTwosComplement,isBloom:e.isBloom,isUserEthereumAddressInBloom:e.isUserEthereumAddressInBloom,isContractAddressInBloom:e.isContractAddressInBloom,isTopic:e.isTopic,isTopicInBloom:e.isTopicInBloom,isInBloom:e.isInBloom,compareBlockNumbers:s,toNumber:e.toNumber}},28668:function(a,b,c){var d=c(13550),e=c(90329),f=function(a){if(a.startsWith("int["))return"int256"+a.slice(3);if("int"===a)return"int256";if(a.startsWith("uint["))return"uint256"+a.slice(4);if("uint"===a)return"uint256";if(a.startsWith("fixed["))return"fixed128x128"+a.slice(5);else if("fixed"===a)return"fixed128x128";else if(a.startsWith("ufixed["))return"ufixed128x128"+a.slice(6);else if("ufixed"===a)return"ufixed128x128";return a},g=function(a){var b=/^\D+(\d+).*$/.exec(a);return b?parseInt(b[1],10):null},h=function(a){var b=/^\D+\d*\[(\d+)\]$/.exec(a);return b?parseInt(b[1],10):null},i=function(a){var b=typeof a;if("string"===b)return e.isHexStrict(a)?new d(a.replace(/0x/i,""),16):new d(a,10);if("number"===b)return new d(a);if(e.isBigNumber(a))return new d(a.toString(10));if(e.isBN(a))return a;throw Error(a+" is not a number")},j=function(a,b,c){var h,j;if("bytes"===(a=f(a))){if(b.replace(/^0x/i,"").length%2!=0)throw Error("Invalid bytes characters "+b.length);return b}if("string"===a)return e.utf8ToHex(b);if("bool"===a)return b?"01":"00";if(a.startsWith("address")){if(h=c?64:40,!e.isAddress(b))throw Error(b+" is not a valid address, or the checksum is invalid.");return e.leftPad(b.toLowerCase(),h)}if(h=g(a),a.startsWith("bytes")){if(!h)throw Error("bytes[] not yet supported in solidity");if(c&&(h=32),h<1||h>32||h<b.replace(/^0x/i,"").length/2)throw Error("Invalid bytes"+h+" for "+b);return e.rightPad(b,2*h)}if(a.startsWith("uint")){if(h%8||h<8||h>256)throw Error("Invalid uint"+h+" size");if((j=i(b)).bitLength()>h)throw Error("Supplied uint exceeds width: "+h+" vs "+j.bitLength());if(j.lt(new d(0)))throw Error("Supplied uint "+j.toString()+" is negative");return h?e.leftPad(j.toString("hex"),h/8*2):j}if(a.startsWith("int")){if(h%8||h<8||h>256)throw Error("Invalid int"+h+" size");if((j=i(b)).bitLength()>h)throw Error("Supplied int exceeds width: "+h+" vs "+j.bitLength());return j.lt(new d(0))?j.toTwos(h).toString("hex"):h?e.leftPad(j.toString("hex"),h/8*2):j}throw Error("Unsupported or invalid type: "+a)},k=function(a){if(Array.isArray(a))throw Error("Autodetection of array types is not supported.");var b,c,f,g="";if(a&&"object"==typeof a&&(a.hasOwnProperty("v")||a.hasOwnProperty("t")||a.hasOwnProperty("value")||a.hasOwnProperty("type"))?(f=a.hasOwnProperty("t")?a.t:a.type,g=a.hasOwnProperty("v")?a.v:a.value):(f=e.toHex(a,!0),g=e.toHex(a),f.startsWith("int")||f.startsWith("uint")||(f="bytes")),(f.startsWith("int")||f.startsWith("uint"))&&"string"==typeof g&&!/^(-)?0x/i.test(g)&&(g=new d(g)),Array.isArray(g)){if((c=h(f))&&g.length!==c)throw Error(f+" is not matching the given array "+JSON.stringify(g));c=g.length}return Array.isArray(g)?g.map(function(a){return j(f,a,c).toString("hex").replace("0x","")}).join(""):j(f,g,c).toString("hex").replace("0x","")},l=function(){var a=Array.prototype.slice.call(arguments),b=a.map(k);return e.sha3("0x"+b.join(""))},m=function(){return e.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(k).join(""))},n=function(){var a=Array.prototype.slice.call(arguments);return"0x"+a.map(k).join("").toLowerCase()};a.exports={soliditySha3:l,soliditySha3Raw:m,encodePacked:n}},90329:function(a,b,c){var d=c(48764).Buffer,e=c(13550),f=c(83206),g=c(57458),h=c(79207),i=c(46877),j=function(a){return e.isBN(a)},k=function(a){return a&&a.constructor&&"BigNumber"===a.constructor.name},l=function(a){try{return f.apply(null,arguments)}catch(b){throw Error(b+' Given value: "'+a+'"')}},m=function(a){return"0x"+l(a).toTwos(256).toString(16,64)},n=function(a){return!!/^(0x)?[0-9a-f]{40}$/i.test(a)&&(!!(/^(0x|0X)?[0-9a-f]{40}$/.test(a)||/^(0x|0X)?[0-9A-F]{40}$/.test(a))||o(a))},o=function(a){for(var b=J((a=a.replace(/^0x/i,"")).toLowerCase()).replace(/^0x/i,""),c=0;c<40;c++)if(parseInt(b[c],16)>7&&a[c].toUpperCase()!==a[c]||7>=parseInt(b[c],16)&&a[c].toLowerCase()!==a[c])return!1;return!0},p=function(a,b,c){var d=/^0x/i.test(a)||"number"==typeof a;a=a.toString(16).replace(/^0x/i,"");var e=b-a.length+1>=0?b-a.length+1:0;return(d?"0x":"")+Array(e).join(c||"0")+a},q=function(a,b,c){var d=/^0x/i.test(a)||"number"==typeof a;a=a.toString(16).replace(/^0x/i,"");var e=b-a.length+1>=0?b-a.length+1:0;return(d?"0x":"")+a+Array(e).join(c||"0")},r=function(a){a=g.encode(a);var b="";a=(a=(a=(a=a.replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var c=0;c<a.length;c++){var d=a.charCodeAt(c).toString(16);b+=d.length<2?"0"+d:d}return"0x"+b},s=function(a){if(!z(a))throw Error('The parameter "'+a+'" must be a valid HEX string.');for(var b="",c=0,d=(a=(a=(a=(a=(a=a.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,e=0;e<d;e+=2)c=parseInt(a.slice(e,e+2),16),b+=String.fromCharCode(c);return g.decode(b)},t=function(a){if(!a)return a;if("string"==typeof a&&!z(a))throw Error('Given value "'+a+'" is not a valid hex string.');return l(a).toNumber()},u=function(a){if(!a)return a;if("string"==typeof a&&!z(a))throw Error('Given value "'+a+'" is not a valid hex string.');return l(a).toString(10)},v=function(a){if(null==a)return a;if(!isFinite(a)&&!z(a))throw Error('Given input "'+a+'" is not a number.');var b=l(a),c=b.toString(16);return b.lt(new e(0))?"-0x"+c.slice(1):"0x"+c},w=function(a){for(var b=[],c=0;c<a.length;c++)b.push((a[c]>>>4).toString(16)),b.push((15&a[c]).toString(16));return"0x"+b.join("")},x=function(a){if(!z(a=a.toString(16)))throw Error('Given value "'+a+'" is not a valid hex string.');a=a.replace(/^0x/i,"");for(var b=[],c=0;c<a.length;c+=2)b.push(parseInt(a.slice(c,c+2),16));return b},y=function(a,b){if(n(a))return b?"address":"0x"+a.toLowerCase().replace(/^0x/i,"");if("boolean"==typeof a)return b?"bool":a?"0x01":"0x00";if(d.isBuffer(a))return"0x"+a.toString("hex");if("object"==typeof a&&a&&!k(a)&&!j(a))return b?"string":r(JSON.stringify(a));if("string"==typeof a){if(0===a.indexOf("-0x")||0===a.indexOf("-0X"))return b?"int256":v(a);if(0===a.indexOf("0x")||0===a.indexOf("0X"))return b?"bytes":a;if(!isFinite(a))return b?"string":r(a)}return b?a<0?"int256":"uint256":v(a)},z=function(a){return("string"==typeof a||"number"==typeof a)&&/^(-)?0x[0-9a-f]*$/i.test(a)},A=function(a){return("string"==typeof a||"number"==typeof a)&&/^(-0x|0x)?[0-9a-f]*$/i.test(a)},B=function(a){return 0!==a&&A(a)?a.replace(/^(-)?0x/i,"$1"):a},C=function(a){return i.isBloom(a)},D=function(a,b){return i.isUserEthereumAddressInBloom(a,b)},E=function(a,b){return i.isContractAddressInBloom(a,b)},F=function(a){return i.isTopic(a)},G=function(a,b){return i.isTopicInBloom(a,b)},H=function(a,b){return i.isInBloom(a,b)},I="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",J=function(a){j(a)&&(a=a.toString()),z(a)&&/^0x/i.test(a.toString())?a=h.toBuffer(a):"string"==typeof a&&(a=d.from(a,"utf-8"));var b=h.bufferToHex(h.keccak256(a));return b===I?null:b};J._Hash=h.keccak256;var K=function(a){return null===(a=J(a))?I:a},L=function(a){return"number"==typeof a?a:t(y(a))},M=function(a){if(!("string"==typeof a&&a.includes("0x")))return new e(a);{let[b,c]=a.toLocaleLowerCase().startsWith("-")?["-",a.slice(3)]:["",a.slice(2)];return new e(b+c,16)}};Object.setPrototypeOf(M,e),Object.setPrototypeOf(M.prototype,e.prototype),a.exports={BN:M,isBN:j,isBigNumber:k,toBN:l,isAddress:n,isBloom:C,isUserEthereumAddressInBloom:D,isContractAddressInBloom:E,isTopic:F,isTopicInBloom:G,isInBloom:H,checkAddressChecksum:o,utf8ToHex:r,hexToUtf8:s,hexToNumber:t,hexToNumberString:u,numberToHex:v,toHex:y,hexToBytes:x,bytesToHex:w,isHex:A,isHexStrict:z,stripHexPrefix:B,leftPad:p,rightPad:q,toTwosComplement:m,sha3:J,sha3Raw:K,toNumber:L}},30985:function(a,b,c){"use strict";var d=c(48764).Buffer,e=this&&this.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.isZeroAddress=b.zeroAddress=b.importPublic=b.privateToAddress=b.privateToPublic=b.publicToAddress=b.pubToAddress=b.isValidPublic=b.isValidPrivate=b.generateAddress2=b.generateAddress=b.isValidChecksumAddress=b.toChecksumAddress=b.isValidAddress=b.Account=void 0;var g=f(c(69282)),h=c(6045),i=c(95053),j=c(78722),k=c(51803),l=c(22599),m=c(5405),n=c(54586),o=c(59949),p=function(){function a(a,b,c,d){void 0===a&&(a=new h.BN(0)),void 0===b&&(b=new h.BN(0)),void 0===c&&(c=k.KECCAK256_RLP),void 0===d&&(d=k.KECCAK256_NULL),this.nonce=a,this.balance=b,this.stateRoot=c,this.codeHash=d,this._validate()}return a.fromAccountData=function(b){var c=b.nonce,d=b.balance,e=b.stateRoot,f=b.codeHash;return new a(c?new h.BN((0,l.toBuffer)(c)):void 0,d?new h.BN((0,l.toBuffer)(d)):void 0,e?(0,l.toBuffer)(e):void 0,f?(0,l.toBuffer)(f):void 0)},a.fromRlpSerializedAccount=function(a){var b=h.rlp.decode(a);if(!Array.isArray(b))throw Error("Invalid serialized account input. Must be array");return this.fromValuesArray(b)},a.fromValuesArray=function(b){var c=e(b,4),d=c[0],f=c[1],g=c[2],i=c[3];return new a(new h.BN(d),new h.BN(f),g,i)},a.prototype._validate=function(){if(this.nonce.lt(new h.BN(0)))throw Error("nonce must be greater than zero");if(this.balance.lt(new h.BN(0)))throw Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw Error("codeHash must have a length of 32")},a.prototype.raw=function(){return[(0,o.bnToUnpaddedBuffer)(this.nonce),(0,o.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash,]},a.prototype.serialize=function(){return h.rlp.encode(this.raw())},a.prototype.isContract=function(){return!this.codeHash.equals(k.KECCAK256_NULL)},a.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(k.KECCAK256_NULL)},a}();b.Account=p;var q=function(a){try{(0,n.assertIsString)(a)}catch(b){return!1}return/^0x[0-9a-fA-F]{40}$/.test(a)};b.isValidAddress=q;var r=function(a,b){(0,n.assertIsHexString)(a);var c=(0,j.stripHexPrefix)(a).toLowerCase(),d="";b&&(d=(0,o.toType)(b,o.TypeOutput.BN).toString()+"0x");for(var e=(0,m.keccakFromString)(d+c).toString("hex"),f="0x",g=0;g<c.length;g++)parseInt(e[g],16)>=8?f+=c[g].toUpperCase():f+=c[g];return f};b.toChecksumAddress=r;var s=function(a,c){return(0,b.isValidAddress)(a)&&(0,b.toChecksumAddress)(a,c)===a};b.isValidChecksumAddress=s;var t=function(a,b){(0,n.assertIsBuffer)(a),(0,n.assertIsBuffer)(b);var c=new h.BN(b);return c.isZero()?(0,m.rlphash)([a,null]).slice(-20):(0,m.rlphash)([a,d.from(c.toArray())]).slice(-20)};b.generateAddress=t;var u=function(a,b,c){return(0,n.assertIsBuffer)(a),(0,n.assertIsBuffer)(b),(0,n.assertIsBuffer)(c),(0,g.default)(20===a.length),(0,g.default)(32===b.length),(0,m.keccak256)(d.concat([d.from("ff","hex"),a,b,(0,m.keccak256)(c)])).slice(-20)};b.generateAddress2=u;var v=function(a){return(0,i.privateKeyVerify)(a)};b.isValidPrivate=v;var w=function(a,b){return(void 0===b&&(b=!1),(0,n.assertIsBuffer)(a),64===a.length)?(0,i.publicKeyVerify)(d.concat([d.from([4]),a])):!!b&&(0,i.publicKeyVerify)(a)};b.isValidPublic=w;var x=function(a,b){return void 0===b&&(b=!1),(0,n.assertIsBuffer)(a),b&&64!==a.length&&(a=d.from((0,i.publicKeyConvert)(a,!1).slice(1))),(0,g.default)(64===a.length),(0,m.keccak)(a).slice(-20)};b.pubToAddress=x,b.publicToAddress=b.pubToAddress;var y=function(a){return(0,n.assertIsBuffer)(a),d.from((0,i.publicKeyCreate)(a,!1)).slice(1)};b.privateToPublic=y;var z=function(a){return(0,b.publicToAddress)((0,b.privateToPublic)(a))};b.privateToAddress=z;var A=function(a){return(0,n.assertIsBuffer)(a),64!==a.length&&(a=d.from((0,i.publicKeyConvert)(a,!1).slice(1))),a};b.importPublic=A;var B=function(){var a=(0,l.zeros)(20);return(0,l.bufferToHex)(a)};b.zeroAddress=B;var C=function(a){try{(0,n.assertIsString)(a)}catch(c){return!1}return(0,b.zeroAddress)()===a};b.isZeroAddress=C},2395:function(a,b,c){"use strict";var d=c(48764).Buffer,e=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.Address=void 0;var f=e(c(69282)),g=c(6045),h=c(22599),i=c(30985),j=function(){function a(a){(0,f.default)(20===a.length,"Invalid address length"),this.buf=a}return a.zero=function(){return new a((0,h.zeros)(20))},a.fromString=function(b){return(0,f.default)((0,i.isValidAddress)(b),"Invalid address"),new a((0,h.toBuffer)(b))},a.fromPublicKey=function(b){(0,f.default)(d.isBuffer(b),"Public key should be Buffer");var c=(0,i.pubToAddress)(b);return new a(c)},a.fromPrivateKey=function(b){(0,f.default)(d.isBuffer(b),"Private key should be Buffer");var c=(0,i.privateToAddress)(b);return new a(c)},a.generate=function(b,c){return(0,f.default)(g.BN.isBN(c)),new a((0,i.generateAddress)(b.buf,c.toArrayLike(d)))},a.generate2=function(b,c,e){return(0,f.default)(d.isBuffer(c)),(0,f.default)(d.isBuffer(e)),new a((0,i.generateAddress2)(b.buf,c,e))},a.prototype.equals=function(a){return this.buf.equals(a.buf)},a.prototype.isZero=function(){return this.equals(a.zero())},a.prototype.isPrecompileOrSystemAddress=function(){var a=new g.BN(this.buf),b=new g.BN(0),c=new g.BN("ffff","hex");return a.gte(b)&&a.lte(c)},a.prototype.toString=function(){return"0x"+this.buf.toString("hex")},a.prototype.toBuffer=function(){return d.from(this.buf)},a}();b.Address=j},22599:function(a,b,c){"use strict";var d=c(48764).Buffer,e=this&&this.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};Object.defineProperty(b,"__esModule",{value:!0}),b.bufArrToArr=b.arrToBufArr=b.validateNoLeadingZeroes=b.baToJSON=b.toUtf8=b.addHexPrefix=b.toUnsigned=b.fromSigned=b.bufferToHex=b.bufferToInt=b.toBuffer=b.unpadHexString=b.unpadArray=b.unpadBuffer=b.setLengthRight=b.setLengthLeft=b.zeros=b.intToBuffer=b.intToHex=void 0;var g=c(6045),h=c(78722),i=c(54586),j=function(a){if(!Number.isSafeInteger(a)||a<0)throw Error("Received an invalid integer type: ".concat(a));return"0x".concat(a.toString(16))};b.intToHex=j;var k=function(a){var c=(0,b.intToHex)(a);return d.from((0,h.padToEven)(c.slice(2)),"hex")};b.intToBuffer=k;var l=function(a){return d.allocUnsafe(a).fill(0)};b.zeros=l;var m=function(a,c,d){var e=(0,b.zeros)(c);return d?a.length<c?(a.copy(e),e):a.slice(0,c):a.length<c?(a.copy(e,c-a.length),e):a.slice(-c)},n=function(a,b){return(0,i.assertIsBuffer)(a),m(a,b,!1)};b.setLengthLeft=n;var o=function(a,b){return(0,i.assertIsBuffer)(a),m(a,b,!0)};b.setLengthRight=o;var p=function(a){for(var b=a[0];a.length>0&&"0"===b.toString();)b=(a=a.slice(1))[0];return a},q=function(a){return(0,i.assertIsBuffer)(a),p(a)};b.unpadBuffer=q;var r=function(a){return(0,i.assertIsArray)(a),p(a)};b.unpadArray=r;var s=function(a){return(0,i.assertIsHexString)(a),p(a=(0,h.stripHexPrefix)(a))};b.unpadHexString=s;var t=function(a){if(null==a)return d.allocUnsafe(0);if(d.isBuffer(a)||Array.isArray(a)||a instanceof Uint8Array)return d.from(a);if("string"==typeof a){if(!(0,h.isHexString)(a))throw Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(a));return d.from((0,h.padToEven)((0,h.stripHexPrefix)(a)),"hex")}if("number"==typeof a)return(0,b.intToBuffer)(a);if(g.BN.isBN(a)){if(a.isNeg())throw Error("Cannot convert negative BN to buffer. Given: ".concat(a));return a.toArrayLike(d)}if(a.toArray)return d.from(a.toArray());if(a.toBuffer)return d.from(a.toBuffer());throw Error("invalid type")};b.toBuffer=t;var u=function(a){return new g.BN((0,b.toBuffer)(a)).toNumber()};b.bufferToInt=u;var v=function(a){return"0x"+(a=(0,b.toBuffer)(a)).toString("hex")};b.bufferToHex=v;var w=function(a){return new g.BN(a).fromTwos(256)};b.fromSigned=w;var x=function(a){return d.from(a.toTwos(256).toArray())};b.toUnsigned=x;var y=function(a){return"string"!=typeof a?a:(0,h.isHexPrefixed)(a)?a:"0x"+a};b.addHexPrefix=y;var z=function(a){if((a=(0,h.stripHexPrefix)(a)).length%2!=0)throw Error("Invalid non-even hex string input for toUtf8() provided");return d.from(a.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};b.toUtf8=z;var A=function(a){if(d.isBuffer(a))return"0x".concat(a.toString("hex"));if(a instanceof Array){for(var c=[],e=0;e<a.length;e++)c.push((0,b.baToJSON)(a[e]));return c}};b.baToJSON=A;var B=function(a){var b,c;try{for(var d=e(Object.entries(a)),g=d.next();!g.done;g=d.next()){var h=f(g.value,2),i=h[0],j=h[1];if(void 0!==j&&j.length>0&&0===j[0])throw Error("".concat(i," cannot have leading zeroes, received: ").concat(j.toString("hex")))}}catch(k){b={error:k}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}};function C(a){return Array.isArray(a)?a.map(function(a){return C(a)}):d.from(a)}function D(a){return Array.isArray(a)?a.map(function(a){return D(a)}):Uint8Array.from(null!=a?a:[])}b.validateNoLeadingZeroes=B,b.arrToBufArr=C,b.bufArrToArr=D},51803:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.KECCAK256_RLP=b.KECCAK256_RLP_S=b.KECCAK256_RLP_ARRAY=b.KECCAK256_RLP_ARRAY_S=b.KECCAK256_NULL=b.KECCAK256_NULL_S=b.TWO_POW256=b.MAX_INTEGER=b.MAX_UINT64=void 0;var d=c(48764),e=c(6045);b.MAX_UINT64=new e.BN("ffffffffffffffff",16),b.MAX_INTEGER=new e.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),b.TWO_POW256=new e.BN("10000000000000000000000000000000000000000000000000000000000000000",16),b.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",b.KECCAK256_NULL=d.Buffer.from(b.KECCAK256_NULL_S,"hex"),b.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",b.KECCAK256_RLP_ARRAY=d.Buffer.from(b.KECCAK256_RLP_ARRAY_S,"hex"),b.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",b.KECCAK256_RLP=d.Buffer.from(b.KECCAK256_RLP_S,"hex")},6045:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),f=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&d(b,a,c);return e(b,a),b},g=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.rlp=b.BN=void 0;var h=g(c(13550));b.BN=h.default;var i=f(c(51675));b.rlp=i},5405:function(a,b,c){"use strict";var d=c(48764).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),b.rlphash=b.ripemd160FromArray=b.ripemd160FromString=b.ripemd160=b.sha256FromArray=b.sha256FromString=b.sha256=b.keccakFromArray=b.keccakFromHexString=b.keccakFromString=b.keccak256=b.keccak=void 0;var e=c(82192),f=c(23482),g=c(6045),h=c(22599),i=c(54586),j=function(a,b){switch(void 0===b&&(b=256),(0,i.assertIsBuffer)(a),b){case 224:return(0,e.keccak224)(a);case 256:return(0,e.keccak256)(a);case 384:return(0,e.keccak384)(a);case 512:return(0,e.keccak512)(a);default:throw Error("Invald algorithm: keccak".concat(b))}};b.keccak=j;var k=function(a){return(0,b.keccak)(a)};b.keccak256=k;var l=function(a,c){void 0===c&&(c=256),(0,i.assertIsString)(a);var e=d.from(a,"utf8");return(0,b.keccak)(e,c)};b.keccakFromString=l;var m=function(a,c){return void 0===c&&(c=256),(0,i.assertIsHexString)(a),(0,b.keccak)((0,h.toBuffer)(a),c)};b.keccakFromHexString=m;var n=function(a,c){return void 0===c&&(c=256),(0,i.assertIsArray)(a),(0,b.keccak)((0,h.toBuffer)(a),c)};b.keccakFromArray=n;var o=function(a){return a=(0,h.toBuffer)(a),f("sha256").update(a).digest()},p=function(a){return(0,i.assertIsBuffer)(a),o(a)};b.sha256=p;var q=function(a){return(0,i.assertIsString)(a),o(a)};b.sha256FromString=q;var r=function(a){return(0,i.assertIsArray)(a),o(a)};b.sha256FromArray=r;var s=function(a,b){a=(0,h.toBuffer)(a);var c=f("rmd160").update(a).digest();return!0===b?(0,h.setLengthLeft)(c,32):c},t=function(a,b){return(0,i.assertIsBuffer)(a),s(a,b)};b.ripemd160=t;var u=function(a,b){return(0,i.assertIsString)(a),s(a,b)};b.ripemd160FromString=u;var v=function(a,b){return(0,i.assertIsArray)(a),s(a,b)};b.ripemd160FromArray=v;var w=function(a){return(0,b.keccak)(g.rlp.encode(a))};b.rlphash=w},54586:function(a,b,c){"use strict";var d=c(48764).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),b.assertIsString=b.assertIsArray=b.assertIsBuffer=b.assertIsHexString=void 0;var e=c(78722),f=function(a){if(!(0,e.isHexString)(a))throw Error("This method only supports 0x-prefixed hex strings but input was: ".concat(a))};b.assertIsHexString=f;var g=function(a){if(!d.isBuffer(a))throw Error("This method only supports Buffer but input was: ".concat(a))};b.assertIsBuffer=g;var h=function(a){if(!Array.isArray(a))throw Error("This method only supports number arrays but input was: ".concat(a))};b.assertIsArray=h;var i=function(a){if("string"!=typeof a)throw Error("This method only supports strings but input was: ".concat(a))};b.assertIsString=i},79207:function(a,b,c){"use strict";var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.isHexString=b.getKeys=b.fromAscii=b.fromUtf8=b.toAscii=b.arrayContainsArray=b.getBinarySize=b.padToEven=b.stripHexPrefix=b.isHexPrefixed=void 0,e(c(51803),b),e(c(30985),b),e(c(2395),b),e(c(5405),b),e(c(68486),b),e(c(22599),b),e(c(52174),b),e(c(6045),b),e(c(59949),b);var f=c(78722);Object.defineProperty(b,"isHexPrefixed",{enumerable:!0,get:function(){return f.isHexPrefixed}}),Object.defineProperty(b,"stripHexPrefix",{enumerable:!0,get:function(){return f.stripHexPrefix}}),Object.defineProperty(b,"padToEven",{enumerable:!0,get:function(){return f.padToEven}}),Object.defineProperty(b,"getBinarySize",{enumerable:!0,get:function(){return f.getBinarySize}}),Object.defineProperty(b,"arrayContainsArray",{enumerable:!0,get:function(){return f.arrayContainsArray}}),Object.defineProperty(b,"toAscii",{enumerable:!0,get:function(){return f.toAscii}}),Object.defineProperty(b,"fromUtf8",{enumerable:!0,get:function(){return f.fromUtf8}}),Object.defineProperty(b,"fromAscii",{enumerable:!0,get:function(){return f.fromAscii}}),Object.defineProperty(b,"getKeys",{enumerable:!0,get:function(){return f.getKeys}}),Object.defineProperty(b,"isHexString",{enumerable:!0,get:function(){return f.isHexString}})},78722:function(a,b,c){"use strict";var d=c(48764).Buffer;function e(a){if("string"!=typeof a)throw Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof a));return"0"===a[0]&&"x"===a[1]}Object.defineProperty(b,"__esModule",{value:!0}),b.isHexString=b.getKeys=b.fromAscii=b.fromUtf8=b.toAscii=b.arrayContainsArray=b.getBinarySize=b.padToEven=b.stripHexPrefix=b.isHexPrefixed=void 0,b.isHexPrefixed=e;var f=function(a){if("string"!=typeof a)throw Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof a));return e(a)?a.slice(2):a};function g(a){var b=a;if("string"!=typeof b)throw Error("[padToEven] value must be type 'string', received ".concat(typeof b));return b.length%2&&(b="0".concat(b)),b}b.stripHexPrefix=f,b.padToEven=g,b.getBinarySize=function(a){if("string"!=typeof a)throw Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof a));return d.byteLength(a,"utf8")},b.arrayContainsArray=function(a,b,c){if(!0!==Array.isArray(a))throw Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof a,"'"));if(!0!==Array.isArray(b))throw Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof b,"'"));return b[c?"some":"every"](function(b){return a.indexOf(b)>=0})},b.toAscii=function(a){var b="",c=0,d=a.length;for("0x"===a.substring(0,2)&&(c=2);c<d;c+=2){var e=parseInt(a.substr(c,2),16);b+=String.fromCharCode(e)}return b},b.fromUtf8=function(a){var b=d.from(a,"utf8");return"0x".concat(g(b.toString("hex")).replace(/^0+|0+$/g,""))},b.fromAscii=function(a){for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c).toString(16);b+=d.length<2?"0".concat(d):d}return"0x".concat(b)},b.getKeys=function(a,b,c){if(!Array.isArray(a))throw Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof a));if("string"!=typeof b)throw Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof a));for(var d=[],e=0;e<a.length;e++){var f=a[e][b];if(c&&!f)f="";else if("string"!=typeof f)throw Error("invalid abi - expected type 'string', received ".concat(typeof f));d.push(f)}return d},b.isHexString=function(a,b){return"string"==typeof a&&!!a.match(/^0x[0-9A-Fa-f]*$/)&&(!b||a.length===2+2*b)}},52174:function(a,b,c){"use strict";var d=c(48764).Buffer,e=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.defineProperties=void 0;var f=e(c(69282)),g=c(78722),h=c(6045),i=c(22599),j=function(a,b,c){if(a.raw=[],a._fields=[],a.toJSON=function(b){if(void 0===b&&(b=!1),b){var c={};return a._fields.forEach(function(b){c[b]="0x".concat(a[b].toString("hex"))}),c}return(0,i.baToJSON)(a.raw)},a.serialize=function(){return h.rlp.encode(a.raw)},b.forEach(function(b,c){function e(){return a.raw[c]}function g(e){"00"!==(e=(0,i.toBuffer)(e)).toString("hex")||b.allowZero||(e=d.allocUnsafe(0)),b.allowLess&&b.length?(e=(0,i.unpadBuffer)(e),(0,f.default)(b.length>=e.length,"The field ".concat(b.name," must not have more ").concat(b.length," bytes"))):!(b.allowZero&&0===e.length)&&b.length&&(0,f.default)(b.length===e.length,"The field ".concat(b.name," must have byte length of ").concat(b.length)),a.raw[c]=e}a._fields.push(b.name),Object.defineProperty(a,b.name,{enumerable:!0,configurable:!0,get:e,set:g}),b.default&&(a[b.name]=b.default),b.alias&&Object.defineProperty(a,b.alias,{enumerable:!1,configurable:!0,set:g,get:e})}),c){if("string"==typeof c&&(c=d.from((0,g.stripHexPrefix)(c),"hex")),d.isBuffer(c)&&(c=h.rlp.decode(c)),Array.isArray(c)){if(c.length>a._fields.length)throw Error("wrong number of fields in data");c.forEach(function(b,c){a[a._fields[c]]=(0,i.toBuffer)(b)})}else if("object"==typeof c){var e=Object.keys(c);b.forEach(function(b){-1!==e.indexOf(b.name)&&(a[b.name]=c[b.name]),-1!==e.indexOf(b.alias)&&(a[b.alias]=c[b.alias])})}else throw Error("invalid data")}};b.defineProperties=j},68486:function(a,b,c){"use strict";var d=c(48764).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),b.hashPersonalMessage=b.isValidSignature=b.fromRpcSig=b.toCompactSig=b.toRpcSig=b.ecrecover=b.ecsign=void 0;var e=c(95053),f=c(6045),g=c(22599),h=c(5405),i=c(54586),j=c(59949);function k(a,b){var c=(0,j.toType)(a,j.TypeOutput.BN);if(c.eqn(0)||c.eqn(1))return(0,j.toType)(a,j.TypeOutput.BN);if(!b)return c.subn(27);var d=(0,j.toType)(b,j.TypeOutput.BN);return c.sub(d.muln(2).addn(35))}function l(a){var b=new f.BN(a);return b.eqn(0)||b.eqn(1)}b.ecsign=function(a,b,c){var f=(0,e.ecdsaSign)(a,b),g=f.signature,h=f.recid,i=d.from(g.slice(0,32)),k=d.from(g.slice(32,64));if(!c||"number"==typeof c){if(c&&!Number.isSafeInteger(c))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:i,s:k,v:c?h+(2*c+35):h+27}}var l=(0,j.toType)(c,j.TypeOutput.BN).muln(2).addn(35).addn(h).toArrayLike(d);return{r:i,s:k,v:l}};var m=function(a,b,c,f,h){var i=d.concat([(0,g.setLengthLeft)(c,32),(0,g.setLengthLeft)(f,32)],64),j=k(b,h);if(!l(j))throw Error("Invalid signature v value");var m=(0,e.ecdsaRecover)(i,j.toNumber(),a);return d.from((0,e.publicKeyConvert)(m,!1).slice(1))};b.ecrecover=m;var n=function(a,b,c,e){var f=k(a,e);if(!l(f))throw Error("Invalid signature v value");return(0,g.bufferToHex)(d.concat([(0,g.setLengthLeft)(b,32),(0,g.setLengthLeft)(c,32),(0,g.toBuffer)(a)]))};b.toRpcSig=n;var o=function(a,b,c,e){var f=k(a,e);if(!l(f))throw Error("Invalid signature v value");var h=(0,j.toType)(a,j.TypeOutput.Number),i=c;return(h>28&&h%2==1||1===h||28===h)&&(i=d.from(c),i[0]|=128),(0,g.bufferToHex)(d.concat([(0,g.setLengthLeft)(b,32),(0,g.setLengthLeft)(i,32)]))};b.toCompactSig=o;var p=function(a){var b,c,d,e=(0,g.toBuffer)(a);if(e.length>=65)b=e.slice(0,32),c=e.slice(32,64),d=(0,g.bufferToInt)(e.slice(64));else if(64===e.length)b=e.slice(0,32),c=e.slice(32,64),d=(0,g.bufferToInt)(e.slice(32,33))>>7,c[0]&=127;else throw Error("Invalid signature length");return d<27&&(d+=27),{v:d,r:b,s:c}};b.fromRpcSig=p;var q=function(a,b,c,d,e){void 0===d&&(d=!0);var g=new f.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),h=new f.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==b.length||32!==c.length||!l(k(a,e)))return!1;var i=new f.BN(b),j=new f.BN(c);return!(i.isZero()||i.gt(h)||j.isZero()||j.gt(h))&&(!d||1!==j.cmp(g))};b.isValidSignature=q;var r=function(a){(0,i.assertIsBuffer)(a);var b=d.from("\x19Ethereum Signed Message:\n".concat(a.length),"utf-8");return(0,h.keccak)(d.concat([b,a]))};b.hashPersonalMessage=r},59949:function(a,b,c){"use strict";var d,e,f=c(48764).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),b.toType=b.TypeOutput=b.bnToRlp=b.bnToUnpaddedBuffer=b.bnToHex=void 0;var g=c(6045),h=c(78722),i=c(22599);function j(a){return(0,i.unpadBuffer)(a.toArrayLike(f))}function k(a){return j(a)}b.bnToHex=function(a){return"0x".concat(a.toString(16))},b.bnToUnpaddedBuffer=j,b.bnToRlp=k,(d=e=b.TypeOutput||(b.TypeOutput={}))[d.Number=0]="Number",d[d.BN=1]="BN",d[d.Buffer=2]="Buffer",d[d.PrefixedHexString=3]="PrefixedHexString",b.toType=function(a,b){if(null===a)return null;if(void 0!==a){if("string"!=typeof a||(0,h.isHexString)(a)){if("number"==typeof a&&!Number.isSafeInteger(a))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)")}else throw Error("A string must be provided with a 0x-prefix, given: ".concat(a));var c=(0,i.toBuffer)(a);if(b===e.Buffer)return c;if(b===e.BN)return new g.BN(c);if(b!==e.Number)return"0x".concat(c.toString("hex"));var d=new g.BN(c),f=new g.BN(Number.MAX_SAFE_INTEGER.toString());if(d.gt(f))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return d.toNumber()}}},45840:function(a,b,c){if("object"==typeof globalThis)e=globalThis;else try{e=c(284)}catch(d){}finally{if(e||"undefined"==typeof window||(e=window),!e)throw Error("Could not determine global this")}var e,f=e.WebSocket||e.MozWebSocket,g=c(79387);function h(a,b){var c;return b?new f(a,b):new f(a)}f&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(a){Object.defineProperty(h,a,{get:function(){return f[a]}})}),a.exports={w3cwebsocket:f?h:null,version:g}},79387:function(a,b,c){a.exports=c(19794).version},19794:function(a){"use strict";a.exports={version:"1.0.34"}}}])