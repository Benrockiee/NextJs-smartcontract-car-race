"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{59917:function(a,b,c){c.d(b,{RG:function(){return dJ},ew:function(){return dI},nh:function(){return by}});var d,e,f,g=c(97442),h=c.n(g),i=c(64285),j=c(13550),k=c.n(j),l=c(77191),m=c.n(l),n=c(25532),o=c(39386),p=c(40475),q=c(53471),r=c(83937),s=c(31198),t=c.n(s),u=c(17221),v=c.n(u),w=c(91094),x=c.n(w);let y=a=>i.lW.isBuffer(a)?a:a instanceof Uint8Array?i.lW.from(a.buffer,a.byteOffset,a.byteLength):i.lW.from(a);var z={},A={},B=C;function C(a,b){if(!a)throw Error(b||"Assertion failed")}C.equal=function(a,b,c){if(a!=b)throw Error(c||"Assertion failed: "+a+" != "+b)};var D={exports:{}};"function"==typeof Object.create?D.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:D.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}};var E=B,F=D.exports;function G(a,b){return(64512&a.charCodeAt(b))==55296&&!(b<0)&&!(b+1>=a.length)&&(64512&a.charCodeAt(b+1))==56320}function H(a){return(a>>>24|a>>>8&65280|a<<8&16711680|(255&a)<<24)>>>0}function I(a){return 1===a.length?"0"+a:a}function J(a){if(7===a.length)return"0"+a;if(6===a.length)return"00"+a;if(5===a.length)return"000"+a;if(4===a.length)return"0000"+a;if(3===a.length)return"00000"+a;else if(2===a.length)return"000000"+a;else if(1===a.length)return"0000000"+a;else return a}function K(a,b,c,d){return b+d>>>0}function L(a,b,c,d,e,f,g,h){return b+d+f+h>>>0}function M(a,b,c,d,e,f,g,h,i,j){return b+d+f+h+j>>>0}function N(a,b,c){return a>>>c}A.inherits=F,A.toArray=function(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if("string"==typeof a){if(b){if("hex"===b)for((a=a.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(a="0"+a),e=0;e<a.length;e+=2)c.push(parseInt(a[e]+a[e+1],16))}else for(var d=0,e=0;e<a.length;e++){var f=a.charCodeAt(e);f<128?c[d++]=f:f<2048?(c[d++]=f>>6|192,c[d++]=63&f|128):G(a,e)?(f=65536+((1023&f)<<10)+(1023&a.charCodeAt(++e)),c[d++]=f>>18|240,c[d++]=f>>12&63|128,c[d++]=f>>6&63|128,c[d++]=63&f|128):(c[d++]=f>>12|224,c[d++]=f>>6&63|128,c[d++]=63&f|128)}}else for(e=0;e<a.length;e++)c[e]=0|a[e];return c},A.toHex=function(a){for(var b="",c=0;c<a.length;c++)b+=I(a[c].toString(16));return b},A.htonl=H,A.toHex32=function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];"little"===b&&(e=H(e)),c+=J(e.toString(16))}return c},A.zero2=I,A.zero8=J,A.join32=function(a,b,c,d){var e,f=c-b;E(f%4==0);for(var g=Array(f/4),h=0,i=b;h<g.length;h++,i+=4)e="big"===d?a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]:a[i+3]<<24|a[i+2]<<16|a[i+1]<<8|a[i],g[h]=e>>>0;return g},A.split32=function(a,b){for(var c=Array(4*a.length),d=0,e=0;d<a.length;d++,e+=4){var f=a[d];"big"===b?(c[e]=f>>>24,c[e+1]=f>>>16&255,c[e+2]=f>>>8&255,c[e+3]=255&f):(c[e+3]=f>>>24,c[e+2]=f>>>16&255,c[e+1]=f>>>8&255,c[e]=255&f)}return c},A.rotr32=function(a,b){return a>>>b|a<<32-b},A.rotl32=function(a,b){return a<<b|a>>>32-b},A.sum32=function(a,b){return a+b>>>0},A.sum32_3=function(a,b,c){return a+b+c>>>0},A.sum32_4=function(a,b,c,d){return a+b+c+d>>>0},A.sum32_5=function(a,b,c,d,e){return a+b+c+d+e>>>0},A.sum64=function(a,b,c,d){var e=a[b],f=a[b+1],g=d+f>>>0;a[b]=(g<d?1:0)+c+e>>>0,a[b+1]=g},A.sum64_hi=function(a,b,c,d){return(b+d>>>0<b?1:0)+a+c>>>0},A.sum64_lo=K,A.sum64_4_hi=function(a,b,c,d,e,f,g,h){var i,j=0,k=b;return j+=(k=k+d>>>0)<b?1:0,k=k+f>>>0,j+=k<f?1:0,k=k+h>>>0,a+c+e+g+(j+=k<h?1:0)>>>0},A.sum64_4_lo=L,A.sum64_5_hi=function(a,b,c,d,e,f,g,h,i,j){var k,l=0,m=b;return l+=(m=m+d>>>0)<b?1:0,m=m+f>>>0,l+=m<f?1:0,m=m+h>>>0,l+=m<h?1:0,m=m+j>>>0,a+c+e+g+i+(l+=m<j?1:0)>>>0},A.sum64_5_lo=M,A.rotr64_hi=function(a,b,c){return(b<<32-c|a>>>c)>>>0},A.rotr64_lo=function(a,b,c){return(a<<32-c|b>>>c)>>>0},A.shr64_hi=N,A.shr64_lo=function(a,b,c){return(a<<32-c|b>>>c)>>>0};var O={},P=A,Q=B;function R(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}O.BlockHash=R,R.prototype.update=function(a,b){if(a=P.toArray(a,b),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var c=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-c,a.length),0===this.pending.length&&(this.pending=null),a=P.join32(a,0,a.length-c,this.endian);for(var d=0;d<a.length;d+=this._delta32)this._update(a,d,d+this._delta32)}return this},R.prototype.digest=function(a){return this.update(this._pad()),Q(null===this.pending),this._digest(a)},R.prototype._pad=function(){var a=this.pendingTotal,b=this._delta8,c=b-(a+this.padLength)%b,d=Array(c+this.padLength);d[0]=128;for(var e=1;e<c;e++)d[e]=0;if(a<<=3,"big"===this.endian){for(var f=8;f<this.padLength;f++)d[e++]=0;d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=a>>>24&255,d[e++]=a>>>16&255,d[e++]=a>>>8&255,d[e++]=255&a}else for(f=8,d[e++]=255&a,d[e++]=a>>>8&255,d[e++]=a>>>16&255,d[e++]=a>>>24&255,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0;f<this.padLength;f++)d[e++]=0;return d};var S={},T={},U=A.rotr32;function V(a,b,c){return a&b^ ~a&c}function W(a,b,c){return a&b^a&c^b&c}function X(a,b,c){return a^b^c}T.ft_1=function(a,b,c,d){var e,f,g,h,i,j;return 0===a?(e=b,f=c,g=d,e&f^ ~e&g):1===a||3===a?(h=b,i=c,j=d,h^i^j):2===a?W(b,c,d):void 0},T.ch32=V,T.maj32=W,T.p32=X,T.s0_256=function(a){return U(a,2)^U(a,13)^U(a,22)},T.s1_256=function(a){return U(a,6)^U(a,11)^U(a,25)},T.g0_256=function(a){return U(a,7)^U(a,18)^a>>>3},T.g1_256=function(a){return U(a,17)^U(a,19)^a>>>10};var Y=A,Z=Y.rotl32,$=Y.sum32,_=Y.sum32_5,aa=T.ft_1,ab=O.BlockHash,ac=[1518500249,1859775393,2400959708,3395469782];function ad(){if(!(this instanceof ad))return new ad;ab.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}Y.inherits(ad,ab),ad.blockSize=512,ad.outSize=160,ad.hmacStrength=80,ad.padLength=64,ad.prototype._update=function(a,b){for(var c=this.W,d=0;d<16;d++)c[d]=a[b+d];for(;d<c.length;d++)c[d]=Z(c[d-3]^c[d-8]^c[d-14]^c[d-16],1);var e=this.h[0],f=this.h[1],g=this.h[2],h=this.h[3],i=this.h[4];for(d=0;d<c.length;d++){var j=~~(d/20),k=_(Z(e,5),aa(j,f,g,h),i,c[d],ac[j]);i=h,h=g,g=Z(f,30),f=e,e=k}this.h[0]=$(this.h[0],e),this.h[1]=$(this.h[1],f),this.h[2]=$(this.h[2],g),this.h[3]=$(this.h[3],h),this.h[4]=$(this.h[4],i)},ad.prototype._digest=function(a){return"hex"===a?Y.toHex32(this.h,"big"):Y.split32(this.h,"big")};var ae=A,af=T,ag=B,ah=ae.sum32,ai=ae.sum32_4,aj=ae.sum32_5,ak=af.ch32,al=af.maj32,am=af.s0_256,an=af.s1_256,ao=af.g0_256,ap=af.g1_256,aq=O.BlockHash,ar=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function as(){if(!(this instanceof as))return new as;aq.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ar,this.W=Array(64)}ae.inherits(as,aq);var at=as;as.blockSize=512,as.outSize=256,as.hmacStrength=192,as.padLength=64,as.prototype._update=function(a,b){for(var c=this.W,d=0;d<16;d++)c[d]=a[b+d];for(;d<c.length;d++)c[d]=ai(ap(c[d-2]),c[d-7],ao(c[d-15]),c[d-16]);var e=this.h[0],f=this.h[1],g=this.h[2],h=this.h[3],i=this.h[4],j=this.h[5],k=this.h[6],l=this.h[7];for(ag(this.k.length===c.length),d=0;d<c.length;d++){var m=aj(l,an(i),ak(i,j,k),this.k[d],c[d]),n=ah(am(e),al(e,f,g));l=k,k=j,j=i,i=ah(h,m),h=g,g=f,f=e,e=ah(m,n)}this.h[0]=ah(this.h[0],e),this.h[1]=ah(this.h[1],f),this.h[2]=ah(this.h[2],g),this.h[3]=ah(this.h[3],h),this.h[4]=ah(this.h[4],i),this.h[5]=ah(this.h[5],j),this.h[6]=ah(this.h[6],k),this.h[7]=ah(this.h[7],l)},as.prototype._digest=function(a){return"hex"===a?ae.toHex32(this.h,"big"):ae.split32(this.h,"big")};var au=A,av=at;function aw(){if(!(this instanceof aw))return new aw;av.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}au.inherits(aw,av),aw.blockSize=512,aw.outSize=224,aw.hmacStrength=192,aw.padLength=64,aw.prototype._digest=function(a){return"hex"===a?au.toHex32(this.h.slice(0,7),"big"):au.split32(this.h.slice(0,7),"big")};var ax=A,ay=B,az=ax.rotr64_hi,aA=ax.rotr64_lo,aB=ax.shr64_hi,aC=ax.shr64_lo,aD=ax.sum64,aE=ax.sum64_hi,aF=ax.sum64_lo,aG=ax.sum64_4_hi,aH=ax.sum64_4_lo,aI=ax.sum64_5_hi,aJ=ax.sum64_5_lo,aK=O.BlockHash,aL=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function aM(){if(!(this instanceof aM))return new aM;aK.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=aL,this.W=Array(160)}ax.inherits(aM,aK);var aN=aM;function aO(a,b,c,d,e){var f=a&c^ ~a&e;return f<0&&(f+=4294967296),f}function aP(a,b,c,d,e,f){var g=b&d^ ~b&f;return g<0&&(g+=4294967296),g}function aQ(a,b,c,d,e){var f=a&c^a&e^c&e;return f<0&&(f+=4294967296),f}function aR(a,b,c,d,e,f){var g=b&d^b&f^d&f;return g<0&&(g+=4294967296),g}function aS(a,b){var c=az(a,b,28),d=az(b,a,2),e=az(b,a,7),f=c^d^e;return f<0&&(f+=4294967296),f}function aT(a,b){var c=aA(a,b,28),d=aA(b,a,2),e=aA(b,a,7),f=c^d^e;return f<0&&(f+=4294967296),f}function aU(a,b){var c=az(a,b,14),d=az(a,b,18),e=az(b,a,9),f=c^d^e;return f<0&&(f+=4294967296),f}function aV(a,b){var c=aA(a,b,14),d=aA(a,b,18),e=aA(b,a,9),f=c^d^e;return f<0&&(f+=4294967296),f}function aW(a,b){var c=az(a,b,1),d=az(a,b,8),e=aB(a,b,7),f=c^d^e;return f<0&&(f+=4294967296),f}function aX(a,b){var c=aA(a,b,1),d=aA(a,b,8),e=aC(a,b,7),f=c^d^e;return f<0&&(f+=4294967296),f}function aY(a,b){var c=az(a,b,19),d=az(b,a,29),e=aB(a,b,6),f=c^d^e;return f<0&&(f+=4294967296),f}function aZ(a,b){var c=aA(a,b,19),d=aA(b,a,29),e=aC(a,b,6),f=c^d^e;return f<0&&(f+=4294967296),f}aM.blockSize=1024,aM.outSize=512,aM.hmacStrength=192,aM.padLength=128,aM.prototype._prepareBlock=function(a,b){for(var c=this.W,d=0;d<32;d++)c[d]=a[b+d];for(;d<c.length;d+=2){var e=aY(c[d-4],c[d-3]),f=aZ(c[d-4],c[d-3]),g=c[d-14],h=c[d-13],i=aW(c[d-30],c[d-29]),j=aX(c[d-30],c[d-29]),k=c[d-32],l=c[d-31];c[d]=aG(e,f,g,h,i,j,k,l),c[d+1]=aH(e,f,g,h,i,j,k,l)}},aM.prototype._update=function(a,b){this._prepareBlock(a,b);var c=this.W,d=this.h[0],e=this.h[1],f=this.h[2],g=this.h[3],h=this.h[4],i=this.h[5],j=this.h[6],k=this.h[7],l=this.h[8],m=this.h[9],n=this.h[10],o=this.h[11],p=this.h[12],q=this.h[13],r=this.h[14],s=this.h[15];ay(this.k.length===c.length);for(var t=0;t<c.length;t+=2){var u=r,v=s,w=aU(l,m),x=aV(l,m),y=aO(l,m,n,o,p),z=aP(l,m,n,o,p,q),A=this.k[t],B=this.k[t+1],C=c[t],D=c[t+1],E=aI(u,v,w,x,y,z,A,B,C,D),F=aJ(u,v,w,x,y,z,A,B,C,D);u=aS(d,e),v=aT(d,e),w=aQ(d,e,f,g,h);var G=aE(u,v,w,x=aR(d,e,f,g,h,i)),H=aF(u,v,w,x);r=p,s=q,p=n,q=o,n=l,o=m,l=aE(j,k,E,F),m=aF(k,k,E,F),j=h,k=i,h=f,i=g,f=d,g=e,d=aE(E,F,G,H),e=aF(E,F,G,H)}aD(this.h,0,d,e),aD(this.h,2,f,g),aD(this.h,4,h,i),aD(this.h,6,j,k),aD(this.h,8,l,m),aD(this.h,10,n,o),aD(this.h,12,p,q),aD(this.h,14,r,s)},aM.prototype._digest=function(a){return"hex"===a?ax.toHex32(this.h,"big"):ax.split32(this.h,"big")};var a$=A,a_=aN;function a0(){if(!(this instanceof a0))return new a0;a_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a$.inherits(a0,a_),a0.blockSize=1024,a0.outSize=384,a0.hmacStrength=192,a0.padLength=128,a0.prototype._digest=function(a){return"hex"===a?a$.toHex32(this.h.slice(0,12),"big"):a$.split32(this.h.slice(0,12),"big")},S.sha1=ad,S.sha224=aw,S.sha256=at,S.sha384=a0,S.sha512=aN;var a1={},a2=A,a3=a2.rotl32,a4=a2.sum32,a5=a2.sum32_3,a6=a2.sum32_4,a7=O.BlockHash;function a8(){if(!(this instanceof a8))return new a8;a7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function a9(a,b,c,d){return a<=15?b^c^d:a<=31?b&c| ~b&d:a<=47?(b| ~c)^d:a<=63?b&d|c& ~d:b^(c| ~d)}function ba(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function bb(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}a2.inherits(a8,a7),a1.ripemd160=a8,a8.blockSize=512,a8.outSize=160,a8.hmacStrength=192,a8.padLength=64,a8.prototype._update=function(a,b){for(var c=this.h[0],d=this.h[1],e=this.h[2],f=this.h[3],g=this.h[4],h=c,i=d,j=e,k=f,l=g,m=0;m<80;m++){var n=a4(a3(a6(c,a9(m,d,e,f),a[bc[m]+b],ba(m)),be[m]),g);c=g,g=f,f=a3(e,10),e=d,d=n,n=a4(a3(a6(h,a9(79-m,i,j,k),a[bd[m]+b],bb(m)),bf[m]),l),h=l,l=k,k=a3(j,10),j=i,i=n}n=a5(this.h[1],e,k),this.h[1]=a5(this.h[2],f,l),this.h[2]=a5(this.h[3],g,h),this.h[3]=a5(this.h[4],c,i),this.h[4]=a5(this.h[0],d,j),this.h[0]=n},a8.prototype._digest=function(a){return"hex"===a?a2.toHex32(this.h,"little"):a2.split32(this.h,"little")};var bc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],bd=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],be=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bf=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],bg=A,bh=B;function bi(a,b,c){if(!(this instanceof bi))return new bi(a,b,c);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(bg.toArray(b,c))}bi.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),bh(a.length<=this.blockSize);for(var b=a.length;b<this.blockSize;b++)a.push(0);for(b=0;b<a.length;b++)a[b]^=54;for(b=0,this.inner=new this.Hash().update(a);b<a.length;b++)a[b]^=106;this.outer=new this.Hash().update(a)},bi.prototype.update=function(a,b){return this.inner.update(a,b),this},bi.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},(cb=ca=z).utils=A,cb.common=O,cb.sha=S,cb.ripemd=a1,cb.hmac=bi,cb.sha1=cb.sha.sha1,cb.sha256=cb.sha.sha256,cb.sha224=cb.sha.sha224,cb.sha384=cb.sha.sha384,cb.sha512=cb.sha.sha512,cb.ripemd160=cb.ripemd.ripemd160;var bj=z;let bk=!1,bl=!1,bm={debug:1,default:2,info:2,warning:3,error:4,off:5},bn=bm.default,bo=null,bp=function(){try{let a=[];if(["NFD","NFC","NFKD","NFKC"].forEach(b=>{try{if("test"!=="test".normalize(b))throw Error("bad normalize")}catch(c){a.push(b)}}),a.length)throw Error("missing "+a.join(", "));if("\xe9".normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(b){return b.message}return null}();(cc=d||(d={})).DEBUG="DEBUG",cc.INFO="INFO",cc.WARNING="WARNING",cc.ERROR="ERROR",cc.OFF="OFF",(cd=e||(e={})).UNKNOWN_ERROR="UNKNOWN_ERROR",cd.NOT_IMPLEMENTED="NOT_IMPLEMENTED",cd.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",cd.NETWORK_ERROR="NETWORK_ERROR",cd.SERVER_ERROR="SERVER_ERROR",cd.TIMEOUT="TIMEOUT",cd.BUFFER_OVERRUN="BUFFER_OVERRUN",cd.NUMERIC_FAULT="NUMERIC_FAULT",cd.MISSING_NEW="MISSING_NEW",cd.INVALID_ARGUMENT="INVALID_ARGUMENT",cd.MISSING_ARGUMENT="MISSING_ARGUMENT",cd.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",cd.CALL_EXCEPTION="CALL_EXCEPTION",cd.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",cd.NONCE_EXPIRED="NONCE_EXPIRED",cd.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",cd.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",cd.TRANSACTION_REPLACED="TRANSACTION_REPLACED";let bq="0123456789abcdef";class br{constructor(a){Object.defineProperty(this,"version",{enumerable:!0,value:a,writable:!1})}_log(a,b){let c=a.toLowerCase();null==bm[c]&&this.throwArgumentError("invalid log level name","logLevel",a),!(bn>bm[c])&&console.log.apply(console,b)}debug(...a){this._log(br.levels.DEBUG,a)}info(...a){this._log(br.levels.INFO,a)}warn(...a){this._log(br.levels.WARNING,a)}makeError(a,b,c){if(bl)return this.makeError("censored error",b,{});b||(b=br.errors.UNKNOWN_ERROR),c||(c={});let d=[];Object.keys(c).forEach(a=>{let b=c[a];try{if(b instanceof Uint8Array){let e="";for(let f=0;f<b.length;f++)e+=bq[b[f]>>4],e+=bq[15&b[f]];d.push(a+"=Uint8Array(0x"+e+")")}else d.push(a+"="+JSON.stringify(b))}catch(g){d.push(a+"="+JSON.stringify(c[a].toString()))}}),d.push(`code=${b}`),d.push(`version=${this.version}`);let f=a,g="";switch(b){case e.NUMERIC_FAULT:{g="NUMERIC_FAULT";let h=a;switch(h){case"overflow":case"underflow":case"division-by-zero":g+="-"+h;break;case"negative-power":case"negative-width":g+="-unsupported";break;case"unbound-bitwise-result":g+="-unbound-result"}break}case e.CALL_EXCEPTION:case e.INSUFFICIENT_FUNDS:case e.MISSING_NEW:case e.NONCE_EXPIRED:case e.REPLACEMENT_UNDERPRICED:case e.TRANSACTION_REPLACED:case e.UNPREDICTABLE_GAS_LIMIT:g=b}g&&(a+=" [ See: https://links.ethers.org/v5-errors-"+g+" ]"),d.length&&(a+=" ("+d.join(", ")+")");let i=Error(a);return i.reason=f,i.code=b,Object.keys(c).forEach(function(a){i[a]=c[a]}),i}throwError(a,b,c){throw this.makeError(a,b,c)}throwArgumentError(a,b,c){return this.throwError(a,br.errors.INVALID_ARGUMENT,{argument:b,value:c})}assert(a,b,c,d){!a&&this.throwError(b,c,d)}assertArgument(a,b,c,d){!a&&this.throwArgumentError(b,c,d)}checkNormalize(a){bp&&this.throwError("platform missing String.prototype.normalize",br.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:bp})}checkSafeUint53(a,b){"number"==typeof a&&(null==b&&(b="value not safe"),(a<0||a>=9007199254740991)&&this.throwError(b,br.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:a}),a%1&&this.throwError(b,br.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:a}))}checkArgumentCount(a,b,c){c=c?": "+c:"",a<b&&this.throwError("missing argument"+c,br.errors.MISSING_ARGUMENT,{count:a,expectedCount:b}),a>b&&this.throwError("too many arguments"+c,br.errors.UNEXPECTED_ARGUMENT,{count:a,expectedCount:b})}checkNew(a,b){(a===Object||null==a)&&this.throwError("missing new",br.errors.MISSING_NEW,{name:b.name})}checkAbstract(a,b){a===b?this.throwError("cannot instantiate abstract class "+JSON.stringify(b.name)+" directly; use a sub-class",br.errors.UNSUPPORTED_OPERATION,{name:a.name,operation:"new"}):(a===Object||null==a)&&this.throwError("missing new",br.errors.MISSING_NEW,{name:b.name})}static globalLogger(){return bo||(bo=new br("logger/5.6.0")),bo}static setCensorship(a,b){if(!a&&b&&this.globalLogger().throwError("cannot permanently disable censorship",br.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),bk){if(!a)return;this.globalLogger().throwError("error censorship permanent",br.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}bl=!!a,bk=!!b}static setLogLevel(a){let b=bm[a.toLowerCase()];if(null==b){br.globalLogger().warn("invalid log level - "+a);return}bn=b}static from(a){return new br(a)}}br.errors=e,br.levels=d;let bs=new br("bytes/5.6.0");function bt(a){return a.slice||(a.slice=function(){let b=Array.prototype.slice.call(arguments);return bt(new Uint8Array(Array.prototype.slice.apply(a,b)))}),a}function bu(a){return"number"==typeof a&&a==a&&a%1==0}function bv(a){return"0x"+bj.sha256().update(function(a,b){var c,d,e;if(b||(b={}),"number"==typeof a){bs.checkSafeUint53(a,"invalid arrayify value");let f=[];for(;a;)f.unshift(255&a),a=parseInt(String(a/256));return 0===f.length&&f.push(0),bt(new Uint8Array(f))}if(b.allowMissingPrefix&&"string"==typeof a&&"0x"!==a.substring(0,2)&&(a="0x"+a),(c=a).toHexString&&(a=a.toHexString()),d=a,"string"==typeof d&&d.match(/^0x[0-9A-Fa-f]*$/)&&(!e||d.length===2+2*e)){let g=a.substring(2);g.length%2&&("left"===b.hexPad?g="0x0"+g.substring(2):"right"===b.hexPad?g+="0":bs.throwArgumentError("hex data is odd-length","value",a));let h=[];for(let i=0;i<g.length;i+=2)h.push(parseInt(g.substring(i,i+2),16));return bt(new Uint8Array(h))}return!function(a){if(null==a)return!1;if(a.constructor===Uint8Array)return!0;if("string"==typeof a||!bu(a.length)||a.length<0)return!1;for(let b=0;b<a.length;b++){let c=a[b];if(!bu(c)||c<0||c>=256)return!1}return!0}(a)?bs.throwArgumentError("invalid arrayify value","value",a):bt(new Uint8Array(a))}(a)).digest("hex")}new br("sha2/5.6.0");class bw{constructor(a){Object.assign(this,a)}encode(){return i.lW.from((0,n.serialize)(bx,this))}static decode(a){return(0,n.deserialize)(bx,this,a)}static decodeUnchecked(a){return(0,n.deserializeUnchecked)(bx,this,a)}}let bx=new Map;class by extends bw{constructor(a){var b;if(super({}),this._bn=void 0,void 0!==(b=a)._bn)this._bn=a._bn;else{if("string"==typeof a){let c=m().decode(a);if(32!=c.length)throw Error("Invalid public key input");this._bn=new(k())(c)}else this._bn=new(k())(a);if(this._bn.byteLength()>32)throw Error("Invalid public key input")}}equals(a){return this._bn.eq(a._bn)}toBase58(){return m().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){let a=this._bn.toArrayLike(i.lW);if(32===a.length)return a;let b=i.lW.alloc(32);return a.copy(b,32-a.length),b}toString(){return this.toBase58()}static async createWithSeed(a,b,c){let d=i.lW.concat([a.toBuffer(),i.lW.from(b),c.toBuffer()]),e=bv(new Uint8Array(d)).slice(2);return new by(i.lW.from(e,"hex"))}static createProgramAddressSync(a,b){let c=i.lW.alloc(0);a.forEach(function(a){if(a.length>32)throw TypeError("Max seed length exceeded");c=i.lW.concat([c,y(a)])}),c=i.lW.concat([c,b.toBuffer(),i.lW.from("ProgramDerivedAddress")]);let d=bv(new Uint8Array(c)).slice(2),e=new(k())(d,16).toArray(void 0,32);if(bA(e))throw Error("Invalid seeds, address must fall off the curve");return new by(e)}static async createProgramAddress(a,b){return this.createProgramAddressSync(a,b)}static findProgramAddressSync(a,b){let c=255,d;for(;0!=c;){try{let e=a.concat(i.lW.from([c]));d=this.createProgramAddressSync(e,b)}catch(f){if(f instanceof TypeError)throw f;c--;continue}return[d,c]}throw Error("Unable to find a viable program address nonce")}static async findProgramAddress(a,b){return this.findProgramAddressSync(a,b)}static isOnCurve(a){let b=new by(a);return 1==bA(b.toBytes())}}by.default=new by("11111111111111111111111111111111"),bx.set(by,{kind:"struct",fields:[["_bn","u256"]]});let bz=h().lowlevel;function bA(a){var b=[bz.gf(),bz.gf(),bz.gf(),bz.gf()],c=bz.gf(),d=bz.gf(),e=bz.gf(),f=bz.gf(),g=bz.gf(),h=bz.gf(),i=bz.gf();return(bz.set25519(b[2],bB),bz.unpack25519(b[1],a),bz.S(e,b[1]),bz.M(f,e,bz.D),bz.Z(e,e,b[2]),bz.A(f,b[2],f),bz.S(g,f),bz.S(h,g),bz.M(i,h,g),bz.M(c,i,e),bz.M(c,c,f),bz.pow2523(c,c),bz.M(c,c,e),bz.M(c,c,f),bz.M(c,c,f),bz.M(b[0],c,f),bz.S(d,b[0]),bz.M(d,d,f),bD(d,e)&&bz.M(b[0],b[0],bC),bz.S(d,b[0]),bz.M(d,d,f),bD(d,e))?0:1}let bB=bz.gf([1]),bC=bz.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function bD(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);return bz.pack25519(c,a),bz.pack25519(d,b),bz.crypto_verify_32(c,0,d,0)}new by("BPFLoader1111111111111111111111111111111111");let bE=1232,bF=64;class bG extends Error{constructor(a){super(`Signature ${a} has expired: block height exceeded.`),this.signature=void 0,this.signature=a}}Object.defineProperty(bG.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class bH extends Error{constructor(a,b){super(`Transaction was not confirmed in ${b.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${a} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=a}}Object.defineProperty(bH.prototype,"name",{value:"TransactionExpiredTimeoutError"});let bI=(a="publicKey")=>o.Ik(32,a),bJ=(a="string")=>{let b=o.n_([o.Jq("length"),o.Jq("lengthPadding"),o.Ik(o.cv(o.Jq(),-8),"chars")],a),c=b.decode.bind(b),d=b.encode.bind(b),e=b;return e.decode=(a,b)=>{let d=c(a,b);return d.chars.toString()},e.encode=(a,b,c)=>{let e={chars:i.lW.from(a,"utf8")};return d(e,b,c)},e.alloc=a=>o.Jq().span+o.Jq().span+i.lW.from(a,"utf8").length,e};function bK(a){let b=0,c=0;for(;;){let d=a.shift();if(b|=(127&d)<<7*c,c+=1,(128&d)==0)break}return b}function bL(a,b){let c=b;for(;;){let d=127&c;if(0==(c>>=7)){a.push(d);break}d|=128,a.push(d)}}let bM=32;class bN{constructor(a){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=a.header,this.accountKeys=a.accountKeys.map(a=>new by(a)),this.recentBlockhash=a.recentBlockhash,this.instructions=a.instructions,this.instructions.forEach(a=>this.indexToProgramIds.set(a.programIdIndex,this.accountKeys[a.programIdIndex]))}isAccountSigner(a){return a<this.header.numRequiredSignatures}isAccountWritable(a){return a<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||a>=this.header.numRequiredSignatures&&a<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(a){return this.indexToProgramIds.has(a)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((a,b)=>!this.isProgramId(b))}serialize(){let a=this.accountKeys.length,b=[];bL(b,a);let c=this.instructions.map(a=>{let{accounts:b,programIdIndex:c}=a,d=Array.from(m().decode(a.data)),e=[];bL(e,b.length);let f=[];return bL(f,d.length),{programIdIndex:c,keyIndicesCount:i.lW.from(e),keyIndices:b,dataLength:i.lW.from(f),data:d}}),d=[];bL(d,c.length);let e=i.lW.alloc(bE);i.lW.from(d).copy(e);let f=d.length;c.forEach(a=>{let b=o.n_([o.u8("programIdIndex"),o.Ik(a.keyIndicesCount.length,"keyIndicesCount"),o.A9(o.u8("keyIndex"),a.keyIndices.length,"keyIndices"),o.Ik(a.dataLength.length,"dataLength"),o.A9(o.u8("userdatum"),a.data.length,"data")]),c=b.encode(a,e,f);f+=c}),e=e.slice(0,f);let g=o.n_([o.Ik(1,"numRequiredSignatures"),o.Ik(1,"numReadonlySignedAccounts"),o.Ik(1,"numReadonlyUnsignedAccounts"),o.Ik(b.length,"keyCount"),o.A9(bI("key"),a,"keys"),bI("recentBlockhash")]),h={numRequiredSignatures:i.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.lW.from(b),keys:this.accountKeys.map(a=>y(a.toBytes())),recentBlockhash:m().decode(this.recentBlockhash)},j=i.lW.alloc(2048),k=g.encode(h,j);return e.copy(j,k),j.slice(0,k+e.length)}static from(a){let b=[...a],c=b.shift(),d=b.shift(),e=b.shift(),f=bK(b),g=[];for(let h=0;h<f;h++){let j=b.slice(0,bM);b=b.slice(bM),g.push(m().encode(i.lW.from(j)))}let k=b.slice(0,bM);b=b.slice(bM);let l=bK(b),n=[];for(let o=0;o<l;o++){let p=b.shift(),q=bK(b),r=b.slice(0,q);b=b.slice(q);let s=bK(b),t=b.slice(0,s),u=m().encode(i.lW.from(t));b=b.slice(s),n.push({programIdIndex:p,accounts:r,data:u})}let v={header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:e},recentBlockhash:m().encode(i.lW.from(k)),accountKeys:g,instructions:n};return new bN(v)}}function bO(a,b){if(!a)throw Error(b||"Assertion failed")}let bP;(ce=bP||(bP={}))[ce.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",ce[ce.PROCESSED=1]="PROCESSED",ce[ce.TIMED_OUT=2]="TIMED_OUT";let bQ=i.lW.alloc(bF).fill(0);class bR{constructor(a){this.keys=void 0,this.programId=void 0,this.data=i.lW.alloc(0),this.programId=a.programId,this.keys=a.keys,a.data&&(this.data=a.data)}toJSON(){return{keys:this.keys.map(({pubkey:a,isSigner:b,isWritable:c})=>({pubkey:a.toJSON(),isSigner:b,isWritable:c})),programId:this.programId.toJSON(),data:[...this.data]}}}class bS{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(a){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!a)return;if(a.feePayer&&(this.feePayer=a.feePayer),a.signatures&&(this.signatures=a.signatures),Object.prototype.hasOwnProperty.call(a,"lastValidBlockHeight")){let{blockhash:b,lastValidBlockHeight:c}=a;this.recentBlockhash=b,this.lastValidBlockHeight=c}else{let{recentBlockhash:d,nonceInfo:e}=a;e&&(this.nonceInfo=e),this.recentBlockhash=d}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(a=>a.toJSON()),signers:this.signatures.map(({publicKey:a})=>a.toJSON())}}add(...a){if(0===a.length)throw Error("No instructions");return a.forEach(a=>{"instructions"in a?this.instructions=this.instructions.concat(a.instructions):"data"in a&&"programId"in a&&"keys"in a?this.instructions.push(a):this.instructions.push(new bR(a))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let a,b;if(this.nonceInfo?(a=this.nonceInfo.nonce,b=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(a=this.recentBlockhash,b=this.instructions),!a)throw Error("Transaction recentBlockhash required");b.length<1&&console.warn("No instructions provided");let c;if(this.feePayer)c=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)c=this.signatures[0].publicKey;else throw Error("Transaction fee payer required");for(let d=0;d<b.length;d++)if(void 0===b[d].programId)throw Error(`Transaction instruction index ${d} has undefined program id`);let e=[],f=[];b.forEach(a=>{a.keys.forEach(a=>{f.push({...a})});let b=a.programId.toString();e.includes(b)||e.push(b)}),e.forEach(a=>{f.push({pubkey:new by(a),isSigner:!1,isWritable:!1})});let g=[];f.forEach(a=>{let b=a.pubkey.toString(),c=g.findIndex(a=>a.pubkey.toString()===b);c> -1?(g[c].isWritable=g[c].isWritable||a.isWritable,g[c].isSigner=g[c].isSigner||a.isSigner):g.push(a)}),g.sort(function(a,b){return a.isSigner!==b.isSigner?a.isSigner?-1:1:a.isWritable!==b.isWritable?a.isWritable?-1:1:a.pubkey.toBase58().localeCompare(b.pubkey.toBase58())});let h=g.findIndex(a=>a.pubkey.equals(c));if(h> -1){let[i]=g.splice(h,1);i.isSigner=!0,i.isWritable=!0,g.unshift(i)}else g.unshift({pubkey:c,isSigner:!0,isWritable:!0});for(let j of this.signatures){let k=g.findIndex(a=>a.pubkey.equals(j.publicKey));if(k> -1)g[k].isSigner||(g[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw Error(`unknown signer: ${j.publicKey.toString()}`)}let l=0,n=0,o=0,p=[],q=[];g.forEach(({pubkey:a,isSigner:b,isWritable:c})=>{b?(p.push(a.toString()),l+=1,c||(n+=1)):(q.push(a.toString()),c||(o+=1))});let r=p.concat(q),s=b.map(a=>{let{data:b,programId:c}=a;return{programIdIndex:r.indexOf(c.toString()),accounts:a.keys.map(a=>r.indexOf(a.pubkey.toString())),data:m().encode(b)}});return s.forEach(a=>{bO(a.programIdIndex>=0),a.accounts.forEach(a=>bO(a>=0))}),new bN({header:{numRequiredSignatures:l,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:o},accountKeys:r,recentBlockhash:a,instructions:s})}_compile(){let a=this.compileMessage(),b=a.accountKeys.slice(0,a.header.numRequiredSignatures);if(this.signatures.length===b.length){let c=this.signatures.every((a,c)=>b[c].equals(a.publicKey));if(c)return a}return this.signatures=b.map(a=>({signature:null,publicKey:a})),a}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(a){return(await a.getFeeForMessage(this.compileMessage())).value}setSigners(...a){if(0===a.length)throw Error("No signers");let b=new Set;this.signatures=a.filter(a=>{let c=a.toString();return!b.has(c)&&(b.add(c),!0)}).map(a=>({signature:null,publicKey:a}))}sign(...a){if(0===a.length)throw Error("No signers");let b=new Set,c=[];for(let d of a){let e=d.publicKey.toString();!b.has(e)&&(b.add(e),c.push(d))}this.signatures=c.map(a=>({signature:null,publicKey:a.publicKey}));let f=this._compile();this._partialSign(f,...c)}partialSign(...a){if(0===a.length)throw Error("No signers");let b=new Set,c=[];for(let d of a){let e=d.publicKey.toString();!b.has(e)&&(b.add(e),c.push(d))}let f=this._compile();this._partialSign(f,...c)}_partialSign(a,...b){let c=a.serialize();b.forEach(a=>{let b=h().sign.detached(c,a.secretKey);this._addSignature(a.publicKey,y(b))})}addSignature(a,b){this._compile(),this._addSignature(a,b)}_addSignature(a,b){bO(64===b.length);let c=this.signatures.findIndex(b=>a.equals(b.publicKey));if(c<0)throw Error(`unknown signer: ${a.toString()}`);this.signatures[c].signature=i.lW.from(b)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(a,b){for(let{signature:c,publicKey:d}of this.signatures)if(null===c){if(b)return!1}else if(!h().sign.detached.verify(a,c,d.toBuffer()))return!1;return!0}serialize(a){let{requireAllSignatures:b,verifySignatures:c}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},a),d=this.serializeMessage();if(c&&!this._verifySignatures(d,b))throw Error("Signature verification failed");return this._serialize(d)}_serialize(a){let{signatures:b}=this,c=[];bL(c,b.length);let d=c.length+64*b.length+a.length,e=i.lW.alloc(d);return bO(b.length<256),i.lW.from(c).copy(e,0),b.forEach(({signature:a},b)=>{null!==a&&(bO(64===a.length,"signature has invalid length"),i.lW.from(a).copy(e,c.length+64*b))}),a.copy(e,c.length+64*b.length),bO(e.length<=bE,`Transaction too large: ${e.length} > ${bE}`),e}get keys(){return bO(1===this.instructions.length),this.instructions[0].keys.map(a=>a.pubkey)}get programId(){return bO(1===this.instructions.length),this.instructions[0].programId}get data(){return bO(1===this.instructions.length),this.instructions[0].data}static from(a){let b=[...a],c=bK(b),d=[];for(let e=0;e<c;e++){let f=b.slice(0,bF);b=b.slice(bF),d.push(m().encode(i.lW.from(f)))}return bS.populate(bN.from(b),d)}static populate(a,b=[]){let c=new bS;return c.recentBlockhash=a.recentBlockhash,a.header.numRequiredSignatures>0&&(c.feePayer=a.accountKeys[0]),b.forEach((b,d)=>{let e={signature:b==m().encode(bQ)?null:m().decode(b),publicKey:a.accountKeys[d]};c.signatures.push(e)}),a.instructions.forEach(b=>{let d=b.accounts.map(b=>{let d=a.accountKeys[b];return{pubkey:d,isSigner:c.signatures.some(a=>a.publicKey.toString()===d.toString())||a.isAccountSigner(b),isWritable:a.isAccountWritable(b)}});c.instructions.push(new bR({keys:d,programId:a.accountKeys[b.programIdIndex],data:m().decode(b.data)}))}),c._message=a,c._json=c.toJSON(),c}}let bT=new by("SysvarC1ock11111111111111111111111111111111");new by("SysvarEpochSchedu1e111111111111111111111111"),new by("Sysvar1nstructions1111111111111111111111111");let bU=new by("SysvarRecentB1ockHashes11111111111111111111"),bV=new by("SysvarRent111111111111111111111111111111111");new by("SysvarRewards111111111111111111111111111111"),new by("SysvarS1otHashes111111111111111111111111111"),new by("SysvarS1otHistory11111111111111111111111111");let bW=new by("SysvarStakeHistory1111111111111111111111111");async function bX(a,b,c,d){let e=d&&{skipPreflight:d.skipPreflight,preflightCommitment:d.preflightCommitment||d.commitment,maxRetries:d.maxRetries,minContextSlot:d.minContextSlot},f=await a.sendTransaction(b,c,e),g=null!=b.recentBlockhash&&null!=b.lastValidBlockHeight?(await a.confirmTransaction({signature:f,blockhash:b.recentBlockhash,lastValidBlockHeight:b.lastValidBlockHeight},d&&d.commitment)).value:(await a.confirmTransaction(f,d&&d.commitment)).value;if(g.err)throw Error(`Transaction ${f} failed (${JSON.stringify(g)})`);return f}function bY(a){return new Promise(b=>setTimeout(b,a))}function bZ(a,b){let c=a.layout.span>=0?a.layout.span:function(a,b){let c=a=>{if(a.span>=0)return a.span;if("function"==typeof a.alloc)return a.alloc(b[a.property]);if("count"in a&&"elementLayout"in a){let d=b[a.property];if(Array.isArray(d))return d.length*c(a.elementLayout)}return 0},d=0;return a.layout.fields.forEach(a=>{d+=c(a)}),d}(a,b),d=i.lW.alloc(c),e=Object.assign({instruction:a.index},b);return a.layout.encode(e,d),d}let b$=o._O("lamportsPerSignature"),b_=o.n_([o.Jq("version"),o.Jq("state"),bI("authorizedPubkey"),bI("nonce"),o.n_([b$],"feeCalculator")]),b0=b_.span;class b1{constructor(a){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=a.authorizedPubkey,this.nonce=a.nonce,this.feeCalculator=a.feeCalculator}static fromAccountData(a){let b=b_.decode(y(a),0);return new b1({authorizedPubkey:new by(b.authorizedPubkey),nonce:new by(b.nonce).toString(),feeCalculator:b.feeCalculator})}}let b2=a=>{let b=a.decode.bind(a),c=a.encode.bind(a);return{decode:b,encode:c}},b3=a=>{let b=(0,o.Ik)(8,a),{encode:c,decode:d}=b2(b),e=b;return e.decode=(a,b)=>{let c=d(a,b);return(0,p.oU)(i.lW.from(c))},e.encode=(a,b,d)=>{let e=(0,p.k$)(a,8);return c(e,b,d)},e},b4=Object.freeze({Create:{index:0,layout:o.n_([o.Jq("instruction"),o.gM("lamports"),o.gM("space"),bI("programId")])},Assign:{index:1,layout:o.n_([o.Jq("instruction"),bI("programId")])},Transfer:{index:2,layout:o.n_([o.Jq("instruction"),b3("lamports")])},CreateWithSeed:{index:3,layout:o.n_([o.Jq("instruction"),bI("base"),bJ("seed"),o.gM("lamports"),o.gM("space"),bI("programId")])},AdvanceNonceAccount:{index:4,layout:o.n_([o.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:o.n_([o.Jq("instruction"),o.gM("lamports")])},InitializeNonceAccount:{index:6,layout:o.n_([o.Jq("instruction"),bI("authorized")])},AuthorizeNonceAccount:{index:7,layout:o.n_([o.Jq("instruction"),bI("authorized")])},Allocate:{index:8,layout:o.n_([o.Jq("instruction"),o.gM("space")])},AllocateWithSeed:{index:9,layout:o.n_([o.Jq("instruction"),bI("base"),bJ("seed"),o.gM("space"),bI("programId")])},AssignWithSeed:{index:10,layout:o.n_([o.Jq("instruction"),bI("base"),bJ("seed"),bI("programId")])},TransferWithSeed:{index:11,layout:o.n_([o.Jq("instruction"),b3("lamports"),bJ("seed"),bI("programId")])},UpgradeNonceAccount:{index:12,layout:o.n_([o.Jq("instruction")])}});class b5{constructor(){}static createAccount(a){let b=b4.Create,c=bZ(b,{lamports:a.lamports,space:a.space,programId:y(a.programId.toBuffer())});return new bR({keys:[{pubkey:a.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:a.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:c})}static transfer(a){let b,c;if("basePubkey"in a){let d=b4.TransferWithSeed;b=bZ(d,{lamports:BigInt(a.lamports),seed:a.seed,programId:y(a.programId.toBuffer())}),c=[{pubkey:a.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:a.basePubkey,isSigner:!0,isWritable:!1},{pubkey:a.toPubkey,isSigner:!1,isWritable:!0}]}else{let e=b4.Transfer;b=bZ(e,{lamports:BigInt(a.lamports)}),c=[{pubkey:a.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:a.toPubkey,isSigner:!1,isWritable:!0}]}return new bR({keys:c,programId:this.programId,data:b})}static assign(a){let b,c;if("basePubkey"in a){let d=b4.AssignWithSeed;b=bZ(d,{base:y(a.basePubkey.toBuffer()),seed:a.seed,programId:y(a.programId.toBuffer())}),c=[{pubkey:a.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:a.basePubkey,isSigner:!0,isWritable:!1}]}else{let e=b4.Assign;b=bZ(e,{programId:y(a.programId.toBuffer())}),c=[{pubkey:a.accountPubkey,isSigner:!0,isWritable:!0}]}return new bR({keys:c,programId:this.programId,data:b})}static createAccountWithSeed(a){let b=b4.CreateWithSeed,c=bZ(b,{base:y(a.basePubkey.toBuffer()),seed:a.seed,lamports:a.lamports,space:a.space,programId:y(a.programId.toBuffer())}),d=[{pubkey:a.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:a.newAccountPubkey,isSigner:!1,isWritable:!0}];return a.basePubkey!=a.fromPubkey&&d.push({pubkey:a.basePubkey,isSigner:!0,isWritable:!1}),new bR({keys:d,programId:this.programId,data:c})}static createNonceAccount(a){let b=new bS;"basePubkey"in a&&"seed"in a?b.add(b5.createAccountWithSeed({fromPubkey:a.fromPubkey,newAccountPubkey:a.noncePubkey,basePubkey:a.basePubkey,seed:a.seed,lamports:a.lamports,space:b0,programId:this.programId})):b.add(b5.createAccount({fromPubkey:a.fromPubkey,newAccountPubkey:a.noncePubkey,lamports:a.lamports,space:b0,programId:this.programId}));let c={noncePubkey:a.noncePubkey,authorizedPubkey:a.authorizedPubkey};return b.add(this.nonceInitialize(c)),b}static nonceInitialize(a){let b=b4.InitializeNonceAccount,c=bZ(b,{authorized:y(a.authorizedPubkey.toBuffer())}),d={keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bU,isSigner:!1,isWritable:!1},{pubkey:bV,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new bR(d)}static nonceAdvance(a){let b=b4.AdvanceNonceAccount,c=bZ(b),d={keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bU,isSigner:!1,isWritable:!1},{pubkey:a.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new bR(d)}static nonceWithdraw(a){let b=b4.WithdrawNonceAccount,c=bZ(b,{lamports:a.lamports});return new bR({keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:a.toPubkey,isSigner:!1,isWritable:!0},{pubkey:bU,isSigner:!1,isWritable:!1},{pubkey:bV,isSigner:!1,isWritable:!1},{pubkey:a.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static nonceAuthorize(a){let b=b4.AuthorizeNonceAccount,c=bZ(b,{authorized:y(a.newAuthorizedPubkey.toBuffer())});return new bR({keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:a.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static allocate(a){let b,c;if("basePubkey"in a){let d=b4.AllocateWithSeed;b=bZ(d,{base:y(a.basePubkey.toBuffer()),seed:a.seed,space:a.space,programId:y(a.programId.toBuffer())}),c=[{pubkey:a.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:a.basePubkey,isSigner:!0,isWritable:!1}]}else{let e=b4.Allocate;b=bZ(e,{space:a.space}),c=[{pubkey:a.accountPubkey,isSigner:!0,isWritable:!0}]}return new bR({keys:c,programId:this.programId,data:b})}}b5.programId=new by("11111111111111111111111111111111");class b6{constructor(){}static getMinNumSignatures(a){return 2*(Math.ceil(a/b6.chunkSize)+1+1)}static async load(a,b,c,d,e){{let f=await a.getMinimumBalanceForRentExemption(e.length),g=await a.getAccountInfo(c.publicKey,"confirmed"),h=null;if(null!==g){if(g.executable)return console.error("Program load failed, account is already executable"),!1;g.data.length!==e.length&&(h=h||new bS).add(b5.allocate({accountPubkey:c.publicKey,space:e.length})),g.owner.equals(d)||(h=h||new bS).add(b5.assign({accountPubkey:c.publicKey,programId:d})),g.lamports<f&&(h=h||new bS).add(b5.transfer({fromPubkey:b.publicKey,toPubkey:c.publicKey,lamports:f-g.lamports}))}else h=new bS().add(b5.createAccount({fromPubkey:b.publicKey,newAccountPubkey:c.publicKey,lamports:f>0?f:1,space:e.length,programId:d}));null!==h&&await bX(a,h,[b,c],{commitment:"confirmed"})}let j=o.n_([o.Jq("instruction"),o.Jq("offset"),o.Jq("bytesLength"),o.Jq("bytesLengthPadding"),o.A9(o.u8("byte"),o.cv(o.Jq(),-8),"bytes")]),k=b6.chunkSize,l=0,m=e,n=[];for(;m.length>0;){let p=m.slice(0,k),q=i.lW.alloc(k+16);j.encode({instruction:0,offset:l,bytes:p,bytesLength:0,bytesLengthPadding:0},q);let r=new bS().add({keys:[{pubkey:c.publicKey,isSigner:!0,isWritable:!0}],programId:d,data:q});if(n.push(bX(a,r,[b,c],{commitment:"confirmed"})),a._rpcEndpoint.includes("solana.com")){let s=4;await bY(1e3/s)}l+=k,m=m.slice(k)}await Promise.all(n);{let t=o.n_([o.Jq("instruction")]),u=i.lW.alloc(t.span);t.encode({instruction:1},u);let v=new bS().add({keys:[{pubkey:c.publicKey,isSigner:!0,isWritable:!0},{pubkey:bV,isSigner:!1,isWritable:!1}],programId:d,data:u});await bX(a,v,[b,c],{commitment:"confirmed"})}return!0}}b6.chunkSize=bE-300,new by("BPFLoader2111111111111111111111111111111111");var b7=Object.prototype.toString,b8=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};function b9(a,b){var c,d,e,f,g,h,i;if(!0===a)return"true";if(!1===a)return"false";switch(typeof a){case"object":if(null===a)return null;if(a.toJSON&&"function"==typeof a.toJSON)return b9(a.toJSON(),b);if("[object Array]"===(i=b7.call(a))){for(c=0,e="[",d=a.length-1;c<d;c++)e+=b9(a[c],!0)+",";return d> -1&&(e+=b9(a[c],!0)),e+"]"}if("[object Object]"!==i)return JSON.stringify(a);for(d=(f=b8(a).sort()).length,e="",c=0;c<d;)void 0!==(h=b9(a[g=f[c]],!1))&&(e&&(e+=","),e+=JSON.stringify(g)+":"+h),c++;return"{"+e+"}";case"function":case"undefined":return b?null:void 0;case"string":return JSON.stringify(a);default:return isFinite(a)?a:null}}var ca,cb,cc,cd,ce,cf,cg=function(a){var b=b9(a,!1);if(void 0!==b)return""+b};function ch(a){let b=0;for(;a>1;)a/=2,b++;return b}class ci{constructor(a,b,c,d,e){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=a,this.leaderScheduleSlotOffset=b,this.warmup=c,this.firstNormalEpoch=d,this.firstNormalSlot=e}getEpoch(a){return this.getEpochAndSlotIndex(a)[0]}getEpochAndSlotIndex(a){if(a<this.firstNormalSlot){var b;let c=ch(0===(b=a+32+1)?1:(b--,b|=b>>1,b|=b>>2,b|=b>>4,b|=b>>8,b|=b>>16,(b|=b>>32)+1))-ch(32)-1,d=this.getSlotsInEpoch(c),e=a-(d-32);return[c,e]}{let f=a-this.firstNormalSlot,g=Math.floor(f/this.slotsPerEpoch),h=this.firstNormalEpoch+g,i=f%this.slotsPerEpoch;return[h,i]}}getFirstSlotInEpoch(a){return a<=this.firstNormalEpoch?(Math.pow(2,a)-1)*32:(a-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(a){return this.getFirstSlotInEpoch(a)+this.getSlotsInEpoch(a)-1}getSlotsInEpoch(a){return a<this.firstNormalEpoch?Math.pow(2,a+ch(32)):this.slotsPerEpoch}}class cj extends Error{constructor(a,b){super(a),this.logs=void 0,this.logs=b}}class ck extends Error{constructor({code:a,message:b,data:c},d){super(null!=d?`${d}: ${b}`:b),this.code=void 0,this.data=void 0,this.code=a,this.data=c,this.name="SolanaJSONRPCError"}}var cl=globalThis.fetch;class cm{constructor(a){this.key=void 0,this.state=void 0,this.key=a.key,this.state=a.state}isActive(){return this.state.deactivationSlot===2n**64n-1n}static deserialize(a){let b=function(a,b){let c;try{c=a.layout.decode(b)}catch(d){throw Error("invalid instruction; "+d)}if(c.typeIndex!==a.index)throw Error(`invalid account data; account type mismatch ${c.typeIndex} != ${a.index}`);return c}(cn,a),c=a.length-56;bO(c>=0,"lookup table is invalid"),bO(c%32==0,"lookup table is invalid");let{addresses:d}=o.n_([o.A9(bI(),c/32,"addresses")]).decode(a.slice(56));return{deactivationSlot:b.deactivationSlot,lastExtendedSlot:b.lastExtendedSlot,lastExtendedSlotStartIndex:b.lastExtendedStartIndex,authority:0!==b.authority.length?new by(b.authority[0]):void 0,addresses:d.map(a=>new by(a))}}}let cn={index:1,layout:o.n_([o.Jq("typeIndex"),b3("deactivationSlot"),o._O("lastExtendedSlot"),o.u8("lastExtendedStartIndex"),o.u8(),o.A9(bI(),o.cv(o.u8(),-1),"authority")])},co=globalThis.URL,cp=(0,q.oQ)((0,q.eE)(by),(0,q.Z_)(),a=>new by(a)),cq=(0,q.bc)([(0,q.Z_)(),(0,q.i0)("base64")]),cr=(0,q.oQ)((0,q.eE)(i.lW),cq,a=>i.lW.from(a[0],"base64"));function cs(a){let b,c;if("string"==typeof a)b=a;else if(a){let{commitment:d,...e}=a;b=d,c=e}return{commitment:b,config:c}}function ct(a){return(0,q.G0)([(0,q.dt)({jsonrpc:(0,q.i0)("2.0"),id:(0,q.Z_)(),result:a}),(0,q.dt)({jsonrpc:(0,q.i0)("2.0"),id:(0,q.Z_)(),error:(0,q.dt)({code:(0,q._4)(),message:(0,q.Z_)(),data:(0,q.jt)((0,q.Yj)())})})])}let cu=ct((0,q._4)());function cv(a){return(0,q.oQ)(ct(a),cu,b=>"error"in b?b:{...b,result:(0,q.Ue)(b.result,a)})}function cw(a){return cv((0,q.dt)({context:(0,q.dt)({slot:(0,q.Rx)()}),value:a}))}function cx(a){return(0,q.dt)({context:(0,q.dt)({slot:(0,q.Rx)()}),value:a})}let cy=(0,q.dt)({foundation:(0,q.Rx)(),foundationTerm:(0,q.Rx)(),initial:(0,q.Rx)(),taper:(0,q.Rx)(),terminal:(0,q.Rx)()}),cz=cv((0,q.IX)((0,q.AG)((0,q.dt)({epoch:(0,q.Rx)(),effectiveSlot:(0,q.Rx)(),amount:(0,q.Rx)(),postBalance:(0,q.Rx)()})))),cA=(0,q.dt)({epoch:(0,q.Rx)(),slotIndex:(0,q.Rx)(),slotsInEpoch:(0,q.Rx)(),absoluteSlot:(0,q.Rx)(),blockHeight:(0,q.jt)((0,q.Rx)()),transactionCount:(0,q.jt)((0,q.Rx)())}),cB=(0,q.dt)({slotsPerEpoch:(0,q.Rx)(),leaderScheduleSlotOffset:(0,q.Rx)(),warmup:(0,q.O7)(),firstNormalEpoch:(0,q.Rx)(),firstNormalSlot:(0,q.Rx)()}),cC=(0,q.IM)((0,q.Z_)(),(0,q.IX)((0,q.Rx)())),cD=(0,q.AG)((0,q.G0)([(0,q.dt)({}),(0,q.Z_)()])),cE=(0,q.dt)({err:cD}),cF=(0,q.i0)("receivedSignature"),cG=(0,q.dt)({"solana-core":(0,q.Z_)(),"feature-set":(0,q.jt)((0,q.Rx)())}),cH=cw((0,q.dt)({err:(0,q.AG)((0,q.G0)([(0,q.dt)({}),(0,q.Z_)()])),logs:(0,q.AG)((0,q.IX)((0,q.Z_)())),accounts:(0,q.jt)((0,q.AG)((0,q.IX)((0,q.AG)((0,q.dt)({executable:(0,q.O7)(),owner:(0,q.Z_)(),lamports:(0,q.Rx)(),data:(0,q.IX)((0,q.Z_)()),rentEpoch:(0,q.jt)((0,q.Rx)())}))))),unitsConsumed:(0,q.jt)((0,q.Rx)()),returnData:(0,q.jt)((0,q.AG)((0,q.dt)({programId:(0,q.Z_)(),data:(0,q.bc)([(0,q.Z_)(),(0,q.i0)("base64")])})))})),cI=cw((0,q.dt)({byIdentity:(0,q.IM)((0,q.Z_)(),(0,q.IX)((0,q.Rx)())),range:(0,q.dt)({firstSlot:(0,q.Rx)(),lastSlot:(0,q.Rx)()})})),cJ=cv(cy),cK=cv(cA),cL=cv(cB),cM=cv(cC),cN=cv((0,q.Rx)()),cO=cw((0,q.dt)({total:(0,q.Rx)(),circulating:(0,q.Rx)(),nonCirculating:(0,q.Rx)(),nonCirculatingAccounts:(0,q.IX)(cp)})),cP=(0,q.dt)({amount:(0,q.Z_)(),uiAmount:(0,q.AG)((0,q.Rx)()),decimals:(0,q.Rx)(),uiAmountString:(0,q.jt)((0,q.Z_)())}),cQ=cw((0,q.IX)((0,q.dt)({address:cp,amount:(0,q.Z_)(),uiAmount:(0,q.AG)((0,q.Rx)()),decimals:(0,q.Rx)(),uiAmountString:(0,q.jt)((0,q.Z_)())}))),cR=cw((0,q.IX)((0,q.dt)({pubkey:cp,account:(0,q.dt)({executable:(0,q.O7)(),owner:cp,lamports:(0,q.Rx)(),data:cr,rentEpoch:(0,q.Rx)()})}))),cS=(0,q.dt)({program:(0,q.Z_)(),parsed:(0,q._4)(),space:(0,q.Rx)()}),cT=cw((0,q.IX)((0,q.dt)({pubkey:cp,account:(0,q.dt)({executable:(0,q.O7)(),owner:cp,lamports:(0,q.Rx)(),data:cS,rentEpoch:(0,q.Rx)()})}))),cU=cw((0,q.IX)((0,q.dt)({lamports:(0,q.Rx)(),address:cp}))),cV=(0,q.dt)({executable:(0,q.O7)(),owner:cp,lamports:(0,q.Rx)(),data:cr,rentEpoch:(0,q.Rx)()}),cW=(0,q.dt)({pubkey:cp,account:cV}),cX=(0,q.oQ)((0,q.G0)([(0,q.eE)(i.lW),cS]),(0,q.G0)([cq,cS]),a=>Array.isArray(a)?(0,q.Ue)(a,cr):a),cY=(0,q.dt)({executable:(0,q.O7)(),owner:cp,lamports:(0,q.Rx)(),data:cX,rentEpoch:(0,q.Rx)()}),cZ=(0,q.dt)({pubkey:cp,account:cY}),c$=(0,q.dt)({state:(0,q.G0)([(0,q.i0)("active"),(0,q.i0)("inactive"),(0,q.i0)("activating"),(0,q.i0)("deactivating")]),active:(0,q.Rx)(),inactive:(0,q.Rx)()}),c_=cv((0,q.IX)((0,q.dt)({signature:(0,q.Z_)(),slot:(0,q.Rx)(),err:cD,memo:(0,q.AG)((0,q.Z_)()),blockTime:(0,q.jt)((0,q.AG)((0,q.Rx)()))}))),c0=cv((0,q.IX)((0,q.dt)({signature:(0,q.Z_)(),slot:(0,q.Rx)(),err:cD,memo:(0,q.AG)((0,q.Z_)()),blockTime:(0,q.jt)((0,q.AG)((0,q.Rx)()))}))),c1=(0,q.dt)({subscription:(0,q.Rx)(),result:cx(cV)}),c2=(0,q.dt)({pubkey:cp,account:cV}),c3=(0,q.dt)({subscription:(0,q.Rx)(),result:cx(c2)}),c4=(0,q.dt)({parent:(0,q.Rx)(),slot:(0,q.Rx)(),root:(0,q.Rx)()}),c5=(0,q.dt)({subscription:(0,q.Rx)(),result:c4}),c6=(0,q.G0)([(0,q.dt)({type:(0,q.G0)([(0,q.i0)("firstShredReceived"),(0,q.i0)("completed"),(0,q.i0)("optimisticConfirmation"),(0,q.i0)("root")]),slot:(0,q.Rx)(),timestamp:(0,q.Rx)()}),(0,q.dt)({type:(0,q.i0)("createdBank"),parent:(0,q.Rx)(),slot:(0,q.Rx)(),timestamp:(0,q.Rx)()}),(0,q.dt)({type:(0,q.i0)("frozen"),slot:(0,q.Rx)(),timestamp:(0,q.Rx)(),stats:(0,q.dt)({numTransactionEntries:(0,q.Rx)(),numSuccessfulTransactions:(0,q.Rx)(),numFailedTransactions:(0,q.Rx)(),maxTransactionsPerEntry:(0,q.Rx)()})}),(0,q.dt)({type:(0,q.i0)("dead"),slot:(0,q.Rx)(),timestamp:(0,q.Rx)(),err:(0,q.Z_)()})]),c7=(0,q.dt)({subscription:(0,q.Rx)(),result:c6}),c8=(0,q.dt)({subscription:(0,q.Rx)(),result:cx((0,q.G0)([cE,cF]))}),c9=(0,q.dt)({subscription:(0,q.Rx)(),result:(0,q.Rx)()}),da=(0,q.dt)({pubkey:(0,q.Z_)(),gossip:(0,q.AG)((0,q.Z_)()),tpu:(0,q.AG)((0,q.Z_)()),rpc:(0,q.AG)((0,q.Z_)()),version:(0,q.AG)((0,q.Z_)())}),db=(0,q.dt)({votePubkey:(0,q.Z_)(),nodePubkey:(0,q.Z_)(),activatedStake:(0,q.Rx)(),epochVoteAccount:(0,q.O7)(),epochCredits:(0,q.IX)((0,q.bc)([(0,q.Rx)(),(0,q.Rx)(),(0,q.Rx)()])),commission:(0,q.Rx)(),lastVote:(0,q.Rx)(),rootSlot:(0,q.AG)((0,q.Rx)())}),dc=cv((0,q.dt)({current:(0,q.IX)(db),delinquent:(0,q.IX)(db)})),dd=(0,q.G0)([(0,q.i0)("processed"),(0,q.i0)("confirmed"),(0,q.i0)("finalized")]),de=(0,q.dt)({slot:(0,q.Rx)(),confirmations:(0,q.AG)((0,q.Rx)()),err:cD,confirmationStatus:(0,q.jt)(dd)}),df=cw((0,q.IX)((0,q.AG)(de))),dg=cv((0,q.Rx)()),dh=(0,q.dt)({signatures:(0,q.IX)((0,q.Z_)()),message:(0,q.dt)({accountKeys:(0,q.IX)((0,q.Z_)()),header:(0,q.dt)({numRequiredSignatures:(0,q.Rx)(),numReadonlySignedAccounts:(0,q.Rx)(),numReadonlyUnsignedAccounts:(0,q.Rx)()}),instructions:(0,q.IX)((0,q.dt)({accounts:(0,q.IX)((0,q.Rx)()),data:(0,q.Z_)(),programIdIndex:(0,q.Rx)()})),recentBlockhash:(0,q.Z_)()})}),di=(0,q.dt)({parsed:(0,q._4)(),program:(0,q.Z_)(),programId:cp}),dj=(0,q.dt)({accounts:(0,q.IX)(cp),data:(0,q.Z_)(),programId:cp}),dk=(0,q.G0)([dj,di]),dl=(0,q.G0)([(0,q.dt)({parsed:(0,q._4)(),program:(0,q.Z_)(),programId:(0,q.Z_)()}),(0,q.dt)({accounts:(0,q.IX)((0,q.Z_)()),data:(0,q.Z_)(),programId:(0,q.Z_)()})]),dm=(0,q.oQ)(dk,dl,a=>"accounts"in a?(0,q.Ue)(a,dj):(0,q.Ue)(a,di)),dn=(0,q.dt)({signatures:(0,q.IX)((0,q.Z_)()),message:(0,q.dt)({accountKeys:(0,q.IX)((0,q.dt)({pubkey:cp,signer:(0,q.O7)(),writable:(0,q.O7)()})),instructions:(0,q.IX)(dm),recentBlockhash:(0,q.Z_)()})}),dp=(0,q.dt)({accountIndex:(0,q.Rx)(),mint:(0,q.Z_)(),owner:(0,q.jt)((0,q.Z_)()),uiTokenAmount:cP}),dq=(0,q.dt)({writable:(0,q.IX)(cp),readonly:(0,q.IX)(cp)}),dr=(0,q.dt)({err:cD,fee:(0,q.Rx)(),innerInstructions:(0,q.jt)((0,q.AG)((0,q.IX)((0,q.dt)({index:(0,q.Rx)(),instructions:(0,q.IX)((0,q.dt)({accounts:(0,q.IX)((0,q.Rx)()),data:(0,q.Z_)(),programIdIndex:(0,q.Rx)()}))})))),preBalances:(0,q.IX)((0,q.Rx)()),postBalances:(0,q.IX)((0,q.Rx)()),logMessages:(0,q.jt)((0,q.AG)((0,q.IX)((0,q.Z_)()))),preTokenBalances:(0,q.jt)((0,q.AG)((0,q.IX)(dp))),postTokenBalances:(0,q.jt)((0,q.AG)((0,q.IX)(dp))),loadedAddresses:(0,q.jt)(dq)}),ds=(0,q.dt)({err:cD,fee:(0,q.Rx)(),innerInstructions:(0,q.jt)((0,q.AG)((0,q.IX)((0,q.dt)({index:(0,q.Rx)(),instructions:(0,q.IX)(dm)})))),preBalances:(0,q.IX)((0,q.Rx)()),postBalances:(0,q.IX)((0,q.Rx)()),logMessages:(0,q.jt)((0,q.AG)((0,q.IX)((0,q.Z_)()))),preTokenBalances:(0,q.jt)((0,q.AG)((0,q.IX)(dp))),postTokenBalances:(0,q.jt)((0,q.AG)((0,q.IX)(dp))),loadedAddresses:(0,q.jt)(dq)}),dt=cv((0,q.AG)((0,q.dt)({blockhash:(0,q.Z_)(),previousBlockhash:(0,q.Z_)(),parentSlot:(0,q.Rx)(),transactions:(0,q.IX)((0,q.dt)({transaction:dh,meta:(0,q.AG)(dr)})),rewards:(0,q.jt)((0,q.IX)((0,q.dt)({pubkey:(0,q.Z_)(),lamports:(0,q.Rx)(),postBalance:(0,q.AG)((0,q.Rx)()),rewardType:(0,q.AG)((0,q.Z_)())}))),blockTime:(0,q.AG)((0,q.Rx)()),blockHeight:(0,q.AG)((0,q.Rx)())}))),du=cv((0,q.AG)((0,q.dt)({blockhash:(0,q.Z_)(),previousBlockhash:(0,q.Z_)(),parentSlot:(0,q.Rx)(),transactions:(0,q.IX)((0,q.dt)({transaction:dh,meta:(0,q.AG)(dr)})),rewards:(0,q.jt)((0,q.IX)((0,q.dt)({pubkey:(0,q.Z_)(),lamports:(0,q.Rx)(),postBalance:(0,q.AG)((0,q.Rx)()),rewardType:(0,q.AG)((0,q.Z_)())}))),blockTime:(0,q.AG)((0,q.Rx)())}))),dv=cv((0,q.AG)((0,q.dt)({blockhash:(0,q.Z_)(),previousBlockhash:(0,q.Z_)(),parentSlot:(0,q.Rx)(),signatures:(0,q.IX)((0,q.Z_)()),blockTime:(0,q.AG)((0,q.Rx)())}))),dw=cv((0,q.AG)((0,q.dt)({slot:(0,q.Rx)(),meta:dr,blockTime:(0,q.jt)((0,q.AG)((0,q.Rx)())),transaction:dh}))),dx=cv((0,q.AG)((0,q.dt)({slot:(0,q.Rx)(),transaction:dn,meta:(0,q.AG)(ds),blockTime:(0,q.jt)((0,q.AG)((0,q.Rx)()))}))),dy=cw((0,q.dt)({blockhash:(0,q.Z_)(),feeCalculator:(0,q.dt)({lamportsPerSignature:(0,q.Rx)()})})),dz=cw((0,q.dt)({blockhash:(0,q.Z_)(),lastValidBlockHeight:(0,q.Rx)()})),dA=(0,q.dt)({slot:(0,q.Rx)(),numTransactions:(0,q.Rx)(),numSlots:(0,q.Rx)(),samplePeriodSecs:(0,q.Rx)()}),dB=cv((0,q.IX)(dA)),dC=cw((0,q.AG)((0,q.dt)({feeCalculator:(0,q.dt)({lamportsPerSignature:(0,q.Rx)()})}))),dD=cv((0,q.Z_)()),dE=cv((0,q.Z_)()),dF=(0,q.dt)({err:cD,logs:(0,q.IX)((0,q.Z_)()),signature:(0,q.Z_)()}),dG=(0,q.dt)({result:cx(dF),subscription:(0,q.Rx)()}),dH={"solana-client":"js/0.0.0-development"};class dI{constructor(a,b){var c,d;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let e=new co(a),f="https:"===e.protocol,g,h,i,j,k;b&&"string"==typeof b?this._commitment=b:b&&(this._commitment=b.commitment,this._confirmTransactionInitialTimeout=b.confirmTransactionInitialTimeout,g=b.wsEndpoint,h=b.httpHeaders,i=b.fetch,j=b.fetchMiddleware,k=b.disableRetryOnRateLimit),this._rpcEndpoint=a,this._rpcWsEndpoint=g||function(a){let b=new co(a),c="https:"===b.protocol;return b.protocol=c?"wss:":"ws:",b.host="",""!==b.port&&(b.port=String(Number(b.port)+1)),b.toString()}(a),this._rpcClient=function(a,b,c,d,e,f){let g=d||cl,h;e&&(h=async(a,b)=>{let c=await new Promise((c,d)=>{try{e(a,b,(a,b)=>c([a,b]))}catch(f){d(f)}});return await g(...c)});let i=new(t())(async(b,d)=>{let e={method:"POST",body:b,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},c||{},dH)};try{let i=5,j,k=500;for(;j=h?await h(a,e):await g(a,e),429===j.status&& !0!==f&&(i-=1,0!==i);){console.log(`Server responded with ${j.status} ${j.statusText}.  Retrying after ${k}ms delay...`),await bY(k),k*=2}let l=await j.text();j.ok?d(null,l):d(Error(`${j.status} ${j.statusText}: ${l}`))}catch(m){m instanceof Error&&d(m)}finally{}},{});return i}(e.toString(),f,h,i,j,k),this._rpcRequest=(c=this._rpcClient,(a,b)=>new Promise((d,e)=>{c.request(a,b,(a,b)=>{if(a){e(a);return}d(b)})})),this._rpcBatchRequest=(d=this._rpcClient,a=>new Promise((b,c)=>{0===a.length&&b([]);let e=a.map(a=>d.request(a.methodName,a.args));d.request(e,(a,d)=>{if(a){c(a);return}b(d)})})),this._rpcWebSocket=new r.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(a,b){let{commitment:c,config:d}=cs(b),e=this._buildArgs([a.toBase58()],c,void 0,d),f=await this._rpcRequest("getBalance",e),g=(0,q.Ue)(f,cw((0,q.Rx)()));if("error"in g)throw new ck(g.error,`failed to get balance for ${a.toBase58()}`);return g.result}async getBalance(a,b){return await this.getBalanceAndContext(a,b).then(a=>a.value).catch(b=>{throw Error("failed to get balance of account "+a.toBase58()+": "+b)})}async getBlockTime(a){let b=await this._rpcRequest("getBlockTime",[a]),c=(0,q.Ue)(b,cv((0,q.AG)((0,q.Rx)())));if("error"in c)throw new ck(c.error,`failed to get block time for slot ${a}`);return c.result}async getMinimumLedgerSlot(){let a=await this._rpcRequest("minimumLedgerSlot",[]),b=(0,q.Ue)(a,cv((0,q.Rx)()));if("error"in b)throw new ck(b.error,"failed to get minimum ledger slot");return b.result}async getFirstAvailableBlock(){let a=await this._rpcRequest("getFirstAvailableBlock",[]),b=(0,q.Ue)(a,cN);if("error"in b)throw new ck(b.error,"failed to get first available block");return b.result}async getSupply(a){let b={};b="string"==typeof a?{commitment:a}:a?{...a,commitment:a&&a.commitment||this.commitment}:{commitment:this.commitment};let c=await this._rpcRequest("getSupply",[b]),d=(0,q.Ue)(c,cO);if("error"in d)throw new ck(d.error,"failed to get supply");return d.result}async getTokenSupply(a,b){let c=this._buildArgs([a.toBase58()],b),d=await this._rpcRequest("getTokenSupply",c),e=(0,q.Ue)(d,cw(cP));if("error"in e)throw new ck(e.error,"failed to get token supply");return e.result}async getTokenAccountBalance(a,b){let c=this._buildArgs([a.toBase58()],b),d=await this._rpcRequest("getTokenAccountBalance",c),e=(0,q.Ue)(d,cw(cP));if("error"in e)throw new ck(e.error,"failed to get token account balance");return e.result}async getTokenAccountsByOwner(a,b,c){let{commitment:d,config:e}=cs(c),f=[a.toBase58()];"mint"in b?f.push({mint:b.mint.toBase58()}):f.push({programId:b.programId.toBase58()});let g=this._buildArgs(f,d,"base64",e),h=await this._rpcRequest("getTokenAccountsByOwner",g),i=(0,q.Ue)(h,cR);if("error"in i)throw new ck(i.error,`failed to get token accounts owned by account ${a.toBase58()}`);return i.result}async getParsedTokenAccountsByOwner(a,b,c){let d=[a.toBase58()];"mint"in b?d.push({mint:b.mint.toBase58()}):d.push({programId:b.programId.toBase58()});let e=this._buildArgs(d,c,"jsonParsed"),f=await this._rpcRequest("getTokenAccountsByOwner",e),g=(0,q.Ue)(f,cT);if("error"in g)throw new ck(g.error,`failed to get token accounts owned by account ${a.toBase58()}`);return g.result}async getLargestAccounts(a){let b={...a,commitment:a&&a.commitment||this.commitment},c=b.filter||b.commitment?[b]:[],d=await this._rpcRequest("getLargestAccounts",c),e=(0,q.Ue)(d,cU);if("error"in e)throw new ck(e.error,"failed to get largest accounts");return e.result}async getTokenLargestAccounts(a,b){let c=this._buildArgs([a.toBase58()],b),d=await this._rpcRequest("getTokenLargestAccounts",c),e=(0,q.Ue)(d,cQ);if("error"in e)throw new ck(e.error,"failed to get token largest accounts");return e.result}async getAccountInfoAndContext(a,b){let{commitment:c,config:d}=cs(b),e=this._buildArgs([a.toBase58()],c,"base64",d),f=await this._rpcRequest("getAccountInfo",e),g=(0,q.Ue)(f,cw((0,q.AG)(cV)));if("error"in g)throw new ck(g.error,`failed to get info about account ${a.toBase58()}`);return g.result}async getParsedAccountInfo(a,b){let{commitment:c,config:d}=cs(b),e=this._buildArgs([a.toBase58()],c,"jsonParsed",d),f=await this._rpcRequest("getAccountInfo",e),g=(0,q.Ue)(f,cw((0,q.AG)(cY)));if("error"in g)throw new ck(g.error,`failed to get info about account ${a.toBase58()}`);return g.result}async getAccountInfo(a,b){try{let c=await this.getAccountInfoAndContext(a,b);return c.value}catch(d){throw Error("failed to get info about account "+a.toBase58()+": "+d)}}async getMultipleAccountsInfoAndContext(a,b){let{commitment:c,config:d}=cs(b),e=a.map(a=>a.toBase58()),f=this._buildArgs([e],c,"base64",d),g=await this._rpcRequest("getMultipleAccounts",f),h=(0,q.Ue)(g,cw((0,q.IX)((0,q.AG)(cV))));if("error"in h)throw new ck(h.error,`failed to get info for accounts ${e}`);return h.result}async getMultipleAccountsInfo(a,b){let c=await this.getMultipleAccountsInfoAndContext(a,b);return c.value}async getStakeActivation(a,b,c){let{commitment:d,config:e}=cs(b),f=this._buildArgs([a.toBase58()],d,void 0,{...e,epoch:null!=c?c:null==e?void 0:e.epoch}),g=await this._rpcRequest("getStakeActivation",f),h=(0,q.Ue)(g,cv(c$));if("error"in h)throw new ck(h.error,`failed to get Stake Activation ${a.toBase58()}`);return h.result}async getProgramAccounts(a,b){let{commitment:c,config:d}=cs(b),{encoding:e,...f}=d||{},g=this._buildArgs([a.toBase58()],c,e||"base64",f),h=await this._rpcRequest("getProgramAccounts",g),i=(0,q.Ue)(h,cv((0,q.IX)(cW)));if("error"in i)throw new ck(i.error,`failed to get accounts owned by program ${a.toBase58()}`);return i.result}async getParsedProgramAccounts(a,b){let{commitment:c,config:d}=cs(b),e=this._buildArgs([a.toBase58()],c,"jsonParsed",d),f=await this._rpcRequest("getProgramAccounts",e),g=(0,q.Ue)(f,cv((0,q.IX)(cZ)));if("error"in g)throw new ck(g.error,`failed to get accounts owned by program ${a.toBase58()}`);return g.result}async confirmTransaction(a,b){let c;if("string"==typeof a)c=a;else{let d=a;c=d.signature}let e;try{e=m().decode(c)}catch(f){throw Error("signature must be base58 encoded: "+c)}bO(64===e.length,"signature has invalid length");let g=b||this.commitment,h,i,j=!1,k=new Promise((a,b)=>{try{i=this.onSignature(c,(b,c)=>{i=void 0;let d={context:c,value:b};j=!0,a({__type:bP.PROCESSED,response:d})},g)}catch(d){b(d)}}),l=new Promise(c=>{if("string"==typeof a){let d=this._confirmTransactionInitialTimeout||6e4;switch(g){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":d=this._confirmTransactionInitialTimeout||3e4}h=setTimeout(()=>c({__type:bP.TIMED_OUT,timeoutMs:d}),d)}else{let e=a,f=async()=>{try{let a=await this.getBlockHeight(b);return a}catch(c){return -1}};(async()=>{let a=await f();if(!j){for(;a<=e.lastValidBlockHeight;)if(await bY(1e3),j||(a=await f(),j))return;c({__type:bP.BLOCKHEIGHT_EXCEEDED})}})()}}),n;try{let o=await Promise.race([k,l]);switch(o.__type){case bP.BLOCKHEIGHT_EXCEEDED:throw new bG(c);case bP.PROCESSED:n=o.response;break;case bP.TIMED_OUT:throw new bH(c,o.timeoutMs/1e3)}}finally{clearTimeout(h),i&&this.removeSignatureListener(i)}return n}async getClusterNodes(){let a=await this._rpcRequest("getClusterNodes",[]),b=(0,q.Ue)(a,cv((0,q.IX)(da)));if("error"in b)throw new ck(b.error,"failed to get cluster nodes");return b.result}async getVoteAccounts(a){let b=this._buildArgs([],a),c=await this._rpcRequest("getVoteAccounts",b),d=(0,q.Ue)(c,dc);if("error"in d)throw new ck(d.error,"failed to get vote accounts");return d.result}async getSlot(a){let{commitment:b,config:c}=cs(a),d=this._buildArgs([],b,void 0,c),e=await this._rpcRequest("getSlot",d),f=(0,q.Ue)(e,cv((0,q.Rx)()));if("error"in f)throw new ck(f.error,"failed to get slot");return f.result}async getSlotLeader(a){let{commitment:b,config:c}=cs(a),d=this._buildArgs([],b,void 0,c),e=await this._rpcRequest("getSlotLeader",d),f=(0,q.Ue)(e,cv((0,q.Z_)()));if("error"in f)throw new ck(f.error,"failed to get slot leader");return f.result}async getSlotLeaders(a,b){let c=await this._rpcRequest("getSlotLeaders",[a,b]),d=(0,q.Ue)(c,cv((0,q.IX)(cp)));if("error"in d)throw new ck(d.error,"failed to get slot leaders");return d.result}async getSignatureStatus(a,b){let{context:c,value:d}=await this.getSignatureStatuses([a],b);bO(1===d.length);let e=d[0];return{context:c,value:e}}async getSignatureStatuses(a,b){let c=[a];b&&c.push(b);let d=await this._rpcRequest("getSignatureStatuses",c),e=(0,q.Ue)(d,df);if("error"in e)throw new ck(e.error,"failed to get signature status");return e.result}async getTransactionCount(a){let{commitment:b,config:c}=cs(a),d=this._buildArgs([],b,void 0,c),e=await this._rpcRequest("getTransactionCount",d),f=(0,q.Ue)(e,cv((0,q.Rx)()));if("error"in f)throw new ck(f.error,"failed to get transaction count");return f.result}async getTotalSupply(a){let b=await this.getSupply({commitment:a,excludeNonCirculatingAccountsList:!0});return b.value.total}async getInflationGovernor(a){let b=this._buildArgs([],a),c=await this._rpcRequest("getInflationGovernor",b),d=(0,q.Ue)(c,cJ);if("error"in d)throw new ck(d.error,"failed to get inflation");return d.result}async getInflationReward(a,b,c){let{commitment:d,config:e}=cs(c),f=this._buildArgs([a.map(a=>a.toBase58())],d,void 0,{...e,epoch:null!=b?b:null==e?void 0:e.epoch}),g=await this._rpcRequest("getInflationReward",f),h=(0,q.Ue)(g,cz);if("error"in h)throw new ck(h.error,"failed to get inflation reward");return h.result}async getEpochInfo(a){let{commitment:b,config:c}=cs(a),d=this._buildArgs([],b,void 0,c),e=await this._rpcRequest("getEpochInfo",d),f=(0,q.Ue)(e,cK);if("error"in f)throw new ck(f.error,"failed to get epoch info");return f.result}async getEpochSchedule(){let a=await this._rpcRequest("getEpochSchedule",[]),b=(0,q.Ue)(a,cL);if("error"in b)throw new ck(b.error,"failed to get epoch schedule");let c=b.result;return new ci(c.slotsPerEpoch,c.leaderScheduleSlotOffset,c.warmup,c.firstNormalEpoch,c.firstNormalSlot)}async getLeaderSchedule(){let a=await this._rpcRequest("getLeaderSchedule",[]),b=(0,q.Ue)(a,cM);if("error"in b)throw new ck(b.error,"failed to get leader schedule");return b.result}async getMinimumBalanceForRentExemption(a,b){let c=this._buildArgs([a],b),d=await this._rpcRequest("getMinimumBalanceForRentExemption",c),e=(0,q.Ue)(d,dg);return"error"in e?(console.warn("Unable to fetch minimum balance for rent exemption"),0):e.result}async getRecentBlockhashAndContext(a){let b=this._buildArgs([],a),c=await this._rpcRequest("getRecentBlockhash",b),d=(0,q.Ue)(c,dy);if("error"in d)throw new ck(d.error,"failed to get recent blockhash");return d.result}async getRecentPerformanceSamples(a){let b=await this._rpcRequest("getRecentPerformanceSamples",a?[a]:[]),c=(0,q.Ue)(b,dB);if("error"in c)throw new ck(c.error,"failed to get recent performance samples");return c.result}async getFeeCalculatorForBlockhash(a,b){let c=this._buildArgs([a],b),d=await this._rpcRequest("getFeeCalculatorForBlockhash",c),e=(0,q.Ue)(d,dC);if("error"in e)throw new ck(e.error,"failed to get fee calculator");let{context:f,value:g}=e.result;return{context:f,value:null!==g?g.feeCalculator:null}}async getFeeForMessage(a,b){let c=a.serialize().toString("base64"),d=this._buildArgs([c],b),e=await this._rpcRequest("getFeeForMessage",d),f=(0,q.Ue)(e,cw((0,q.AG)((0,q.Rx)())));if("error"in f)throw new ck(f.error,"failed to get slot");if(null===f.result)throw Error("invalid blockhash");return f.result}async getRecentBlockhash(a){try{let b=await this.getRecentBlockhashAndContext(a);return b.value}catch(c){throw Error("failed to get recent blockhash: "+c)}}async getLatestBlockhash(a){try{let b=await this.getLatestBlockhashAndContext(a);return b.value}catch(c){throw Error("failed to get recent blockhash: "+c)}}async getLatestBlockhashAndContext(a){let{commitment:b,config:c}=cs(a),d=this._buildArgs([],b,void 0,c),e=await this._rpcRequest("getLatestBlockhash",d),f=(0,q.Ue)(e,dz);if("error"in f)throw new ck(f.error,"failed to get latest blockhash");return f.result}async getVersion(){let a=await this._rpcRequest("getVersion",[]),b=(0,q.Ue)(a,cv(cG));if("error"in b)throw new ck(b.error,"failed to get version");return b.result}async getGenesisHash(){let a=await this._rpcRequest("getGenesisHash",[]),b=(0,q.Ue)(a,cv((0,q.Z_)()));if("error"in b)throw new ck(b.error,"failed to get genesis hash");return b.result}async getBlock(a,b){let{commitment:c,config:d}=cs(b),e=this._buildArgsAtLeastConfirmed([a],c,void 0,d),f=await this._rpcRequest("getBlock",e),g=(0,q.Ue)(f,dt);if("error"in g)throw new ck(g.error,"failed to get confirmed block");let h=g.result;return h?{...h,transactions:h.transactions.map(({transaction:a,meta:b})=>{let c=new bN(a.message);return{meta:b,transaction:{...a,message:c}}})}:h}async getBlockHeight(a){let{commitment:b,config:c}=cs(a),d=this._buildArgs([],b,void 0,c),e=await this._rpcRequest("getBlockHeight",d),f=(0,q.Ue)(e,cv((0,q.Rx)()));if("error"in f)throw new ck(f.error,"failed to get block height information");return f.result}async getBlockProduction(a){let b,c;if("string"==typeof a)c=a;else if(a){let{commitment:d,...e}=a;c=d,b=e}let f=this._buildArgs([],c,"base64",b),g=await this._rpcRequest("getBlockProduction",f),h=(0,q.Ue)(g,cI);if("error"in h)throw new ck(h.error,"failed to get block production information");return h.result}async getTransaction(a,b){let{commitment:c,config:d}=cs(b),e=this._buildArgsAtLeastConfirmed([a],c,void 0,d),f=await this._rpcRequest("getTransaction",e),g=(0,q.Ue)(f,dw);if("error"in g)throw new ck(g.error,"failed to get transaction");let h=g.result;return h?{...h,transaction:{...h.transaction,message:new bN(h.transaction.message)}}:h}async getParsedTransaction(a,b){let{commitment:c,config:d}=cs(b),e=this._buildArgsAtLeastConfirmed([a],c,"jsonParsed",d),f=await this._rpcRequest("getTransaction",e),g=(0,q.Ue)(f,dx);if("error"in g)throw new ck(g.error,"failed to get transaction");return g.result}async getParsedTransactions(a,b){let{commitment:c,config:d}=cs(b),e=a.map(a=>{let b=this._buildArgsAtLeastConfirmed([a],c,"jsonParsed",d);return{methodName:"getTransaction",args:b}}),f=await this._rpcBatchRequest(e),g=f.map(a=>{let b=(0,q.Ue)(a,dx);if("error"in b)throw new ck(b.error,"failed to get transactions");return b.result});return g}async getTransactions(a,b){let{commitment:c,config:d}=cs(b),e=a.map(a=>{let b=this._buildArgsAtLeastConfirmed([a],c,void 0,d);return{methodName:"getTransaction",args:b}}),f=await this._rpcBatchRequest(e),g=f.map(a=>{let b=(0,q.Ue)(a,dw);if("error"in b)throw new ck(b.error,"failed to get transactions");let c=b.result;return c?{...c,transaction:{...c.transaction,message:new bN(c.transaction.message)}}:c});return g}async getConfirmedBlock(a,b){let c=this._buildArgsAtLeastConfirmed([a],b),d=await this._rpcRequest("getConfirmedBlock",c),e=(0,q.Ue)(d,du);if("error"in e)throw new ck(e.error,"failed to get confirmed block");let f=e.result;if(!f)throw Error("Confirmed block "+a+" not found");let g={...f,transactions:f.transactions.map(({transaction:a,meta:b})=>{let c=new bN(a.message);return{meta:b,transaction:{...a,message:c}}})};return{...g,transactions:g.transactions.map(({transaction:a,meta:b})=>({meta:b,transaction:bS.populate(a.message,a.signatures)}))}}async getBlocks(a,b,c){let d=this._buildArgsAtLeastConfirmed(void 0!==b?[a,b]:[a],c),e=await this._rpcRequest("getBlocks",d),f=(0,q.Ue)(e,cv((0,q.IX)((0,q.Rx)())));if("error"in f)throw new ck(f.error,"failed to get blocks");return f.result}async getBlockSignatures(a,b){let c=this._buildArgsAtLeastConfirmed([a],b,void 0,{transactionDetails:"signatures",rewards:!1}),d=await this._rpcRequest("getBlock",c),e=(0,q.Ue)(d,dv);if("error"in e)throw new ck(e.error,"failed to get block");let f=e.result;if(!f)throw Error("Block "+a+" not found");return f}async getConfirmedBlockSignatures(a,b){let c=this._buildArgsAtLeastConfirmed([a],b,void 0,{transactionDetails:"signatures",rewards:!1}),d=await this._rpcRequest("getConfirmedBlock",c),e=(0,q.Ue)(d,dv);if("error"in e)throw new ck(e.error,"failed to get confirmed block");let f=e.result;if(!f)throw Error("Confirmed block "+a+" not found");return f}async getConfirmedTransaction(a,b){let c=this._buildArgsAtLeastConfirmed([a],b),d=await this._rpcRequest("getConfirmedTransaction",c),e=(0,q.Ue)(d,dw);if("error"in e)throw new ck(e.error,"failed to get transaction");let f=e.result;if(!f)return f;let g=new bN(f.transaction.message),h=f.transaction.signatures;return{...f,transaction:bS.populate(g,h)}}async getParsedConfirmedTransaction(a,b){let c=this._buildArgsAtLeastConfirmed([a],b,"jsonParsed"),d=await this._rpcRequest("getConfirmedTransaction",c),e=(0,q.Ue)(d,dx);if("error"in e)throw new ck(e.error,"failed to get confirmed transaction");return e.result}async getParsedConfirmedTransactions(a,b){let c=a.map(a=>{let c=this._buildArgsAtLeastConfirmed([a],b,"jsonParsed");return{methodName:"getConfirmedTransaction",args:c}}),d=await this._rpcBatchRequest(c),e=d.map(a=>{let b=(0,q.Ue)(a,dx);if("error"in b)throw new ck(b.error,"failed to get confirmed transactions");return b.result});return e}async getConfirmedSignaturesForAddress(a,b,c){let d={},e=await this.getFirstAvailableBlock();for(;!("until"in d)&&!(--b<=0)&&!(b<e);)try{let f=await this.getConfirmedBlockSignatures(b,"finalized");f.signatures.length>0&&(d.until=f.signatures[f.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}let h=await this.getSlot("finalized");for(;!("before"in d)&&!(++c>h);)try{let i=await this.getConfirmedBlockSignatures(c);i.signatures.length>0&&(d.before=i.signatures[i.signatures.length-1].toString())}catch(j){if(j instanceof Error&&j.message.includes("skipped"))continue;throw j}let k=await this.getConfirmedSignaturesForAddress2(a,d);return k.map(a=>a.signature)}async getConfirmedSignaturesForAddress2(a,b,c){let d=this._buildArgsAtLeastConfirmed([a.toBase58()],c,void 0,b),e=await this._rpcRequest("getConfirmedSignaturesForAddress2",d),f=(0,q.Ue)(e,c_);if("error"in f)throw new ck(f.error,"failed to get confirmed signatures for address");return f.result}async getSignaturesForAddress(a,b,c){let d=this._buildArgsAtLeastConfirmed([a.toBase58()],c,void 0,b),e=await this._rpcRequest("getSignaturesForAddress",d),f=(0,q.Ue)(e,c0);if("error"in f)throw new ck(f.error,"failed to get signatures for address");return f.result}async getAddressLookupTable(a,b){let{context:c,value:d}=await this.getAccountInfoAndContext(a,b),e=null;return null!==d&&(e=new cm({key:a,state:cm.deserialize(d.data)})),{context:c,value:e}}async getNonceAndContext(a,b){let{context:c,value:d}=await this.getAccountInfoAndContext(a,b),e=null;return null!==d&&(e=b1.fromAccountData(d.data)),{context:c,value:e}}async getNonce(a,b){return await this.getNonceAndContext(a,b).then(a=>a.value).catch(b=>{throw Error("failed to get nonce for account "+a.toBase58()+": "+b)})}async requestAirdrop(a,b){let c=await this._rpcRequest("requestAirdrop",[a.toBase58(),b]),d=(0,q.Ue)(c,dD);if("error"in d)throw new ck(d.error,`airdrop to ${a.toBase58()} failed`);return d.result}async _blockhashWithExpiryBlockHeight(a){if(!a){for(;this._pollingBlockhash;)await bY(100);let b=Date.now()-this._blockhashInfo.lastFetch,c=b>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!c)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let a=Date.now(),b=this._blockhashInfo.latestBlockhash,c=b?b.blockhash:null;for(let d=0;d<50;d++){let e=await this.getLatestBlockhash("finalized");if(c!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await bY(200)}throw Error(`Unable to obtain a new blockhash after ${Date.now()-a}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(a){let{commitment:b,config:c}=cs(a),d=this._buildArgs([],b,"base64",c),e=await this._rpcRequest("getStakeMinimumDelegation",d),f=(0,q.Ue)(e,cw((0,q.Rx)()));if("error"in f)throw new ck(f.error,"failed to get stake minimum delegation");return f.result}async simulateTransaction(a,b,c){let d;if(a instanceof bS){let e=a;(d=new bS).feePayer=e.feePayer,d.instructions=a.instructions,d.nonceInfo=e.nonceInfo,d.signatures=e.signatures}else(d=bS.populate(a))._message=d._json=void 0;if(d.nonceInfo&&b)d.sign(...b);else{let f=this._disableBlockhashCaching;for(;;){let g=await this._blockhashWithExpiryBlockHeight(f);if(d.lastValidBlockHeight=g.lastValidBlockHeight,d.recentBlockhash=g.blockhash,!b)break;if(d.sign(...b),!d.signature)throw Error("!signature");let h=d.signature.toString("base64");if(this._blockhashInfo.simulatedSignatures.includes(h)||this._blockhashInfo.transactionSignatures.includes(h))f=!0;else{this._blockhashInfo.simulatedSignatures.push(h);break}}}let i=d._compile(),j=i.serialize(),k=d._serialize(j),l=k.toString("base64"),m={encoding:"base64",commitment:this.commitment};if(c){let n=(Array.isArray(c)?c:i.nonProgramIds()).map(a=>a.toBase58());m.accounts={encoding:"base64",addresses:n}}b&&(m.sigVerify=!0);let o=await this._rpcRequest("simulateTransaction",[l,m]),p=(0,q.Ue)(o,cH);if("error"in p){let r;if("data"in p.error&&(r=p.error.data.logs)&&Array.isArray(r)){let s="\n    ",t=s+r.join(s);console.error(p.error.message,t)}throw new cj("failed to simulate transaction: "+p.error.message,r)}return p.result}async sendTransaction(a,b,c){if(a.nonceInfo)a.sign(...b);else{let d=this._disableBlockhashCaching;for(;;){let e=await this._blockhashWithExpiryBlockHeight(d);if(a.lastValidBlockHeight=e.lastValidBlockHeight,a.recentBlockhash=e.blockhash,a.sign(...b),!a.signature)throw Error("!signature");let f=a.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(f))d=!0;else{this._blockhashInfo.transactionSignatures.push(f);break}}}let g=a.serialize();return await this.sendRawTransaction(g,c)}async sendRawTransaction(a,b){let c=y(a).toString("base64"),d=await this.sendEncodedTransaction(c,b);return d}async sendEncodedTransaction(a,b){let c={encoding:"base64"},d=b&&b.skipPreflight,e=b&&b.preflightCommitment||this.commitment;b&&null!=b.maxRetries&&(c.maxRetries=b.maxRetries),b&&null!=b.minContextSlot&&(c.minContextSlot=b.minContextSlot),d&&(c.skipPreflight=d),e&&(c.preflightCommitment=e);let f=await this._rpcRequest("sendTransaction",[a,c]),g=(0,q.Ue)(f,dE);if("error"in g){let h;throw"data"in g.error&&(h=g.error.data.logs),new cj("failed to send transaction: "+g.error.message,h)}return g.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(a){this._rpcWebSocketConnected=!1,console.error("ws error:",a.message)}_wsOnClose(a){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3===a){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([a,b])=>{this._subscriptionsByHash[a]={...b,state:"pending"}})}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(a){a instanceof Error&&console.log(`Error when closing socket connection: ${a.message}`)}},500));return}if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let a=this._rpcWebSocketGeneration,b=()=>a===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async a=>{let c=this._subscriptionsByHash[a];if(void 0!==c)switch(c.state){case"pending":case"unsubscribed":if(0===c.callbacks.size){delete this._subscriptionsByHash[a],"unsubscribed"===c.state&&delete this._subscriptionCallbacksByServerSubscriptionId[c.serverSubscriptionId],await this._updateSubscriptions();return}await (async()=>{let{args:d,method:e}=c;try{this._subscriptionsByHash[a]={...c,state:"subscribing"};let f=await this._rpcWebSocket.call(e,d);this._subscriptionsByHash[a]={...c,serverSubscriptionId:f,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[f]=c.callbacks,await this._updateSubscriptions()}catch(g){if(g instanceof Error&&console.error(`${e} error for argument`,d,g.message),!b())return;this._subscriptionsByHash[a]={...c,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===c.callbacks.size&&await (async()=>{let{serverSubscriptionId:d,unsubscribeMethod:e}=c;if(this._subscriptionsAutoDisposedByRpc.has(d))this._subscriptionsAutoDisposedByRpc.delete(d);else{this._subscriptionsByHash[a]={...c,state:"unsubscribing"};try{await this._rpcWebSocket.call(e,[d])}catch(f){if(f instanceof Error&&console.error(`${e} error:`,f.message),!b())return;this._subscriptionsByHash[a]={...c,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[a]={...c,state:"unsubscribed"},await this._updateSubscriptions()})()}}))}_handleServerNotification(a,b){let c=this._subscriptionCallbacksByServerSubscriptionId[a];void 0!==c&&c.forEach(a=>{try{a(...b)}catch(c){console.error(c)}})}_wsOnAccountNotification(a){let{result:b,subscription:c}=(0,q.Ue)(a,c1);this._handleServerNotification(c,[b.value,b.context])}_makeSubscription(a,b){let c=this._nextClientSubscriptionId++,d=cg([a.method,b],!0),e=this._subscriptionsByHash[d];return void 0===e?this._subscriptionsByHash[d]={...a,args:b,callbacks:new Set([a.callback]),state:"pending"}:e.callbacks.add(a.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[c]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[c];let b=this._subscriptionsByHash[d];bO(void 0!==b,`Could not find a \`Subscription\` when tearing down client subscription #${c}`),b.callbacks.delete(a.callback),await this._updateSubscriptions()},this._updateSubscriptions(),c}onAccountChange(a,b,c){let d=this._buildArgs([a.toBase58()],c||this._commitment||"finalized","base64");return this._makeSubscription({callback:b,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},d)}async removeAccountChangeListener(a){await this._unsubscribeClientSubscription(a,"account change")}_wsOnProgramAccountNotification(a){let{result:b,subscription:c}=(0,q.Ue)(a,c3);this._handleServerNotification(c,[{accountId:b.value.pubkey,accountInfo:b.value.account},b.context])}onProgramAccountChange(a,b,c,d){let e=this._buildArgs([a.toBase58()],c||this._commitment||"finalized","base64",d?{filters:d}:void 0);return this._makeSubscription({callback:b,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},e)}async removeProgramAccountChangeListener(a){await this._unsubscribeClientSubscription(a,"program account change")}onLogs(a,b,c){let d=this._buildArgs(["object"==typeof a?{mentions:[a.toString()]}:a],c||this._commitment||"finalized");return this._makeSubscription({callback:b,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},d)}async removeOnLogsListener(a){await this._unsubscribeClientSubscription(a,"logs")}_wsOnLogsNotification(a){let{result:b,subscription:c}=(0,q.Ue)(a,dG);this._handleServerNotification(c,[b.value,b.context])}_wsOnSlotNotification(a){let{result:b,subscription:c}=(0,q.Ue)(a,c5);this._handleServerNotification(c,[b])}onSlotChange(a){return this._makeSubscription({callback:a,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(a){await this._unsubscribeClientSubscription(a,"slot change")}_wsOnSlotUpdatesNotification(a){let{result:b,subscription:c}=(0,q.Ue)(a,c7);this._handleServerNotification(c,[b])}onSlotUpdate(a){return this._makeSubscription({callback:a,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(a){await this._unsubscribeClientSubscription(a,"slot update")}async _unsubscribeClientSubscription(a,b){let c=this._subscriptionDisposeFunctionsByClientSubscriptionId[a];c?await c():console.warn(`Ignored unsubscribe request because an active subscription with id \`${a}\` for '${b}' events could not be found.`)}_buildArgs(a,b,c,d){let e=b||this._commitment;if(e||c||d){let f={};c&&(f.encoding=c),e&&(f.commitment=e),d&&(f=Object.assign(f,d)),a.push(f)}return a}_buildArgsAtLeastConfirmed(a,b,c,d){let e=b||this._commitment;if(e&&!["confirmed","finalized"].includes(e))throw Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(a,b,c,d)}_wsOnSignatureNotification(a){let{result:b,subscription:c}=(0,q.Ue)(a,c8);"receivedSignature"!==b.value&&this._subscriptionsAutoDisposedByRpc.add(c),this._handleServerNotification(c,"receivedSignature"===b.value?[{type:"received"},b.context]:[{type:"status",result:b.value},b.context])}onSignature(a,b,c){let d=this._buildArgs([a],c||this._commitment||"finalized"),e=this._makeSubscription({callback:(a,c)=>{if("status"===a.type){b(a.result,c);try{this.removeSignatureListener(e)}catch(d){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},d);return e}onSignatureWithOptions(a,b,c){let{commitment:d,...e}={...c,commitment:c&&c.commitment||this._commitment||"finalized"},f=this._buildArgs([a],d,void 0,e),g=this._makeSubscription({callback:(a,c)=>{b(a,c);try{this.removeSignatureListener(g)}catch(d){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},f);return g}async removeSignatureListener(a){await this._unsubscribeClientSubscription(a,"signature result")}_wsOnRootNotification(a){let{result:b,subscription:c}=(0,q.Ue)(a,c9);this._handleServerNotification(c,[b])}onRootChange(a){return this._makeSubscription({callback:a,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(a){await this._unsubscribeClientSubscription(a,"root change")}}class dJ{constructor(a){this._keypair=void 0,a?this._keypair=a:this._keypair=h().sign.keyPair()}static generate(){return new dJ(h().sign.keyPair())}static fromSecretKey(a,b){let c=h().sign.keyPair.fromSecretKey(a);if(!b||!b.skipValidation){let d=new TextEncoder,e=d.encode("@solana/web3.js-validation-v1"),f=h().sign.detached(e,c.secretKey);if(!h().sign.detached.verify(e,f,c.publicKey))throw Error("provided secretKey is invalid")}return new dJ(c)}static fromSeed(a){return new dJ(h().sign.keyPair.fromSeed(a))}get publicKey(){return new by(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}let dK=Object.freeze({CreateLookupTable:{index:0,layout:o.n_([o.Jq("instruction"),b3("recentSlot"),o.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:o.n_([o.Jq("instruction")])},ExtendLookupTable:{index:2,layout:o.n_([o.Jq("instruction"),b3(),o.A9(bI(),o.cv(o.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:o.n_([o.Jq("instruction")])},CloseLookupTable:{index:4,layout:o.n_([o.Jq("instruction")])}});(class a{constructor(){}static createLookupTable(a){let[b,c]=by.findProgramAddressSync([a.authority.toBuffer(),(0,p.k$)(BigInt(a.recentSlot),8)],this.programId),d=dK.CreateLookupTable,e=bZ(d,{recentSlot:BigInt(a.recentSlot),bumpSeed:c}),f=[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1},{pubkey:a.payer,isSigner:!0,isWritable:!0},{pubkey:b5.programId,isSigner:!1,isWritable:!1}];return[new bR({programId:this.programId,keys:f,data:e}),b]}static freezeLookupTable(a){let b=dK.FreezeLookupTable,c=bZ(b),d=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1}];return new bR({programId:this.programId,keys:d,data:c})}static extendLookupTable(a){let b=dK.ExtendLookupTable,c=bZ(b,{addresses:a.addresses.map(a=>a.toBytes())}),d=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1}];return a.payer&&d.push({pubkey:a.payer,isSigner:!0,isWritable:!0},{pubkey:b5.programId,isSigner:!1,isWritable:!1}),new bR({programId:this.programId,keys:d,data:c})}static deactivateLookupTable(a){let b=dK.DeactivateLookupTable,c=bZ(b),d=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1}];return new bR({programId:this.programId,keys:d,data:c})}static closeLookupTable(a){let b=dK.CloseLookupTable,c=bZ(b),d=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1},{pubkey:a.recipient,isSigner:!1,isWritable:!0}];return new bR({programId:this.programId,keys:d,data:c})}}).programId=new by("AddressLookupTab1e1111111111111111111111111");let dL=Object.freeze({RequestUnits:{index:0,layout:o.n_([o.u8("instruction"),o.Jq("units"),o.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:o.n_([o.u8("instruction"),o.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:o.n_([o.u8("instruction"),o.Jq("units")])},SetComputeUnitPrice:{index:3,layout:o.n_([o.u8("instruction"),b3("microLamports")])}});(class a{constructor(){}static requestUnits(a){let b=dL.RequestUnits,c=bZ(b,a);return new bR({keys:[],programId:this.programId,data:c})}static requestHeapFrame(a){let b=dL.RequestHeapFrame,c=bZ(b,a);return new bR({keys:[],programId:this.programId,data:c})}static setComputeUnitLimit(a){let b=dL.SetComputeUnitLimit,c=bZ(b,a);return new bR({keys:[],programId:this.programId,data:c})}static setComputeUnitPrice(a){let b=dL.SetComputeUnitPrice,c=bZ(b,{microLamports:BigInt(a.microLamports)});return new bR({keys:[],programId:this.programId,data:c})}}).programId=new by("ComputeBudget111111111111111111111111111111");let dM=o.n_([o.u8("numSignatures"),o.u8("padding"),o.KB("signatureOffset"),o.KB("signatureInstructionIndex"),o.KB("publicKeyOffset"),o.KB("publicKeyInstructionIndex"),o.KB("messageDataOffset"),o.KB("messageDataSize"),o.KB("messageInstructionIndex")]);class dN{constructor(){}static createInstructionWithPublicKey(a){let{publicKey:b,message:c,signature:d,instructionIndex:e}=a;bO(32===b.length,`Public Key must be 32 bytes but received ${b.length} bytes`),bO(64===d.length,`Signature must be 64 bytes but received ${d.length} bytes`);let f=dM.span,g=f+b.length,h=g+d.length,j=i.lW.alloc(h+c.length),k=null==e?65535:e;return dM.encode({numSignatures:1,padding:0,signatureOffset:g,signatureInstructionIndex:k,publicKeyOffset:f,publicKeyInstructionIndex:k,messageDataOffset:h,messageDataSize:c.length,messageInstructionIndex:k},j),j.fill(b,f),j.fill(d,g),j.fill(c,h),new bR({keys:[],programId:dN.programId,data:j})}static createInstructionWithPrivateKey(a){let{privateKey:b,message:c,instructionIndex:d}=a;bO(64===b.length,`Private key must be 64 bytes but received ${b.length} bytes`);try{let e=dJ.fromSecretKey(b),f=e.publicKey.toBytes(),g=h().sign.detached(c,e.secretKey);return this.createInstructionWithPublicKey({publicKey:f,message:c,signature:g,instructionIndex:d})}catch(i){throw Error(`Error creating instruction; ${i}`)}}}dN.programId=new by("Ed25519SigVerify111111111111111111111111111");let{publicKeyCreate:dO,ecdsaSign:dP}=v(),dQ=o.n_([o.u8("numSignatures"),o.KB("signatureOffset"),o.u8("signatureInstructionIndex"),o.KB("ethAddressOffset"),o.u8("ethAddressInstructionIndex"),o.KB("messageDataOffset"),o.KB("messageDataSize"),o.u8("messageInstructionIndex"),o.Ik(20,"ethAddress"),o.Ik(64,"signature"),o.u8("recoveryId")]);class dR{constructor(){}static publicKeyToEthAddress(a){bO(64===a.length,`Public key must be 64 bytes but received ${a.length} bytes`);try{return i.lW.from(x().keccak_256.update(y(a)).digest()).slice(-20)}catch(b){throw Error(`Error constructing Ethereum address: ${b}`)}}static createInstructionWithPublicKey(a){let{publicKey:b,message:c,signature:d,recoveryId:e,instructionIndex:f}=a;return dR.createInstructionWithEthAddress({ethAddress:dR.publicKeyToEthAddress(b),message:c,signature:d,recoveryId:e,instructionIndex:f})}static createInstructionWithEthAddress(a){let{ethAddress:b,message:c,signature:d,recoveryId:e,instructionIndex:f=0}=a,g;bO(20===(g="string"==typeof b?b.startsWith("0x")?i.lW.from(b.substr(2),"hex"):i.lW.from(b,"hex"):b).length,`Address must be 20 bytes but received ${g.length} bytes`);let h=12+g.length,j=h+d.length+1,k=i.lW.alloc(dQ.span+c.length);return dQ.encode({numSignatures:1,signatureOffset:h,signatureInstructionIndex:f,ethAddressOffset:12,ethAddressInstructionIndex:f,messageDataOffset:j,messageDataSize:c.length,messageInstructionIndex:f,signature:y(d),ethAddress:y(g),recoveryId:e},k),k.fill(y(c),dQ.span),new bR({keys:[],programId:dR.programId,data:k})}static createInstructionWithPrivateKey(a){let{privateKey:b,message:c,instructionIndex:d}=a;bO(32===b.length,`Private key must be 32 bytes but received ${b.length} bytes`);try{let e=y(b),f=dO(e,!1).slice(1),g=i.lW.from(x().keccak_256.update(y(c)).digest()),{signature:h,recid:j}=dP(g,e);return this.createInstructionWithPublicKey({publicKey:f,message:c,signature:h,recoveryId:j,instructionIndex:d})}catch(k){throw Error(`Error creating instruction; ${k}`)}}}dR.programId=new by("KeccakSecp256k11111111111111111111111111111");let dS=new by("StakeConfig11111111111111111111111111111111");class dT{constructor(a,b,c){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=a,this.epoch=b,this.custodian=c}}dT.default=new dT(0,0,by.default);let dU=Object.freeze({Initialize:{index:0,layout:o.n_([o.Jq("instruction"),((a="authorized")=>o.n_([bI("staker"),bI("withdrawer")],a))(),((a="lockup")=>o.n_([o.gM("unixTimestamp"),o.gM("epoch"),bI("custodian")],a))()])},Authorize:{index:1,layout:o.n_([o.Jq("instruction"),bI("newAuthorized"),o.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:o.n_([o.Jq("instruction")])},Split:{index:3,layout:o.n_([o.Jq("instruction"),o.gM("lamports")])},Withdraw:{index:4,layout:o.n_([o.Jq("instruction"),o.gM("lamports")])},Deactivate:{index:5,layout:o.n_([o.Jq("instruction")])},Merge:{index:7,layout:o.n_([o.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:o.n_([o.Jq("instruction"),bI("newAuthorized"),o.Jq("stakeAuthorizationType"),bJ("authoritySeed"),bI("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class dV{constructor(){}static initialize(a){let{stakePubkey:b,authorized:c,lockup:d}=a,e=d||dT.default,f=dU.Initialize,g=bZ(f,{authorized:{staker:y(c.staker.toBuffer()),withdrawer:y(c.withdrawer.toBuffer())},lockup:{unixTimestamp:e.unixTimestamp,epoch:e.epoch,custodian:y(e.custodian.toBuffer())}}),h={keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:bV,isSigner:!1,isWritable:!1}],programId:this.programId,data:g};return new bR(h)}static createAccountWithSeed(a){let b=new bS;b.add(b5.createAccountWithSeed({fromPubkey:a.fromPubkey,newAccountPubkey:a.stakePubkey,basePubkey:a.basePubkey,seed:a.seed,lamports:a.lamports,space:this.space,programId:this.programId}));let{stakePubkey:c,authorized:d,lockup:e}=a;return b.add(this.initialize({stakePubkey:c,authorized:d,lockup:e}))}static createAccount(a){let b=new bS;b.add(b5.createAccount({fromPubkey:a.fromPubkey,newAccountPubkey:a.stakePubkey,lamports:a.lamports,space:this.space,programId:this.programId}));let{stakePubkey:c,authorized:d,lockup:e}=a;return b.add(this.initialize({stakePubkey:c,authorized:d,lockup:e}))}static delegate(a){let{stakePubkey:b,authorizedPubkey:c,votePubkey:d}=a,e=dU.Delegate,f=bZ(e);return new bS().add({keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:bW,isSigner:!1,isWritable:!1},{pubkey:dS,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static authorize(a){let{stakePubkey:b,authorizedPubkey:c,newAuthorizedPubkey:d,stakeAuthorizationType:e,custodianPubkey:f}=a,g=dU.Authorize,h=bZ(g,{newAuthorized:y(d.toBuffer()),stakeAuthorizationType:e.index}),i=[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1}];return f&&i.push({pubkey:f,isSigner:!1,isWritable:!1}),new bS().add({keys:i,programId:this.programId,data:h})}static authorizeWithSeed(a){let{stakePubkey:b,authorityBase:c,authoritySeed:d,authorityOwner:e,newAuthorizedPubkey:f,stakeAuthorizationType:g,custodianPubkey:h}=a,i=dU.AuthorizeWithSeed,j=bZ(i,{newAuthorized:y(f.toBuffer()),stakeAuthorizationType:g.index,authoritySeed:d,authorityOwner:y(e.toBuffer())}),k=[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:bT,isSigner:!1,isWritable:!1}];return h&&k.push({pubkey:h,isSigner:!1,isWritable:!1}),new bS().add({keys:k,programId:this.programId,data:j})}static splitInstruction(a){let{stakePubkey:b,authorizedPubkey:c,splitStakePubkey:d,lamports:e}=a,f=dU.Split,g=bZ(f,{lamports:e});return new bR({keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:g})}static split(a){let b=new bS;return b.add(b5.createAccount({fromPubkey:a.authorizedPubkey,newAccountPubkey:a.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),b.add(this.splitInstruction(a))}static splitWithSeed(a){let{stakePubkey:b,authorizedPubkey:c,splitStakePubkey:d,basePubkey:e,seed:f,lamports:g}=a,h=new bS;return h.add(b5.allocate({accountPubkey:d,basePubkey:e,seed:f,space:this.space,programId:this.programId})),h.add(this.splitInstruction({stakePubkey:b,authorizedPubkey:c,splitStakePubkey:d,lamports:g}))}static merge(a){let{stakePubkey:b,sourceStakePubKey:c,authorizedPubkey:d}=a,e=dU.Merge,f=bZ(e);return new bS().add({keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:bW,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static withdraw(a){let{stakePubkey:b,authorizedPubkey:c,toPubkey:d,lamports:e,custodianPubkey:f}=a,g=dU.Withdraw,h=bZ(g,{lamports:e}),i=[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:bW,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}];return f&&i.push({pubkey:f,isSigner:!1,isWritable:!1}),new bS().add({keys:i,programId:this.programId,data:h})}static deactivate(a){let{stakePubkey:b,authorizedPubkey:c}=a,d=dU.Deactivate,e=bZ(d);return new bS().add({keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}}dV.programId=new by("Stake11111111111111111111111111111111111111"),dV.space=200;let dW=Object.freeze({InitializeAccount:{index:0,layout:o.n_([o.Jq("instruction"),((a="voteInit")=>o.n_([bI("nodePubkey"),bI("authorizedVoter"),bI("authorizedWithdrawer"),o.u8("commission")],a))()])},Authorize:{index:1,layout:o.n_([o.Jq("instruction"),bI("newAuthorized"),o.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:o.n_([o.Jq("instruction"),o.gM("lamports")])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class dX{constructor(){}static initializeAccount(a){let{votePubkey:b,nodePubkey:c,voteInit:d}=a,e=dW.InitializeAccount,f=bZ(e,{voteInit:{nodePubkey:y(d.nodePubkey.toBuffer()),authorizedVoter:y(d.authorizedVoter.toBuffer()),authorizedWithdrawer:y(d.authorizedWithdrawer.toBuffer()),commission:d.commission}}),g={keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:bV,isSigner:!1,isWritable:!1},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:f};return new bR(g)}static createAccount(a){let b=new bS;return b.add(b5.createAccount({fromPubkey:a.fromPubkey,newAccountPubkey:a.votePubkey,lamports:a.lamports,space:this.space,programId:this.programId})),b.add(this.initializeAccount({votePubkey:a.votePubkey,nodePubkey:a.voteInit.nodePubkey,voteInit:a.voteInit}))}static authorize(a){let{votePubkey:b,authorizedPubkey:c,newAuthorizedPubkey:d,voteAuthorizationType:e}=a,f=dW.Authorize,g=bZ(f,{newAuthorized:y(d.toBuffer()),voteAuthorizationType:e.index});return new bS().add({keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:g})}static withdraw(a){let{votePubkey:b,authorizedWithdrawerPubkey:c,lamports:d,toPubkey:e}=a,f=dW.Withdraw,g=bZ(f,{lamports:d});return new bS().add({keys:[{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:g})}}dX.programId=new by("Vote111111111111111111111111111111111111111"),dX.space=3731;let dY=new by("Va1idator1nfo111111111111111111111111111111"),dZ=(0,q.dt)({name:(0,q.Z_)(),website:(0,q.jt)((0,q.Z_)()),details:(0,q.jt)((0,q.Z_)()),keybaseUsername:(0,q.jt)((0,q.Z_)())});class d${constructor(a,b){this.key=void 0,this.info=void 0,this.key=a,this.info=b}static fromConfigData(a){let b=32,c=[...a],d=bK(c);if(2!==d)return null;let e=[];for(let f=0;f<2;f++){let g=new by(c.slice(0,b));c=c.slice(b);let h=1===c.slice(0,1)[0];c=c.slice(1),e.push({publicKey:g,isSigner:h})}if(e[0].publicKey.equals(dY)&&e[1].isSigner){let i=bJ().decode(Buffer.from(c)),j=JSON.parse(i);return assert$7(j,dZ),new d$(e[1].publicKey,j)}return null}}new by("Vote111111111111111111111111111111111111111");let d_=o.n_([bI("nodePubkey"),bI("authorizedWithdrawer"),o.u8("commission"),o._O(),o.A9(o.n_([o._O("slot"),o.Jq("confirmationCount")]),o.cv(o.Jq(),-8),"votes"),o.u8("rootSlotValid"),o._O("rootSlot"),o._O(),o.A9(o.n_([o._O("epoch"),bI("authorizedVoter")]),o.cv(o.Jq(),-8),"authorizedVoters"),o.n_([o.A9(o.n_([bI("authorizedPubkey"),o._O("epochOfLastAuthorizedSwitch"),o._O("targetEpoch")]),32,"buf"),o._O("idx"),o.u8("isEmpty")],"priorVoters"),o._O(),o.A9(o.n_([o._O("epoch"),o._O("credits"),o._O("prevCredits")]),o.cv(o.Jq(),-8),"epochCredits"),o.n_([o._O("slot"),o._O("timestamp")],"lastTimestamp")]);class d0{constructor(a){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=a.nodePubkey,this.authorizedWithdrawer=a.authorizedWithdrawer,this.commission=a.commission,this.rootSlot=a.rootSlot,this.votes=a.votes,this.authorizedVoters=a.authorizedVoters,this.priorVoters=a.priorVoters,this.epochCredits=a.epochCredits,this.lastTimestamp=a.lastTimestamp}static fromAccountData(a){let b=d_.decode(y(a),4),c=b.rootSlot;return b.rootSlotValid||(c=null),new d0({nodePubkey:new by(b.nodePubkey),authorizedWithdrawer:new by(b.authorizedWithdrawer),commission:b.commission,votes:b.votes,rootSlot:c,authorizedVoters:b.authorizedVoters.map(d1),priorVoters:d3(b.priorVoters),epochCredits:b.epochCredits,lastTimestamp:b.lastTimestamp})}}function d1({authorizedVoter:a,epoch:b}){return{epoch:b,authorizedVoter:new by(a)}}function d2({authorizedPubkey:a,epochOfLastAuthorizedSwitch:b,targetEpoch:c}){return{authorizedPubkey:new by(a),epochOfLastAuthorizedSwitch:b,targetEpoch:c}}function d3({buf:a,idx:b,isEmpty:c}){return c?[]:[...a.slice(b+1).map(d2),...a.slice(0,b).map(d2)]}}}])