(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(3411)}])},37821:function(a,b,c){"use strict";var d=c(37917),e=c(63021);a.exports={abi:e,contractAddresses:d}},3411:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return K}});var d=c(85893),e=c(9008),f=c.n(e),g=c(214),h=c.n(g),i=c(15790);function j(){return(0,d.jsxs)("nav",{className:"p-5 border-b-2 flex flex-row",children:[(0,d.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:(0,d.jsx)("em",{children:" Decentralised Asphalt Race "})}),(0,d.jsx)("div",{className:"ml-auto py-2 px-4",children:(0,d.jsx)(i.NL,{moralisAuth:!1})})]})}function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}}var m=c(34051),n=c.n(m),o=c(37821),p=c(83078),q=c(67294),r=c(16441),s=c(1581),t=c(48794),u=c(2593);let v=new s.Yd(t.i),w={},x=u.O$.from(0),y=u.O$.from(-1);function z(a,b,c,d){let e={fault:b,operation:c};return void 0!==d&&(e.value=d),v.throwError(a,s.Yd.errors.NUMERIC_FAULT,e)}let A="0";for(;A.length<256;)A+=A;function B(a){if("number"!=typeof a)try{a=u.O$.from(a).toNumber()}catch(b){}return"number"==typeof a&&a>=0&&a<=256&&!(a%1)?"1"+A.substring(0,a):v.throwArgumentError("invalid decimal size","decimals",a)}function C(a,b){null==b&&(b=0);let c=B(b);a=u.O$.from(a);let d=a.lt(x);d&&(a=a.mul(y));let e=a.mod(c).toString();for(;e.length<c.length-1;)e="0"+e;e=e.match(/^([0-9]*[1-9]|0)(0*)/)[1];let f=a.div(c).toString();return a=1===c.length?f:f+"."+e,d&&(a="-"+a),a}function D(a,b){null==b&&(b=0);let c=B(b);"string"==typeof a&&a.match(/^-?[0-9.]+$/)||v.throwArgumentError("invalid decimal value","value",a);let d="-"===a.substring(0,1);d&&(a=a.substring(1)),"."===a&&v.throwArgumentError("missing value","value",a);let e=a.split(".");e.length>2&&v.throwArgumentError("too many decimal points","value",a);let f=e[0],g=e[1];for(f||(f="0"),g||(g="0");"0"===g[g.length-1];)g=g.substring(0,g.length-1);for(g.length>c.length-1&&z("fractional component exceeds decimals","underflow","parseFixed"),""===g&&(g="0");g.length<c.length-1;)g+="0";let h=u.O$.from(f),i=u.O$.from(g),j=h.mul(c).add(i);return d&&(j=j.mul(y)),j}class E{constructor(a,b,c,d){a!==w&&v.throwError("cannot use FixedFormat constructor; use FixedFormat.from",s.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=b,this.width=c,this.decimals=d,this.name=(b?"":"u")+"fixed"+String(c)+"x"+String(d),this._multiplier=B(d),Object.freeze(this)}static from(a){if(a instanceof E)return a;"number"==typeof a&&(a=`fixed128x${a}`);let b=!0,c=128,d=18;if("string"==typeof a){if("fixed"===a);else if("ufixed"===a)b=!1;else{let e=a.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);e||v.throwArgumentError("invalid fixed format","format",a),b="u"!==e[1],c=parseInt(e[2]),d=parseInt(e[3])}}else if(a){let f=(b,c,d)=>null==a[b]?d:(typeof a[b]!==c&&v.throwArgumentError("invalid fixed format ("+b+" not "+c+")","format."+b,a[b]),a[b]);b=f("signed","boolean",b),c=f("width","number",c),d=f("decimals","number",d)}return c%8&&v.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",c),d>80&&v.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",d),new E(w,b,c,d)}}class F{constructor(a,b,c,d){a!==w&&v.throwError("cannot use FixedNumber constructor; use FixedNumber.from",s.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=d,this._hex=b,this._value=c,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(a){this.format.name!==a.format.name&&v.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",a)}addUnsafe(a){this._checkFormat(a);let b=D(this._value,this.format.decimals),c=D(a._value,a.format.decimals);return F.fromValue(b.add(c),this.format.decimals,this.format)}subUnsafe(a){this._checkFormat(a);let b=D(this._value,this.format.decimals),c=D(a._value,a.format.decimals);return F.fromValue(b.sub(c),this.format.decimals,this.format)}mulUnsafe(a){this._checkFormat(a);let b=D(this._value,this.format.decimals),c=D(a._value,a.format.decimals);return F.fromValue(b.mul(c).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(a){this._checkFormat(a);let b=D(this._value,this.format.decimals),c=D(a._value,a.format.decimals);return F.fromValue(b.mul(this.format._multiplier).div(c),this.format.decimals,this.format)}floor(){let a=this.toString().split(".");1===a.length&&a.push("0");let b=F.from(a[0],this.format),c=!a[1].match(/^(0*)$/);return this.isNegative()&&c&&(b=b.subUnsafe(G.toFormat(b.format))),b}ceiling(){let a=this.toString().split(".");1===a.length&&a.push("0");let b=F.from(a[0],this.format),c=!a[1].match(/^(0*)$/);return!this.isNegative()&&c&&(b=b.addUnsafe(G.toFormat(b.format))),b}round(a){null==a&&(a=0);let b=this.toString().split(".");if(1===b.length&&b.push("0"),(a<0||a>80||a%1)&&v.throwArgumentError("invalid decimal count","decimals",a),b[1].length<=a)return this;let c=F.from("1"+A.substring(0,a),this.format),d=H.toFormat(this.format);return this.mulUnsafe(c).addUnsafe(d).floor().divUnsafe(c)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(a){if(null==a)return this._hex;a%8&&v.throwArgumentError("invalid byte width","width",a);let b=u.O$.from(this._hex).fromTwos(this.format.width).toTwos(a).toHexString();return(0,r.$m)(b,a/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(a){return F.fromString(this._value,a)}static fromValue(a,b,c){return null!=c||null==b||(0,u.Zm)(b)||(c=b,b=null),null==b&&(b=0),null==c&&(c="fixed"),F.fromString(C(a,b),E.from(c))}static fromString(a,b){null==b&&(b="fixed");let c=E.from(b),d=D(a,c.decimals);!c.signed&&d.lt(x)&&z("unsigned value cannot be negative","overflow","value",a);let e=null;c.signed?e=d.toTwos(c.width).toHexString():(e=d.toHexString(),e=(0,r.$m)(e,c.width/8));let f=C(d,c.decimals);return new F(w,e,f,c)}static fromBytes(a,b){null==b&&(b="fixed");let c=E.from(b);if((0,r.lE)(a).length>c.width/8)throw Error("overflow");let d=u.O$.from(a);c.signed&&(d=d.fromTwos(c.width));let e=d.toTwos((c.signed?0:1)+c.width).toHexString(),f=C(d,c.decimals);return new F(w,e,f,c)}static from(a,b){if("string"==typeof a)return F.fromString(a,b);if((0,r._t)(a))return F.fromBytes(a,b);try{return F.fromValue(a,0,b)}catch(c){if(c.code!==s.Yd.errors.INVALID_ARGUMENT)throw c}return v.throwArgumentError("invalid FixedNumber value","value",a)}static isFixedNumber(a){return!!(a&&a._isFixedNumber)}}let G=F.from(1),H=F.from("0.5"),I=(new s.Yd("units/5.6.0"),["wei","kwei","mwei","gwei","szabo","finney","ether",]);function J(){var a=(0,p.Nr)(),b=(a.Moralis,a.isWeb3Enabled),c=parseInt(a.chainId),e=c in o.contractAddresses?o.contractAddresses[c][0]:null,f=(0,q.useState)("0"),g=f[0],h=f[1],j=(0,q.useState)("0"),k=j[0],m=j[1],r=(0,q.useState)("0"),s=r[0],t=r[1],u=(0,i.lm)(),v=(0,p.JX)({abi:o.abi,contractAddress:e,functionName:"enterRace",msgValue:g,params:{}}),w=v.runContractFunction,x=(v.data,v.isLoading),y=v.isFetching,z=(0,p.JX)({abi:o.abi,contractAddress:e,functionName:"getEntryFee",params:{}}),A=z.runContractFunction,B=(0,p.JX)({abi:o.abi,contractAddress:e,functionName:"getNumberOfRacers",params:{}}),D=B.runContractFunction,E=(0,p.JX)({abi:o.abi,contractAddress:e,functionName:"getRecentWinner",params:{}}),F=E.runContractFunction;function G(){return H.apply(this,arguments)}function H(){return(H=l(n().mark(function a(){var b,c,d;return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A();case 2:return b=a.sent.toString(),a.next=5,D();case 5:return c=a.sent.toString(),a.next=8,F();case 8:d=a.sent,h(b),m(c),t(d);case 12:case"end":return a.stop()}},a)}))).apply(this,arguments)}(0,q.useEffect)(function(){b&&G()},[b]);var J,K=function(){u({type:"info",message:"Transaction Complete!",title:"Transaction Notification",position:"topR",icon:"bell"})},L=(J=l(n().mark(function a(b){return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.wait(1);case 2:G(),K(b);case 4:case"end":return a.stop()}},a)})),function(a){return J.apply(this,arguments)});return(0,d.jsxs)("div",{className:"p-5",children:[(0,d.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:(0,d.jsx)("em",{children:" Car Race Contest "})}),e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-auto",onClick:l(n().mark(function a(){return n().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w({onSuccess:L,onError:function(a){return console.log(a)}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})),disabled:x||y,children:x||y?(0,d.jsx)("div",{className:"animate-spin spinner-border h-8 w-8 border-b-2 rounded-full"}):"Enter Race"}),(0,d.jsx)("div",{children:(0,d.jsxs)("h3",{className:"py-4 px-4 font-medium text-lg",children:[" Entry Fee: ",function a(b,c){if("string"==typeof c){let d=I.indexOf(c);-1!==d&&(c=3*d)}return C(b,null!=c?c:18)}(g,"ether")," ETH "]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("h3",{className:"py-4 px-4 font-medium text-lg",children:[" The current number of racers is: ",k," "]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("h3",{className:"py-4 px-4 font-medium text-lg",children:[" The most previous winner was: ",s," "]})})]}):(0,d.jsxs)("div",{children:[" ",(0,d.jsxs)("h1",{className:"py-4 px-4 font-bold text-3xl text-red-600",children:["  ",(0,d.jsx)("em",{children:" Please connect to a supported chain(localhost) for this contest entry. Users are welcome to participate in this contest from any part of the Globe as long as they have what it takes to rule the streets with the wheels, people come and go but Racing stays! "})]}),(0,d.jsxs)("div",{children:[" ",(0,d.jsxs)("p",{className:"py-4 px-4 font-bold text-3xl text-red-600",children:[" ",(0,d.jsx)("em",{children:" YOUR FANS ARE WAITING!"})," "]})," "]})]})]})}function K(){return(0,d.jsxs)("div",{className:h().container,children:[(0,d.jsxs)(f(),{children:[(0,d.jsx)("title",{children:"Smart Contract Car Race"}),(0,d.jsx)("meta",{name:"description",content:"Smart Contract Car Race"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsx)(j,{}),(0,d.jsx)(J,{})]})}},214:function(a){a.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},9008:function(a,b,c){a.exports=c(5443)},63021:function(a){"use strict";a.exports=JSON.parse('[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"vrfCoordinatorV2"},{"type":"uint64","name":"subscriptionId"},{"type":"bytes32","name":"gasLane"},{"type":"uint256","name":"interval"},{"type":"uint256","name":"entryFee"},{"type":"uint32","name":"callbackGasLimit"}]},{"type":"error","name":"OnlyCoordinatorCanFulfill","inputs":[{"type":"address","name":"have"},{"type":"address","name":"want"}]},{"type":"error","name":"Race__EntryFeeNotEnough","inputs":[]},{"type":"error","name":"Race__RaceNotOpen","inputs":[]},{"type":"error","name":"Race__TransferFailed","inputs":[]},{"type":"error","name":"Race__UpkeepNotNeeded","inputs":[{"type":"uint256","name":"currentBalance"},{"type":"uint256","name":"numPlayers"},{"type":"uint256","name":"raceState"},{"type":"uint256","name":"carState"}]},{"type":"event","anonymous":false,"name":"RaceEnter","inputs":[{"type":"address","name":"racer","indexed":true}]},{"type":"event","anonymous":false,"name":"RecentBlownTyre","inputs":[{"type":"uint256","name":"requestId","indexed":true}]},{"type":"event","anonymous":false,"name":"RecentFaultyEngine","inputs":[{"type":"uint256","name":"_requestId","indexed":true}]},{"type":"event","anonymous":false,"name":"RequestedRaceWinner","inputs":[{"type":"uint256","name":"requestId","indexed":true}]},{"type":"event","anonymous":false,"name":"winnerPicked","inputs":[{"type":"address","name":"winner","indexed":true}]},{"type":"function","name":"checkUpkeep","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[{"type":"bool","name":"upkeepNeeded"},{"type":"bytes"}]},{"type":"function","name":"enterRace","constant":false,"stateMutability":"payable","payable":true,"gas":29000000,"inputs":[],"outputs":[]},{"type":"function","name":"getCarState","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint8"}]},{"type":"function","name":"getEntryFee","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getInterval","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getLatestTimeStamp","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getNumWords","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getNumberOfRacers","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getRaceState","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint8"}]},{"type":"function","name":"getRacer","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"index"}],"outputs":[{"type":"address"}]},{"type":"function","name":"getRecentWinner","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"getRequestConfirmations","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"i_entryFee","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"performUpkeep","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[]},{"type":"function","name":"rawFulfillRandomWords","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"requestId"},{"type":"uint256[]","name":"randomWords"}],"outputs":[]}]')},37917:function(a){"use strict";a.exports=JSON.parse('{"31337":["0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9"]}')}},function(a){a.O(0,[593,774,888,179],function(){var b;return a(a.s=75557)}),_N_E=a.O()}])