(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[234,293,297],{1482:function(a,b,c){"use strict";c.d(b,{v:function(){return g}});var d=c(45624),e=c(37202),f=c.n(e);class g extends d.J5{async authenticateUser(){var a;if(!this.provider||!(null!==(a=this.chainConfig)&& void 0!==a&&a.chainId))throw d.RM.notConnectedError();let{chainNamespace:b,chainId:c}=this.chainConfig;if(this.status!==d.MP.CONNECTED)throw d.RM.notConnectedError("Not connected with wallet, Please login/connect first");let e=await this.provider.request({method:"getAccounts"});if(e&&e.length>0){let g=(0,d.Cb)(e[0],this.name);if(g){let h=(0,d.$E)(g);if(!h)return{idToken:g}}let i={domain:window.location.origin,uri:window.location.href,address:e[0],chainId:parseInt(c,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},j=await (0,d.tV)(i,b),k=new TextEncoder().encode(j),l=await this.provider.request({method:"signMessage",params:{message:k,display:"utf8"}}),m=await (0,d.rn)(b,f().encode(l),j,this.name,this.sessionTime);return(0,d.Fr)(e[0],this.name,m),{idToken:m}}throw d.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnect(){if(this.status!==d.MP.CONNECTED)throw d.RM.disconnectionError("Not connected with wallet");let a=await this.provider.request({method:"getAccounts"});a&&a.length>0&&(0,d.qz)(a[0],this.name)}}},55777:function(a){"use strict";a.exports=function(a){if(a.length>=255)throw TypeError("Alphabet too long");for(var b=new Uint8Array(256),c=0;c<b.length;c++)b[c]=255;for(var d=0;d<a.length;d++){var e=a.charAt(d),f=e.charCodeAt(0);if(255!==b[f])throw TypeError(e+" is ambiguous");b[f]=d}var g=a.length,h=a.charAt(0),i=Math.log(g)/Math.log(256),j=Math.log(256)/Math.log(g);function k(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;for(var c=0,d=0,e=0;a[c]===h;)d++,c++;for(var f=(a.length-c)*i+1>>>0,j=new Uint8Array(f);a[c];){var k=b[a.charCodeAt(c)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&& -1!==m;m--,l++)k+=g*j[m]>>>0,j[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,c++}for(var n=f-e;n!==f&&0===j[n];)n++;for(var o=new Uint8Array(d+(f-n)),p=d;n!==f;)o[p++]=j[n++];return o}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var i=(f-e)*j+1>>>0,k=new Uint8Array(i);e!==f;){for(var l=b[e],m=0,n=i-1;(0!==l||m<d)&& -1!==n;n--,m++)l+=256*k[n]>>>0,k[n]=l%g>>>0,l=l/g>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var o=i-d;o!==i&&0===k[o];)o++;for(var p=h.repeat(c);o<i;++o)p+=a.charAt(k[o]);return p},decodeUnsafe:k,decode:function(a){var b=k(a);if(b)return b;throw Error("Non-base"+g+" character")}}}},37202:function(a,b,c){let d=c(55777);a.exports=d("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},42848:function(a,b,c){"use strict";c.r(b),c.d(b,{PhantomAdapter:function(){return j}});var d=c(4942),e=c(45624),f=c(1482),g=c(44445);function h(a,b,c){return new Promise((d,e)=>{c>0?setTimeout(async()=>{let f=await a();f&&d(f),f||h(a,b,c-1).then(a=>(d(a),a)).catch(a=>e(a))},b):d(!1)})}let i=async function(){var a;let b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{interval:1e3,count:3},c="undefined"!=typeof window&&!!(null!==(a=window.solana)&& void 0!==a&&a.isPhantom);if(c)return window.solana;let d=await h(()=>{var a;return null===(a=window.solana)|| void 0===a?void 0:a.isPhantom},b.interval,b.count);return d?window.solana:null};class j extends f.v{constructor(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};super(),(0,d.Z)(this,"name",e.rW.PHANTOM),(0,d.Z)(this,"adapterNamespace",e.yk.SOLANA),(0,d.Z)(this,"currentChainNamespace",e.EN.SOLANA),(0,d.Z)(this,"type",e.hN.EXTERNAL),(0,d.Z)(this,"status",e.MP.NOT_READY),(0,d.Z)(this,"_wallet",null),(0,d.Z)(this,"phantomProvider",null),(0,d.Z)(this,"rehydrated",!1),(0,d.Z)(this,"_onDisconnect",()=>{this._wallet&&(this._wallet.off("disconnect",this._onDisconnect),this.rehydrated=!1,this.status=this.status===e.MP.CONNECTED?e.MP.READY:e.MP.NOT_READY,this.emit(e.n2.DISCONNECTED))}),this.chainConfig=a.chainConfig||null,this.sessionTime=a.sessionTime||86400}get isWalletConnected(){var a;return!!(null!==(a=this._wallet)&& void 0!==a&&a.isConnected&&this.status===e.MP.CONNECTED)}get provider(){var a;return(null===(a=this.phantomProvider)|| void 0===a?void 0:a.provider)||null}set provider(a){throw Error("Not implemented")}setAdapterSettings(a){this.status!==e.MP.READY&&null!=a&&a.sessionTime&&(this.sessionTime=a.sessionTime)}async init(a){if(super.checkInitializationRequirements(),this.chainConfig||(this.chainConfig=(0,e.h2)(e.EN.SOLANA,"0x1")),this._wallet=await i({interval:500,count:3}),!this._wallet)throw e.Ty.notInstalled();this.phantomProvider=new g.PhantomInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=e.MP.READY,this.emit(e.n2.READY,e.rW.PHANTOM);try{e.cM.debug("initializing phantom adapter"),a.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(b){e.cM.error("Failed to connect with cached phantom provider",b),this.emit("ERRORED",b)}}async connect(){var a=this;try{if(super.checkConnectionRequirements(),this.status=e.MP.CONNECTING,this.emit(e.n2.CONNECTING,{adapter:e.rW.PHANTOM}),!this._wallet)throw e.Ty.notInstalled();if(this._wallet.isConnected)await this.connectWithProvider(this._wallet);else{let b=this._wallet._handleDisconnect;try{await new Promise((c,d)=>{let f=async()=>{await this.connectWithProvider(this._wallet),c(this.provider)};if(!this._wallet)return d(e.Ty.notInstalled());this._wallet.once("connect",f),this._wallet._handleDisconnect=function(){d(e.Ty.windowClosed());for(var c=arguments.length,f=Array(c),g=0;g<c;g++)f[g]=arguments[g];return b.apply(a._wallet,f)},this._wallet.connect().catch(a=>{d(a)})})}catch(c){if(c instanceof e.up)throw c;throw e.RM.connectionError(null==c?void 0:c.message)}finally{this._wallet._handleDisconnect=b}}if(!this._wallet.publicKey)throw e.RM.connectionError();return this._wallet.on("disconnect",this._onDisconnect),this.provider}catch(d){throw this.status=e.MP.READY,this.rehydrated=!1,this.emit(e.n2.ERRORED,d),d}}async disconnect(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{cleanup:!1};await super.disconnect();try{var b;await (null===(b=this._wallet)|| void 0===b?void 0:b.disconnect()),a.cleanup&&(this.status=e.MP.NOT_READY,this.phantomProvider=null,this._wallet=null),this.emit(e.n2.DISCONNECTED)}catch(c){this.emit(e.n2.ERRORED,e.RM.disconnectionError(null==c?void 0:c.message))}}async getUserInfo(){if(!this.isWalletConnected)throw e.RM.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async connectWithProvider(a){if(!this.phantomProvider)throw e.RM.connectionError("No phantom provider");return await this.phantomProvider.setupProvider(a),this.status=e.MP.CONNECTED,this.emit(e.n2.CONNECTED,{adapter:e.rW.PHANTOM,reconnected:this.rehydrated}),this.provider}}},22399:function(){},78848:function(){}}])